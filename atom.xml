<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LeeZePeng&#39;s Blog</title>
  
  <subtitle>çŸ¥è¡Œåˆä¸€ï¼Œç»ä¸–è‡´ç”¨</subtitle>
  <link href="https://leezepeng.github.io/atom.xml" rel="self"/>
  
  <link href="https://leezepeng.github.io/"/>
  <updated>2021-03-30T09:21:56.868Z</updated>
  <id>https://leezepeng.github.io/</id>
  
  <author>
    <name>LeeZePeng</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>é¢è¯•å…«è‚¡æ–‡</title>
    <link href="https://leezepeng.github.io/2021/03/30/%E9%9D%A2%E8%AF%95%E5%85%AB%E8%82%A1%E6%96%87/"/>
    <id>https://leezepeng.github.io/2021/03/30/%E9%9D%A2%E8%AF%95%E5%85%AB%E8%82%A1%E6%96%87/</id>
    <published>2021-03-30T09:20:14.000Z</published>
    <updated>2021-03-30T09:21:56.868Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JavaåŸºç¡€"><a href="#JavaåŸºç¡€" class="headerlink" title="JavaåŸºç¡€"></a>JavaåŸºç¡€</h2><ol><li>ç±»å’Œå†…éƒ¨ç±»çš„å…³ç³» å†…éƒ¨ç±»ä¸ºä»€ä¹ˆå¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰å±æ€§</li></ol><blockquote><p>åœ¨è™šæ‹Ÿæœºä¸­æ²¡æœ‰å¤–éƒ¨ç±»å†…éƒ¨ç±»ä¹‹åˆ†éƒ½æ˜¯æ™®é€šçš„ç±»ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¼šå·å·çš„åšç‚¹ä¿®æ”¹ï¼Œè®©å†…éƒ¨ç±»ä¸­å¤šä¸€ä¸ªå¸¸é‡å¼•ç”¨æŒ‡å‘å¤–éƒ¨ç±»ï¼Œè‡ªåŠ¨ä¿®æ”¹å†…éƒ¨ç±»æ„é€ å™¨ï¼Œåˆå§‹åŒ–è¿™ä¸ªå¸¸é‡å¼•ç”¨ï¼Œè€Œå¤–éƒ¨ç±»é€šè¿‡æ‰«æå†…éƒ¨ç±»è°ƒç”¨äº†å¤–éƒ¨ç±»çš„é‚£äº›ç§æœ‰å±æ€§ï¼Œä¸ºè¿™äº›ç§æœ‰å±æ€§åˆ›é€ acess$xxxé™æ€æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯è¿”å›å¯¹åº”çš„ç§æœ‰å±æ€§çš„å€¼ã€‚æ‰€ä»¥å¯ä»¥åœ¨ä¸€ä¸ªç±»çš„å¤–éƒ¨è·å–ä¸€ä¸ªç±»çš„ç§æœ‰å±æ€§çš„å€¼</p></blockquote><ol><li>å¦‚ä½•ç†è§£è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»</li></ol><blockquote><p>ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„å †å’Œæ–¹æ³•åŒº (JDK1.8 ä¹‹åçš„å…ƒç©ºé—´)èµ„æºï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆã€‚çº¿ç¨‹æ˜¯è¿›ç¨‹åˆ’åˆ†æˆçš„æ›´å°çš„è¿è¡Œå•ä½ã€‚çº¿ç¨‹å’Œè¿›ç¨‹æœ€å¤§çš„ä¸åŒåœ¨äºåŸºæœ¬ä¸Šå„è¿›ç¨‹æ˜¯ç‹¬ç«‹çš„ï¼Œè€Œå„çº¿ç¨‹åˆ™ä¸ä¸€å®šï¼Œå› ä¸ºåŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹ææœ‰å¯èƒ½ä¼šç›¸äº’å½±å“ã€‚çº¿ç¨‹æ‰§è¡Œå¼€é”€å°ï¼Œä½†ä¸åˆ©äºèµ„æºçš„ç®¡ç†å’Œä¿æŠ¤ï¼›è€Œè¿›ç¨‹æ­£ç›¸åã€‚</p></blockquote><ol><li>çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€</li></ol><blockquote><ul><li><strong>åˆ›å»ºçŠ¶æ€(new)</strong> ï¼šè¿›ç¨‹æ­£åœ¨è¢«åˆ›å»ºï¼Œå°šæœªåˆ°å°±ç»ªçŠ¶æ€ã€‚</li><li><strong>å°±ç»ªçŠ¶æ€(ready)</strong> ï¼šè¿›ç¨‹å·²å¤„äºå‡†å¤‡è¿è¡ŒçŠ¶æ€ï¼Œå³è¿›ç¨‹è·å¾—äº†é™¤äº†å¤„ç†å™¨ä¹‹å¤–çš„ä¸€åˆ‡æ‰€éœ€èµ„æºï¼Œä¸€æ—¦å¾—åˆ°å¤„ç†å™¨èµ„æº(å¤„ç†å™¨åˆ†é…çš„æ—¶é—´ç‰‡)å³å¯è¿è¡Œã€‚</li><li><strong>è¿è¡ŒçŠ¶æ€(running)</strong> ï¼šè¿›ç¨‹æ­£åœ¨å¤„ç†å™¨ä¸Šä¸Šè¿è¡Œ(å•æ ¸ CPU ä¸‹ä»»æ„æ—¶åˆ»åªæœ‰ä¸€ä¸ªè¿›ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€)ã€‚</li><li><strong>é˜»å¡çŠ¶æ€(waiting)</strong> ï¼šåˆç§°ä¸ºç­‰å¾…çŠ¶æ€ï¼Œè¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸä¸€äº‹ä»¶è€Œæš‚åœè¿è¡Œå¦‚ç­‰å¾…æŸèµ„æºä¸ºå¯ç”¨æˆ–ç­‰å¾… IO æ“ä½œå®Œæˆã€‚å³ä½¿å¤„ç†å™¨ç©ºé—²ï¼Œè¯¥è¿›ç¨‹ä¹Ÿä¸èƒ½è¿è¡Œã€‚</li><li><strong>ç»“æŸçŠ¶æ€(terminated)</strong> ï¼šè¿›ç¨‹æ­£åœ¨ä»ç³»ç»Ÿä¸­æ¶ˆå¤±ã€‚å¯èƒ½æ˜¯è¿›ç¨‹æ­£å¸¸ç»“æŸæˆ–å…¶ä»–åŸå› ä¸­æ–­é€€å‡ºè¿è¡Œã€‚</li></ul></blockquote><ol><li>çº¿ç¨‹æ€ä¹ˆè¿›å…¥ç­‰å¾…çŠ¶æ€</li></ol><blockquote><p>æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹å› ç­‰å¾…æŸç§äº‹ä»¶å‘ç”Ÿè€Œæ— æ³•ç»§ç»­æ‰§è¡Œæ—¶ï¼Œä¾¿ä»æ‰§è¡ŒçŠ¶æ€å˜æˆé˜»å¡çŠ¶æ€ã€‚ </p></blockquote><ol><li>çº¿ç¨‹è¿›å…¥è¿è¡ŒçŠ¶æ€çš„å‡ ç§æ–¹å¼</li></ol><blockquote><p><img src="./d38202593012b457debbcd74994c6292.png" alt="process-state"></p></blockquote><ol><li>å•ä¾‹æ¨¡å¼ å¤šçº¿ç¨‹ä¸­çš„å•ä¾‹æ¨¡å¼ å…¶ä¸­ volatile èµ·ä»€ä¹ˆä½œç”¨</li></ol><blockquote><p>å•ä¾‹æ¨¡å¼æ˜¯ä¸€ç§å¯¹è±¡åˆ›å»ºå‹æ¨¡å¼ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œå¯ä»¥ä¿è¯ä¸ºä¸€ä¸ªç±»åªç”Ÿæˆå”¯ä¸€çš„å®ä¾‹å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æ•´ä¸ªç¨‹åºç©ºé—´ä¸­ï¼Œè¯¥ç±»åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹å¯¹è±¡ã€‚</p><p>ä¸ºä»€ä¹ˆä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Ÿ1. åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´ï¼Œæ¯”å¦‚servletç¯å¢ƒï¼Œå…±äº«åŒä¸€ä¸ªèµ„æºæˆ–è€…æ“ä½œåŒä¸€ä¸ªå¯¹è±¡ã€‚2. åœ¨æ•´ä¸ªç¨‹åºç©ºé—´ä½¿ç”¨å…¨å±€å˜é‡ï¼Œå…±äº«èµ„æºã€‚3. å¤§è§„æ¨¡ç³»ç»Ÿä¸­ï¼Œä¸ºäº†æ€§èƒ½çš„è€ƒè™‘ï¼Œéœ€è¦èŠ‚çœå¯¹è±¡çš„åˆ›å»ºæ—¶é—´ç­‰ç­‰ã€‚</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;JavaåŸºç¡€&quot;&gt;&lt;a href=&quot;#JavaåŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;JavaåŸºç¡€&quot;&gt;&lt;/a&gt;JavaåŸºç¡€&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;ç±»å’Œå†…éƒ¨ç±»çš„å…³ç³» å†…éƒ¨ç±»ä¸ºä»€ä¹ˆå¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰å±æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquo</summary>
      
    
    
    
    <category term="å…«è‚¡æ–‡" scheme="https://leezepeng.github.io/categories/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
    
    <category term="å…«è‚¡æ–‡" scheme="https://leezepeng.github.io/tags/%E5%85%AB%E8%82%A1%E6%96%87/"/>
    
    <category term="é¢è¯•" scheme="https://leezepeng.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Javaå­¦ä¹ -Spring(ä¸€)</title>
    <link href="https://leezepeng.github.io/2021/03/22/Java%E5%AD%A6%E4%B9%A0-Spring-%E4%B8%80/"/>
    <id>https://leezepeng.github.io/2021/03/22/Java%E5%AD%A6%E4%B9%A0-Spring-%E4%B8%80/</id>
    <published>2021-03-22T11:55:37.000Z</published>
    <updated>2021-03-25T08:03:26.170Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Springæ¡†æ¶"><a href="#Springæ¡†æ¶" class="headerlink" title="Springæ¡†æ¶"></a>Springæ¡†æ¶</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul><li>Springæ˜¯ä¸ªå¼€æºçš„å…è´¹æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰ï¼</li><li>Springæ˜¯ä¸ªè½»é‡çº§éå…¥ä¾µå¼æ¡†æ¶ï¼</li><li>æ§åˆ¶åè½¬ï¼ˆIOCï¼‰ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰ï¼</li><li>æ”¯æŒäº‹ç‰©å¤„ç†ï¼Œå¯¹æ¡†æ¶æ•´åˆçš„æ”¯æŒï¼</li></ul><blockquote><p>æ€»ç»“ä¸€å¥è¯ï¼šSpringå°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬ï¼ˆIOCï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„æ¡†æ¶ï¼</p></blockquote><span id="more"></span><h3 id="ç»„æˆåŠæ‹“å±•"><a href="#ç»„æˆåŠæ‹“å±•" class="headerlink" title="ç»„æˆåŠæ‹“å±•"></a>ç»„æˆåŠæ‹“å±•</h3><ul><li>Spring Boot<ul><li>ä¸€ä¸ªå¿«é€Ÿå¼€å‘çš„è„šæ‰‹æ¶ã€‚</li><li>åŸºäºSpringBootå¯ä»¥å¿«é€Ÿå¼€å‘å•ä¸ªå¾®æœåŠ¡ã€‚</li><li>çº¦å®šå¤§äºé…ç½®ï¼</li></ul></li><li>Spring Cloud<ul><li>Spring CloudåŸºäºSpring Bootå®ç°çš„ã€‚</li></ul></li></ul><p>å› ä¸ºå¤§å¤šæ•°å…¬å¸éƒ½åœ¨ä½¿ç”¨SpringBootè¿›è¡Œå¿«é€Ÿå¼€å‘ï¼Œå­¦ä¹ SpringCloudå‰æï¼Œéœ€è¦å®Œå…¨æŒæ¡SpringåŠSpringMVCèµ·æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ã€‚</p><blockquote><p>å¼Šç«¯ï¼šç”±äºå‘å±•å¤ªä¹…ï¼Œé…ç½®ååˆ†ç¹çï¼Œè¿èƒŒäº†åŸæ¥çš„ç†å¿µã€‚</p></blockquote><h3 id="IOCç†è®ºæ¨å¯¼"><a href="#IOCç†è®ºæ¨å¯¼" class="headerlink" title="IOCç†è®ºæ¨å¯¼"></a>IOCç†è®ºæ¨å¯¼</h3><ol><li>ä½¿ç”¨æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡ï¼Œé»˜è®¤ï¼</li><li>å‡è®¾æˆ‘ä»¬è¦ä½¿ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡ã€‚<ol><li>ä¸‹æ ‡èµ‹å€¼</li><li>é€šè¿‡ç±»å‹åˆ›å»º</li><li>é€šè¿‡å‚æ•°åæ¥ä¼ å‚</li></ol></li></ol><p>Springå®¹å™¨ï¼Œå°±ç±»ä¼¼äºå©šä»‹ç½‘ç«™ï¼Œé‡Œé¢çš„ç±»åœ¨beanè¢«åˆ›å»ºæ—¶å…¨éƒ½è¢«å®ä¾‹åŒ–äº†ï¼Œå†…å­˜ä¸­æ¯ä¸ªå¯¹è±¡éƒ½ä¼šä¼šå­˜æœ‰ä¸€ä»½ã€‚</p><h3 id="Springé…ç½®"><a href="#Springé…ç½®" class="headerlink" title="Springé…ç½®"></a>Springé…ç½®</h3><h4 id="åˆ«å"><a href="#åˆ«å" class="headerlink" title="åˆ«å"></a>åˆ«å</h4><p>Alias</p><h4 id="Beançš„é…ç½®"><a href="#Beançš„é…ç½®" class="headerlink" title="Beançš„é…ç½®"></a>Beançš„é…ç½®</h4><p>id: beançš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæˆ‘ä»¬å­¦çš„å¯¹è±¡å</p><p>class: beanå¯¹è±¡å¯¹åº”çš„å…¨é™å®šåï¼šåŒ…å+ç±»å‹</p><p>name: ä¹Ÿæ˜¯åˆ«åï¼Œè€Œä¸”nameæ›´é«˜çº§ï¼Œå¯ä»¥åŒæ—¶å–å¤šä¸ªåˆ«å</p><h4 id="import"><a href="#import" class="headerlink" title="import"></a>import</h4><p>ä¸€èˆ¬ç”¨äºå›¢é˜Ÿå¼€å‘ï¼Œå¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥åˆå¹¶ä¸ºä¸€ä¸ª</p><p>å‡è®¾ï¼Œç°åœ¨é¡¹ç›®æœ‰å¤šäººå¼€å‘ï¼Œè¿™ä¸‰ä¸ªäººå¤åˆ¶ä¸åŒçš„ç±»å¼€å‘ï¼Œä¸åŒçš„ç±»éœ€è¦æ³¨å†Œåœ¨ä¸åŒçš„beanä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨importå°†æ‰€æœ‰çš„beans.xmlåˆå¹¶ï¼</p><h3 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a>ä¾èµ–æ³¨å…¥</h3><h4 id="æ„é€ å™¨æ³¨å…¥"><a href="#æ„é€ å™¨æ³¨å…¥" class="headerlink" title="æ„é€ å™¨æ³¨å…¥"></a>æ„é€ å™¨æ³¨å…¥</h4><h4 id="Setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"><a href="#Setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘" class="headerlink" title="Setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"></a>Setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘</h4><ul><li>ä¾èµ–æ³¨å…¥ï¼šSetæ³¨å…¥ï¼<ul><li>ä¾èµ–ï¼šbeanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨ã€‚</li><li>æ³¨å…¥ï¼šbeanå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œç”±å®¹å™¨æ¥æ³¨å…¥ï¼</li></ul></li></ul><p>ã€ç¯å¢ƒæ­å»ºã€‘</p><ol><li><p>å¤æ‚ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Address</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>çœŸå®æµ‹è¯•å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Address address;</span><br><span class="line">    <span class="keyword">private</span> String[] books;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; hobbys;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; card;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; games;</span><br><span class="line">    <span class="keyword">private</span> String wife;</span><br><span class="line">    <span class="keyword">private</span> Properties info;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä½¿ç”¨Springæ¥åˆ›å»ºå¯¹è±¡ï¼Œåœ¨Springè¿™äº›éƒ½ç§°ä¸ºBean--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.pojo.Student&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ™®é€šå€¼æ³¨å…¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ææ³½é¹&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.kuang.pojo.Student;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line">        Student student = (Student) context.getBean(<span class="string">&quot;student&quot;</span>);</span><br><span class="line">        System.out.println(student.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å®Œå–„æ³¨å…¥ä¿¡æ¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä½¿ç”¨Springæ¥åˆ›å»ºå¯¹è±¡ï¼Œåœ¨Springè¿™äº›éƒ½ç§°ä¸ºBean--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;address&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.pojo.Address&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ¹–å—&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.kuang.pojo.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ™®é€šå€¼æ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ææ³½é¹&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--beanæ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;address&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ•°ç»„æ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;books&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>çº¢æ¥¼æ¢¦<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ°´æµ’ä¼ <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>ä¸‰å›½æ¼”ä¹‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Listæ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;hobbys&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¬æ­Œ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>ä»£ç <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>ç”µå½±<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--map--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;èº«ä»½è¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;é“¶è¡Œå¡&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--set--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;games&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>LOL<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>COC<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>BOB<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--null--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;wife&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">null</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--properties--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;å­¦å·&quot;</span>&gt;</span>20190525<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;æ€§åˆ«&quot;</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;username&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="æ‹“å±•æ–¹å¼æ³¨å…¥"><a href="#æ‹“å±•æ–¹å¼æ³¨å…¥" class="headerlink" title="æ‹“å±•æ–¹å¼æ³¨å…¥"></a>æ‹“å±•æ–¹å¼æ³¨å…¥</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨på‘½åç©ºé—´å’Œcå‘½åç©ºé—´è¿›è¡Œæ³¨å…¥</p><p>ä½¿ç”¨</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="line">       xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">       xmlns:p=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span><br><span class="line">       xmlns:c=<span class="string">&quot;http://www.springframework.org/schema/c&quot;</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><span class="line">    &lt;!--ä½¿ç”¨Springæ¥åˆ›å»ºå¯¹è±¡ï¼Œåœ¨Springè¿™äº›éƒ½ç§°ä¸ºBean--&gt;</span><br><span class="line">    &lt;!--på‘½åç©ºé—´æ³¨å…¥ï¼Œå¯ä»¥ç›´æ¥æ³¨å…¥å±æ€§å€¼ï¼šproperty--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;user&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.kuang.pojo.User&quot;</span> p:name=<span class="string">&quot;ææ³½é¹&quot;</span> p:age=<span class="string">&quot;21&quot;</span>/&gt;</span><br><span class="line">    &lt;!--cå‘½åç©ºé—´æ³¨å…¥ï¼Œé€šè¿‡æ„é€ å™¨æ³¨å…¥:construct-arg--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">&quot;user2&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.kuang.pojo.User&quot;</span> c:age=<span class="string">&quot;18&quot;</span> c:name=<span class="string">&quot;ææ³½é¹&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;beans.xml&quot;</span>);</span><br><span class="line">    User user = context.getBean(<span class="string">&quot;user&quot;</span>, User.class);</span><br><span class="line">    System.out.println(user);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼špå‘½åç©ºé—´å’Œcå‘½åç©ºé—´ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦å¯¼å…¥xmlçº¦æŸã€‚</p><h3 id="Beançš„ä½œç”¨åŸŸ"><a href="#Beançš„ä½œç”¨åŸŸ" class="headerlink" title="Beançš„ä½œç”¨åŸŸ"></a>Beançš„ä½œç”¨åŸŸ</h3><p>å•ä¾‹æ¨¡å¼ã€springçš„é»˜è®¤æœºåˆ¶ã€‘</p><p>åŸå‹æ¨¡å¼ï¼šæ¯æ¬¡ä»å®¹å™¨ä¸­getéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡</p><p>å…¶ä»–æ¨¡å¼ï¼šrequest, session,applicationè¿™äº›ä¸ªåªèƒ½åœ¨webå¼€å‘ä¸­ä½¿ç”¨</p><h3 id="è‡ªåŠ¨è£…é…"><a href="#è‡ªåŠ¨è£…é…" class="headerlink" title="è‡ªåŠ¨è£…é…"></a>è‡ªåŠ¨è£…é…</h3><ol><li>è‡ªåŠ¨è£…é…æ˜¯springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹å¼ï¼</li><li>Springä¼šåœ¨ä¸Šä¸‹æ–‡ä¸­è‡ªåŠ¨å¯»æ‰¾å¹¶è‡ªåŠ¨è£…é…å±æ€§ã€‚</li></ol><p>ä¸‰ç§è£…é…æ–¹å¼ï¼š</p><ol><li>åœ¨xmlæ˜¾å¼é…ç½®</li><li>åœ¨javaä¸­æ˜¾ç¤ºé…ç½®</li><li>éšå¼è£…é…ã€é‡ç‚¹ã€‘</li></ol><h3 id="ä½¿ç”¨æ³¨è§£æ¥è‡ªåŠ¨è£…é…"><a href="#ä½¿ç”¨æ³¨è§£æ¥è‡ªåŠ¨è£…é…" class="headerlink" title="ä½¿ç”¨æ³¨è§£æ¥è‡ªåŠ¨è£…é…"></a>ä½¿ç”¨æ³¨è§£æ¥è‡ªåŠ¨è£…é…</h3><ol><li>å¯¼å…¥çº¦æŸã€‚contextçº¦æŸ</li><li>é…ç½®æ³¨è§£çš„æ”¯æŒ</li></ol><h4 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a>@Autowired</h4><p>ç›´æ¥åœ¨å±æ€§ä¸Šä½¿ç”¨å³å¯ï¼ä¹Ÿå¯ä»¥åœ¨setæ–¹æ³•ä¸Šä½¿ç”¨ï¼</p><p>ä½¿ç”¨Autowiredæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç¼–å†™Setæ–¹æ³•äº†ï¼Œå‰ææ˜¯è‡ªåŠ¨è£…é…çš„å±æ€§åœ¨IOCï¼ˆSpringï¼‰å®¹å™¨ä¸­å­˜åœ¨ï¼Œä¸”ç¬¦åˆåå­—bynameï¼</p><p>å¦‚æœè‡ªåŠ¨è£…é…çš„ç¯å¢ƒæ¯”è¾ƒå¤æ‚è‡ªåŠ¨è£…é…æ— æ³•é€šè¿‡ä¸€ä¸ªæ³¨è§£å®Œæˆçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨@Qualifier(value=â€â€)æŒ‡å®šå”¯ä¸€çš„beanå¯¹è±¡æ³¨å…¥ã€‚</p><h4 id="Autowiredå’Œ-Resourceçš„åŒºåˆ«"><a href="#Autowiredå’Œ-Resourceçš„åŒºåˆ«" class="headerlink" title="@Autowiredå’Œ@Resourceçš„åŒºåˆ«"></a>@Autowiredå’Œ@Resourceçš„åŒºåˆ«</h4><ul><li>éƒ½æ˜¯ç”¨æ¥è‡ªåŠ¨è£…é…çš„ï¼Œéƒ½å¯ä»¥æ”¾åœ¨å±æ€§å­—æ®µä¸Š</li><li>@Autowiredé€šè¿‡bytypeæ–¹å¼å®ç°ã€å¸¸ç”¨ã€‘</li><li>@Resourceé€šè¿‡bynameå®ç°ï¼Œå¦‚æœæ‰¾ä¸åˆ°åå­—ï¼Œåˆ™é€šè¿‡bytypeæ–¹å¼å®ç°ã€‚ã€å¸¸ç”¨ã€‘</li><li>æ‰§è¡Œé¡ºåºä¸åŒï¼š@Autowiredé€šè¿‡byTypeçš„æ–¹å¼å®ç°ï¼Œ@Resourceé€šè¿‡bynameçš„æ–¹å¼å®ç°ã€‚</li></ul><h3 id="ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="ä½¿ç”¨æ³¨è§£å¼€å‘"></a>ä½¿ç”¨æ³¨è§£å¼€å‘</h3><blockquote><p>åœ¨spring4åè¦ä½¿ç”¨æ³¨è§£å¼€å‘å¿…é¡»ä¿è¯aopåŒ…å¯¼å…¥ã€‚</p></blockquote><ol><li><p>bean</p></li><li><p>å±æ€§å¦‚ä½•æ³¨å…¥</p></li><li><p>è¡ç”Ÿçš„æ³¨è§£</p><p>@Componentæœ‰å‡ ä¸ªè¡ç”Ÿçš„æ³¨è§£ï¼Œæˆ‘ä»¬åœ¨webå¼€å‘ä¸­ï¼Œä¼šæŒ‰ç…§mvcä¸‰å±‚æ¶æ„åˆ†å±‚ï¼</p><ul><li><p>daoã€@Respositoryã€‘</p></li><li><p>serviceã€@Serviceã€‘</p></li><li><p>controllerã€@Controllerã€‘</p><p>è¿™å››ä¸ªæ³¨è§£åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä»£è¡¨å°†æŸä¸ªç±»æ³¨å†Œåˆ°Springä¸­ï¼Œè£…é…Bean</p></li></ul></li><li><p>è‡ªåŠ¨è£…é…</p></li><li><p>ä½œç”¨åŸŸ</p><p>@Scope(â€œprototypeâ€)</p></li><li><p>å°ç»“</p><p>xmlä¸æ³¨è§£ï¼š</p><ul><li>xmlæ›´åŠ ä¸‡èƒ½ï¼Œé€‚ç”¨äºä»»ä½•åœºåˆï¼ç»´æŠ¤ç®€å•æ–¹ä¾¿</li><li>æ³¨è§£ä¸æ˜¯è‡ªå·±çš„ç±»ä½¿ç”¨ä¸äº†ï¼Œç»´æŠ¤ç›¸å¯¹å¤æ‚</li></ul><p>xmlä¸æ³¨è§£æœ€ä½³å®è·µ</p><ul><li>xmlç®¡ç†bean</li><li>æ³¨è§£è´Ÿè´£å±æ€§çš„æ³¨å…¥</li><li>æˆ‘ä»¬åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­åªéœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼šå¿…é¡»è®©æ³¨è§£ç”Ÿæ•ˆï¼Œå°±éœ€è¦å¼€å¯æ³¨è§£çš„æ”¯æŒ</li></ul></li></ol><h3 id="ä½¿ç”¨javaçš„æ–¹å¼é…ç½®spring"><a href="#ä½¿ç”¨javaçš„æ–¹å¼é…ç½®spring" class="headerlink" title="ä½¿ç”¨javaçš„æ–¹å¼é…ç½®spring"></a>ä½¿ç”¨javaçš„æ–¹å¼é…ç½®spring</h3><p>æˆ‘ä»¬ç°åœ¨å®Œå…¨ä¸ä½¿ç”¨springçš„xmlé…ç½®äº†ï¼Œå…¨æƒäº¤ç»™javaæ¥åš</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.kuang.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> User();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;Springæ¡†æ¶&quot;&gt;&lt;a href=&quot;#Springæ¡†æ¶&quot; class=&quot;headerlink&quot; title=&quot;Springæ¡†æ¶&quot;&gt;&lt;/a&gt;Springæ¡†æ¶&lt;/h2&gt;&lt;h3 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h3&gt;&lt;h4 id=&quot;ä¼˜ç‚¹&quot;&gt;&lt;a href=&quot;#ä¼˜ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;ä¼˜ç‚¹&quot;&gt;&lt;/a&gt;ä¼˜ç‚¹&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;Springæ˜¯ä¸ªå¼€æºçš„å…è´¹æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰ï¼&lt;/li&gt;
&lt;li&gt;Springæ˜¯ä¸ªè½»é‡çº§éå…¥ä¾µå¼æ¡†æ¶ï¼&lt;/li&gt;
&lt;li&gt;æ§åˆ¶åè½¬ï¼ˆIOCï¼‰ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰ï¼&lt;/li&gt;
&lt;li&gt;æ”¯æŒäº‹ç‰©å¤„ç†ï¼Œå¯¹æ¡†æ¶æ•´åˆçš„æ”¯æŒï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ€»ç»“ä¸€å¥è¯ï¼šSpringå°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬ï¼ˆIOCï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„æ¡†æ¶ï¼&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="Spring" scheme="https://leezepeng.github.io/categories/Spring/"/>
    
    
    <category term="ç¬”è®°" scheme="https://leezepeng.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Spring" scheme="https://leezepeng.github.io/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•æŠ€å·§-åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶</title>
    <link href="https://leezepeng.github.io/2021/03/18/%E7%AE%97%E6%B3%95%E6%8A%80%E5%B7%A7-%E4%B8%80%E4%BA%9B%E5%A5%97%E8%B7%AF%E6%A1%86%E6%9E%B6/"/>
    <id>https://leezepeng.github.io/2021/03/18/%E7%AE%97%E6%B3%95%E6%8A%80%E5%B7%A7-%E4%B8%80%E4%BA%9B%E5%A5%97%E8%B7%AF%E6%A1%86%E6%9E%B6/</id>
    <published>2021-03-18T11:19:18.000Z</published>
    <updated>2021-03-18T13:22:29.450Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶ï¼š"><a href="#åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶ï¼š" class="headerlink" title="åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶ï¼š"></a>åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶ï¼š</h2><p>è§£é¢˜å…³é”®ï¼šæ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚</p><p>æ‰¾åˆ°baseæƒ…å†µ-&gt;æ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹-&gt;åˆ©ç”¨å¤‡å¿˜å½•ï¼ˆè‡ªä¸Šè€Œä¸‹ï¼‰æˆ–è€…dpæ•°ç»„ï¼ˆè‡ªä¸‹è€Œä¸Šï¼‰é¿å…é‡å¤è®¡ç®—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># åˆå§‹åŒ– base case</span><br><span class="line">dp[<span class="number">0</span>][<span class="number">0</span>][...] = base</span><br><span class="line"># è¿›è¡ŒçŠ¶æ€è½¬ç§»</span><br><span class="line"><span class="keyword">for</span> çŠ¶æ€<span class="number">1</span> in çŠ¶æ€<span class="number">1</span>çš„æ‰€æœ‰å–å€¼ï¼š</span><br><span class="line">    <span class="keyword">for</span> çŠ¶æ€<span class="number">2</span> in çŠ¶æ€<span class="number">2</span>çš„æ‰€æœ‰å–å€¼ï¼š</span><br><span class="line">        <span class="keyword">for</span> ...</span><br><span class="line">            dp[çŠ¶æ€<span class="number">1</span>][çŠ¶æ€<span class="number">2</span>][...] = æ±‚æœ€å€¼(é€‰æ‹©<span class="number">1</span>ï¼Œé€‰æ‹©<span class="number">2.</span>..)</span><br></pre></td></tr></table></figure><span id="more"></span><p>ä¸¾ä¸ªğŸŒ°ï¼š</p><h3 id="1ã€æ–æ³¢é‚£å¥‘æ•°"><a href="#1ã€æ–æ³¢é‚£å¥‘æ•°" class="headerlink" title="1ã€æ–æ³¢é‚£å¥‘æ•°"></a>1ã€æ–æ³¢é‚£å¥‘æ•°</h3><p>æ–æ³¢é‚£å¥‘æ•°ï¼Œé€šå¸¸ç”¨ F(n) è¡¨ç¤ºï¼Œå½¢æˆçš„åºåˆ—ç§°ä¸º æ–æ³¢é‚£å¥‘æ•°åˆ— ã€‚è¯¥æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ä¹Ÿå°±æ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">F(<span class="number">0</span>) = <span class="number">0</span>ï¼ŒF(<span class="number">1</span>) = <span class="number">1</span></span><br><span class="line">F(n) = F(n - <span class="number">1</span>) + F(n - <span class="number">2</span>)ï¼Œå…¶ä¸­ n &gt; <span class="number">1</span></span><br></pre></td></tr></table></figure><p>ç»™ä½  <code>n</code> ï¼Œè¯·è®¡ç®— F(n) ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šF(<span class="number">2</span>) = F(<span class="number">1</span>) + F(<span class="number">0</span>) = <span class="number">1</span> + <span class="number">0</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ 2ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼šF(<span class="number">3</span>) = F(<span class="number">2</span>) + F(<span class="number">1</span>) = <span class="number">1</span> + <span class="number">1</span> = <span class="number">2</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ 3ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šF(<span class="number">4</span>) = F(<span class="number">3</span>) + F(<span class="number">2</span>) = <span class="number">2</span> + <span class="number">1</span> = <span class="number">3</span></span><br></pre></td></tr></table></figure><p>æç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> &lt;= n &lt;= <span class="number">30</span></span><br></pre></td></tr></table></figure><p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/fibonacci-number">https://leetcode-cn.com/problems/fibonacci-number</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] pd = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">30</span>];</span><br><span class="line">        pd[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        pd[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;i &lt; n;i++)&#123;</span><br><span class="line">            pd[i] = pd[i-<span class="number">2</span>]+pd[i-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pd[n-<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2ã€é›¶é’±å…‘æ¢"><a href="#2ã€é›¶é’±å…‘æ¢" class="headerlink" title="2ã€é›¶é’±å…‘æ¢"></a>2ã€<a href="https://leetcode-cn.com/problems/coin-change/">é›¶é’±å…‘æ¢</a></h3><p>ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚</p><p>ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>], amount = <span class="number">11</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span> </span><br><span class="line">è§£é‡Šï¼š<span class="number">11</span> = <span class="number">5</span> + <span class="number">5</span> + <span class="number">1</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ 2ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [<span class="number">2</span>], amount = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ 3ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [<span class="number">1</span>], amount = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ 4ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [<span class="number">1</span>], amount = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ 5ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [<span class="number">1</span>], amount = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br></pre></td></tr></table></figure><p>æç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;= coins.length &lt;= <span class="number">12</span></span><br><span class="line"><span class="number">1</span> &lt;= coins[i] &lt;= <span class="number">231</span> - <span class="number">1</span></span><br><span class="line"><span class="number">0</span> &lt;= amount &lt;= <span class="number">104</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[amount+<span class="number">1</span>];</span><br><span class="line">        Arrays.fill(dp,amount+<span class="number">1</span>);<span class="comment">//ä¸€ä¸ªæ˜¯æ—¢ç„¶æ±‚æœ€å°å€¼ï¼Œé‚£ä¹ˆæ¯ä¸ªçŠ¶æ€éƒ½è¦åˆå§‹åŒ–ä¸ºæœ€åæƒ…å†µæˆ–è€…æ›´å</span></span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span>;<span class="comment">//åˆå§‹çŠ¶æ€ä¸èƒ½è¢«è¦†ç›–</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; amount+<span class="number">1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; coins.length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i&lt;coins[j])&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                dp[i] = Math.min(dp[i-coins[j]]+<span class="number">1</span>,dp[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (dp[amount] == amount + <span class="number">1</span>) ? -<span class="number">1</span> : dp[amount];<span class="comment">//æ— ç»“æœçš„æƒ…å†µ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶ï¼š&quot;&gt;&lt;a href=&quot;#åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶ï¼š&quot; class=&quot;headerlink&quot; title=&quot;åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶ï¼š&quot;&gt;&lt;/a&gt;åŠ¨æ€è§„åˆ’è§£é¢˜æ¡†æ¶ï¼š&lt;/h2&gt;&lt;p&gt;è§£é¢˜å…³é”®ï¼šæ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;æ‰¾åˆ°baseæƒ…å†µ-&amp;gt;æ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹-&amp;gt;åˆ©ç”¨å¤‡å¿˜å½•ï¼ˆè‡ªä¸Šè€Œä¸‹ï¼‰æˆ–è€…dpæ•°ç»„ï¼ˆè‡ªä¸‹è€Œä¸Šï¼‰é¿å…é‡å¤è®¡ç®—&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# åˆå§‹åŒ– base case&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;dp[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;][...] = base&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;# è¿›è¡ŒçŠ¶æ€è½¬ç§»&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; çŠ¶æ€&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt; in çŠ¶æ€&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;çš„æ‰€æœ‰å–å€¼ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; çŠ¶æ€&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; in çŠ¶æ€&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;çš„æ‰€æœ‰å–å€¼ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            dp[çŠ¶æ€&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;][çŠ¶æ€&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;][...] = æ±‚æœ€å€¼(é€‰æ‹©&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;ï¼Œé€‰æ‹©&lt;span class=&quot;number&quot;&gt;2.&lt;/span&gt;..)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="æ•°æ®ç»“æ„ä¸ç®—æ³•" scheme="https://leezepeng.github.io/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="ç®—æ³•" scheme="https://leezepeng.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="æŠ€å·§æ€»ç»“" scheme="https://leezepeng.github.io/tags/%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>JAVAå¤ä¹ -åŸºç¡€éƒ¨åˆ†</title>
    <link href="https://leezepeng.github.io/2021/03/16/JAVA%E5%A4%8D%E4%B9%A0-%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/"/>
    <id>https://leezepeng.github.io/2021/03/16/JAVA%E5%A4%8D%E4%B9%A0-%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86/</id>
    <published>2021-03-16T11:30:11.000Z</published>
    <updated>2021-03-16T14:20:51.045Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JAVAå…¥é—¨é‡ç‚¹"><a href="#JAVAå…¥é—¨é‡ç‚¹" class="headerlink" title="JAVAå…¥é—¨é‡ç‚¹"></a>JAVAå…¥é—¨é‡ç‚¹</h2><h3 id="å…³äº-JVM-JDK-å’Œ-JRE"><a href="#å…³äº-JVM-JDK-å’Œ-JRE" class="headerlink" title="å…³äº JVM JDK å’Œ JRE"></a>å…³äº JVM JDK å’Œ JRE</h3><h4 id="jvm"><a href="#jvm" class="headerlink" title="jvm"></a>jvm</h4><p>ç¨‹åºä»æºä»£ç åˆ°è¿è¡Œä¸€èˆ¬æœ‰ä¸‹é¢ 3 æ­¥ï¼š</p><p><img src="https://s3.ax1x.com/2021/03/16/6yWlan.png" alt="6yWlan.png"></p><p>æˆ‘ä»¬éœ€è¦æ ¼å¤–æ³¨æ„çš„æ˜¯ .class-&gt;æœºå™¨ç  è¿™ä¸€æ­¥ã€‚åœ¨è¿™ä¸€æ­¥ JVM ç±»åŠ è½½å™¨é¦–å…ˆåŠ è½½å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è§£é‡Šå™¨é€è¡Œè§£é‡Šæ‰§è¡Œï¼Œè¿™ç§æ–¹å¼çš„æ‰§è¡Œé€Ÿåº¦ä¼šç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚è€Œä¸”ï¼Œæœ‰äº›æ–¹æ³•å’Œä»£ç å—æ˜¯ç»å¸¸éœ€è¦è¢«è°ƒç”¨çš„(ä¹Ÿå°±æ˜¯æ‰€è°“çš„çƒ­ç‚¹ä»£ç )ï¼Œæ‰€ä»¥åé¢å¼•è¿›äº† JIT ç¼–è¯‘å™¨ï¼Œè€Œ JIT å±äºè¿è¡Œæ—¶ç¼–è¯‘ã€‚å½“ JIT ç¼–è¯‘å™¨å®Œæˆç¬¬ä¸€æ¬¡ç¼–è¯‘åï¼Œå…¶ä¼šå°†å­—èŠ‚ç å¯¹åº”çš„æœºå™¨ç ä¿å­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚è€Œæˆ‘ä»¬çŸ¥é“ï¼Œæœºå™¨ç çš„è¿è¡Œæ•ˆç‡è‚¯å®šæ˜¯é«˜äº Java è§£é‡Šå™¨çš„ã€‚è¿™ä¹Ÿè§£é‡Šäº†æˆ‘ä»¬ä¸ºä»€ä¹ˆç»å¸¸ä¼šè¯´ Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€ã€‚</p><span id="more"></span><p><strong>æ€»ç»“ï¼šJava è™šæ‹Ÿæœºï¼ˆJVMï¼‰æ˜¯è¿è¡Œ Java å­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚JVM æœ‰é’ˆå¯¹ä¸åŒç³»ç»Ÿçš„ç‰¹å®šå®ç°ï¼ˆWindowsï¼ŒLinuxï¼ŒmacOSï¼‰ï¼Œç›®çš„æ˜¯ä½¿ç”¨ç›¸åŒçš„å­—èŠ‚ç ï¼Œå®ƒä»¬éƒ½ä¼šç»™å‡ºç›¸åŒçš„ç»“æœã€‚å­—èŠ‚ç å’Œä¸åŒç³»ç»Ÿçš„ JVM å®ç°æ˜¯ Java è¯­è¨€â€œä¸€æ¬¡ç¼–è¯‘ï¼Œéšå¤„å¯ä»¥è¿è¡Œâ€çš„å…³é”®æ‰€åœ¨ã€‚</strong></p><h4 id="jdkå’Œjre"><a href="#jdkå’Œjre" class="headerlink" title="jdkå’Œjre"></a>jdkå’Œjre</h4><ul><li>JDK æ˜¯ Java Development Kit ç¼©å†™ï¼Œå®ƒæ˜¯åŠŸèƒ½é½å…¨çš„ Java SDKã€‚å®ƒæ‹¥æœ‰ JRE æ‰€æ‹¥æœ‰çš„ä¸€åˆ‡ï¼Œè¿˜æœ‰ç¼–è¯‘å™¨ï¼ˆjavacï¼‰å’Œå·¥å…·ï¼ˆå¦‚ javadoc å’Œ jdbï¼‰ã€‚å®ƒèƒ½å¤Ÿåˆ›å»ºå’Œç¼–è¯‘ç¨‹åºã€‚</li><li>JRE æ˜¯ Java è¿è¡Œæ—¶ç¯å¢ƒã€‚å®ƒæ˜¯è¿è¡Œå·²ç¼–è¯‘ Java ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰å†…å®¹çš„é›†åˆï¼ŒåŒ…æ‹¬ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ï¼ŒJava ç±»åº“ï¼Œjava å‘½ä»¤å’Œå…¶ä»–çš„ä¸€äº›åŸºç¡€æ„ä»¶ã€‚ä½†æ˜¯ï¼Œå®ƒä¸èƒ½ç”¨äºåˆ›å»ºæ–°ç¨‹åºã€‚</li><li>æœ‰æ—¶ä¸æ‰“ç®—åœ¨è®¡ç®—æœºä¸Šè¿›è¡Œä»»ä½• Java å¼€å‘ï¼Œä»ç„¶éœ€è¦å®‰è£… JDKã€‚ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨ JSP éƒ¨ç½² Web åº”ç”¨ç¨‹åºï¼Œåº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¼šå°† JSP è½¬æ¢ä¸º Java servletï¼Œå¹¶ä¸”éœ€è¦ä½¿ç”¨ JDK æ¥ç¼–è¯‘ servletã€‚</li></ul><h4 id="Oracle-JDK-å’Œ-OpenJDK-çš„å¯¹æ¯”"><a href="#Oracle-JDK-å’Œ-OpenJDK-çš„å¯¹æ¯”" class="headerlink" title="Oracle JDK å’Œ OpenJDK çš„å¯¹æ¯”"></a>Oracle JDK å’Œ OpenJDK çš„å¯¹æ¯”</h4><ol><li>Oracle JDK å¤§æ¦‚æ¯ 6 ä¸ªæœˆå‘ä¸€æ¬¡ä¸»è¦ç‰ˆæœ¬ï¼Œè€Œ OpenJDK ç‰ˆæœ¬å¤§æ¦‚æ¯ä¸‰ä¸ªæœˆå‘å¸ƒä¸€æ¬¡ã€‚ä½†è¿™ä¸æ˜¯å›ºå®šçš„ï¼Œæˆ‘è§‰å¾—äº†è§£è¿™ä¸ªæ²¡å•¥ç”¨å¤„ã€‚è¯¦æƒ…å‚è§ï¼š<a href="https://blogs.oracle.com/java-platform-group/update-and-faq-on-the-java-se-release-cadence">https://blogs.oracle.com/java-platform-group/update-and-faq-on-the-java-se-release-cadence</a> ã€‚</li><li>OpenJDK æ˜¯ä¸€ä¸ªå‚è€ƒæ¨¡å‹å¹¶ä¸”æ˜¯å®Œå…¨å¼€æºçš„ï¼Œè€Œ Oracle JDK æ˜¯ OpenJDK çš„ä¸€ä¸ªå®ç°ï¼Œå¹¶ä¸æ˜¯å®Œå…¨å¼€æºçš„ï¼›</li><li>Oracle JDK æ¯” OpenJDK æ›´ç¨³å®šã€‚OpenJDK å’Œ Oracle JDK çš„ä»£ç å‡ ä¹ç›¸åŒï¼Œä½† Oracle JDK æœ‰æ›´å¤šçš„ç±»å’Œä¸€äº›é”™è¯¯ä¿®å¤ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨æƒ³å¼€å‘ä¼ä¸š/å•†ä¸šè½¯ä»¶ï¼Œæˆ‘å»ºè®®æ‚¨é€‰æ‹© Oracle JDKï¼Œå› ä¸ºå®ƒç»è¿‡äº†å½»åº•çš„æµ‹è¯•å’Œç¨³å®šã€‚æŸäº›æƒ…å†µä¸‹ï¼Œæœ‰äº›äººæåˆ°åœ¨ä½¿ç”¨ OpenJDK å¯èƒ½ä¼šé‡åˆ°äº†è®¸å¤šåº”ç”¨ç¨‹åºå´©æºƒçš„é—®é¢˜ï¼Œä½†æ˜¯ï¼Œåªéœ€åˆ‡æ¢åˆ° Oracle JDK å°±å¯ä»¥è§£å†³é—®é¢˜ï¼›</li><li>åœ¨å“åº”æ€§å’Œ JVM æ€§èƒ½æ–¹é¢ï¼ŒOracle JDK ä¸ OpenJDK ç›¸æ¯”æä¾›äº†æ›´å¥½çš„æ€§èƒ½ï¼›</li><li>Oracle JDK ä¸ä¼šä¸ºå³å°†å‘å¸ƒçš„ç‰ˆæœ¬æä¾›é•¿æœŸæ”¯æŒï¼Œç”¨æˆ·æ¯æ¬¡éƒ½å¿…é¡»é€šè¿‡æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬è·å¾—æ”¯æŒæ¥è·å–æœ€æ–°ç‰ˆæœ¬ï¼›</li><li>Oracle JDK æ ¹æ®äºŒè¿›åˆ¶ä»£ç è®¸å¯åè®®è·å¾—è®¸å¯ï¼Œè€Œ OpenJDK æ ¹æ® GPL v2 è®¸å¯è·å¾—è®¸å¯ã€‚</li></ol><h3 id="Java-å’Œ-C-çš„åŒºåˆ«"><a href="#Java-å’Œ-C-çš„åŒºåˆ«" class="headerlink" title="Java å’Œ C++çš„åŒºåˆ«"></a>Java å’Œ C++çš„åŒºåˆ«</h3><ul><li>éƒ½æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œéƒ½æ”¯æŒå°è£…ã€ç»§æ‰¿å’Œå¤šæ€</li><li>Java ä¸æä¾›æŒ‡é’ˆæ¥ç›´æ¥è®¿é—®å†…å­˜ï¼Œç¨‹åºå†…å­˜æ›´åŠ å®‰å…¨</li><li>Java çš„ç±»æ˜¯å•ç»§æ‰¿çš„ï¼ŒC++ æ”¯æŒå¤šé‡ç»§æ‰¿ï¼›è™½ç„¶ Java çš„ç±»ä¸å¯ä»¥å¤šç»§æ‰¿ï¼Œä½†æ˜¯æ¥å£å¯ä»¥å¤šç»§æ‰¿ã€‚</li><li>Java æœ‰è‡ªåŠ¨å†…å­˜ç®¡ç†åƒåœ¾å›æ”¶æœºåˆ¶(GC)ï¼Œä¸éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾æ— ç”¨å†…å­˜</li><li><strong>åœ¨ C è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²æˆ–å­—ç¬¦æ•°ç»„æœ€åéƒ½ä¼šæœ‰ä¸€ä¸ªé¢å¤–çš„å­—ç¬¦<code>&#39;\0&#39;</code>æ¥è¡¨ç¤ºç»“æŸã€‚ä½†æ˜¯ï¼ŒJava è¯­è¨€ä¸­æ²¡æœ‰ç»“æŸç¬¦è¿™ä¸€æ¦‚å¿µã€‚</strong> è¿™æ˜¯ä¸€ä¸ªå€¼å¾—æ·±åº¦æ€è€ƒçš„é—®é¢˜ï¼Œå…·ä½“åŸå› æ¨èçœ‹è¿™ç¯‡æ–‡ç« ï¼š <a href="https://blog.csdn.net/sszgg2006/article/details/49148189">https://blog.csdn.net/sszgg2006/article/details/49148189</a></li></ul><h3 id="Java-æ³›å‹äº†è§£ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„é€šé…ç¬¦ï¼Ÿ"><a href="#Java-æ³›å‹äº†è§£ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„é€šé…ç¬¦ï¼Ÿ" class="headerlink" title="Java æ³›å‹äº†è§£ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„é€šé…ç¬¦ï¼Ÿ"></a>Java æ³›å‹äº†è§£ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿä»‹ç»ä¸€ä¸‹å¸¸ç”¨çš„é€šé…ç¬¦ï¼Ÿ</h3><blockquote><p><strong>Java æ³›å‹ï¼ˆgenericsï¼‰</strong>æ˜¯ JDK 5 ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§, æ³›å‹æä¾›äº†ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨æ£€æµ‹æœºåˆ¶ï¼Œè¯¥æœºåˆ¶å…è®¸ç¨‹åºå‘˜åœ¨ç¼–è¯‘æ—¶æ£€æµ‹åˆ°éæ³•çš„ç±»å‹ã€‚æ³›å‹çš„æœ¬è´¨æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æ“ä½œçš„æ•°æ®ç±»å‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ã€‚</p></blockquote><p><strong>Java çš„æ³›å‹æ˜¯ä¼ªæ³›å‹ï¼Œè¿™æ˜¯å› ä¸º Java åœ¨ç¼–è¯‘æœŸé—´ï¼Œæ‰€æœ‰çš„æ³›å‹ä¿¡æ¯éƒ½ä¼šè¢«æ“¦æ‰ã€‚</strong></p><p>ä¸¾ä¸ªğŸŒ°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;String&gt; list1 = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        list1.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line"></span><br><span class="line">        ArrayList&lt;Integer&gt; list2 = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        list2.add(<span class="number">123</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(list1.getClass() == list2.getClass());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ª<code>ArrayList</code>æ•°ç»„ï¼Œä¸è¿‡ä¸€ä¸ªæ˜¯<code>ArrayList&lt;String&gt;</code>æ³›å‹ç±»å‹çš„ï¼Œåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼›ä¸€ä¸ªæ˜¯<code>ArrayList&lt;Integer&gt;</code>æ³›å‹ç±»å‹çš„ï¼Œåªèƒ½å­˜å‚¨æ•´æ•°ï¼Œæœ€åï¼Œæˆ‘ä»¬é€šè¿‡<code>list1</code>å¯¹è±¡å’Œ<code>list2</code>å¯¹è±¡çš„<code>getClass()</code>æ–¹æ³•è·å–ä»–ä»¬çš„ç±»çš„ä¿¡æ¯ï¼Œæœ€åå‘ç°ç»“æœä¸º<code>true</code>ã€‚è¯´æ˜æ³›å‹ç±»å‹<code>String</code>å’Œ<code>Integer</code>éƒ½è¢«æ“¦é™¤æ‰äº†ï¼Œåªå‰©ä¸‹åŸå§‹ç±»å‹ã€‚</p><blockquote><p>å…³äºç±»å‹æ“¦å‡ºå¼•èµ·çš„é—®é¢˜ä»¥åŠjvmçš„è§£å†³æ–¹æ³•å°†åœ¨ä¸‹ä¸€ç¯‡åšå®¢ä»‹ç»</p></blockquote><p><strong>å¸¸ç”¨çš„é€šé…ç¬¦ä¸ºï¼š Tï¼ŒEï¼ŒKï¼ŒVï¼Œï¼Ÿ</strong></p><ul><li>ï¼Ÿ è¡¨ç¤ºä¸ç¡®å®šçš„ java ç±»å‹</li><li>T (type) è¡¨ç¤ºå…·ä½“çš„ä¸€ä¸ª java ç±»å‹</li><li>K V (key value) åˆ†åˆ«ä»£è¡¨ java é”®å€¼ä¸­çš„ Key Value</li><li>E (element) ä»£è¡¨ Element</li></ul><h3 id="å’Œ-equals-çš„åŒºåˆ«"><a href="#å’Œ-equals-çš„åŒºåˆ«" class="headerlink" title="==å’Œ equals çš„åŒºåˆ«"></a>==å’Œ equals çš„åŒºåˆ«</h3><p><strong>Java åªæœ‰å€¼ä¼ é€’ï¼Œæ‰€ä»¥ï¼Œå¯¹äº == æ¥è¯´ï¼Œä¸ç®¡æ˜¯æ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿˜æ˜¯å¼•ç”¨æ•°æ®ç±»å‹çš„å˜é‡ï¼Œå…¶æœ¬è´¨æ¯”è¾ƒçš„éƒ½æ˜¯å€¼ï¼Œåªæ˜¯å¼•ç”¨ç±»å‹å˜é‡å­˜çš„å€¼æ˜¯å¯¹è±¡çš„åœ°å€ã€‚</strong></p><ul><li>å½“ç±»æ²¡æœ‰è¦†ç›– <code>equals()</code>æ–¹æ³•ã€‚åˆ™é€šè¿‡<code>equals()</code>æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œç­‰ä»·äºé€šè¿‡â€œ==â€æ¯”è¾ƒè¿™ä¸¤ä¸ªå¯¹è±¡ã€‚ä½¿ç”¨çš„é»˜è®¤æ˜¯ <code>Object</code>ç±»<code>equals()</code>æ–¹æ³•ã€‚</li><li>å½“ç±»è¦†ç›–äº† <code>equals()</code>æ–¹æ³•ã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬éƒ½è¦†ç›– <code>equals()</code>æ–¹æ³•æ¥ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹ç›¸ç­‰ï¼›è‹¥å®ƒä»¬çš„å†…å®¹ç›¸ç­‰ï¼Œåˆ™è¿”å› true(å³ï¼Œè®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰)ã€‚</li></ul><p>è¯´ç™½äº†å°±æ˜¯<code>equals()</code>æœ€å¼€å§‹æ˜¯<code>object</code>è‡ªå¸¦çš„ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å¦‚æœä½ è‡ªå·±<code>@overide</code>æˆ–è€…æœ¬èº«å°±è¢«<code>@overide</code>äº†ï¼Œ<code>equals()</code>çš„æ–¹æ³•å½“ç„¶æ˜¯è‡ªå·±å®šä¹‰çš„å•¦ï½</p><p><strong>è¯´æ˜ï¼š</strong></p><ul><li><code>String</code> ä¸­çš„ <code>equals</code> æ–¹æ³•æ˜¯è¢«é‡å†™è¿‡çš„ï¼Œå› ä¸º <code>Object</code> çš„ <code>equals</code> æ–¹æ³•æ˜¯æ¯”è¾ƒçš„å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè€Œ <code>String</code> çš„ <code>equals</code>æ–¹æ³•æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å€¼ã€‚</li><li>å½“åˆ›å»º <code>String</code> ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œè™šæ‹Ÿæœºä¼šåœ¨å¸¸é‡æ± ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨çš„å€¼å’Œè¦åˆ›å»ºçš„å€¼ç›¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœæœ‰å°±æŠŠå®ƒèµ‹ç»™å½“å‰å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å°±åœ¨å¸¸é‡æ± ä¸­é‡æ–°åˆ›å»ºä¸€ä¸ª <code>String</code> å¯¹è±¡ã€‚</li></ul><p>ä¸¾ä¸ªğŸŒ°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String a = <span class="keyword">new</span> String(<span class="string">&quot;ab&quot;</span>); <span class="comment">// a ä¸ºä¸€ä¸ªå¼•ç”¨</span></span><br><span class="line">        String b = <span class="keyword">new</span> String(<span class="string">&quot;ab&quot;</span>); <span class="comment">// bä¸ºå¦ä¸€ä¸ªå¼•ç”¨,å¯¹è±¡çš„å†…å®¹ä¸€æ ·</span></span><br><span class="line">        String aa = <span class="string">&quot;ab&quot;</span>; <span class="comment">// æ”¾åœ¨å¸¸é‡æ± ä¸­</span></span><br><span class="line">        String bb = <span class="string">&quot;ab&quot;</span>; <span class="comment">// ä»å¸¸é‡æ± ä¸­æŸ¥æ‰¾</span></span><br><span class="line">        <span class="keyword">if</span> (aa == bb) <span class="comment">// true</span></span><br><span class="line">            System.out.println(<span class="string">&quot;aa==bb&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (a == b) <span class="comment">// falseï¼ŒéåŒä¸€å¯¹è±¡</span></span><br><span class="line">            System.out.println(<span class="string">&quot;a==b&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (a.equals(b)) <span class="comment">// true</span></span><br><span class="line">            System.out.println(<span class="string">&quot;aEQb&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">42</span> == <span class="number">42.0</span>) &#123; <span class="comment">// true</span></span><br><span class="line">            System.out.println(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¸¸é‡æ± "><a href="#å¸¸é‡æ± " class="headerlink" title="å¸¸é‡æ± "></a>å¸¸é‡æ± </h4><p><strong>Java åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»çš„å¤§éƒ¨åˆ†éƒ½å®ç°äº†å¸¸é‡æ± æŠ€æœ¯ï¼Œå³ Byte,Short,Integer,Long,Character,Booleanï¼›å‰é¢ 4 ç§åŒ…è£…ç±»é»˜è®¤åˆ›å»ºäº†æ•°å€¼[-128ï¼Œ127] çš„ç›¸åº”ç±»å‹çš„ç¼“å­˜æ•°æ®ï¼ŒCharacter åˆ›å»ºäº†æ•°å€¼åœ¨[0,127]èŒƒå›´çš„ç¼“å­˜æ•°æ®ï¼ŒBoolean ç›´æ¥è¿”å› True Or Falseã€‚å¦‚æœè¶…å‡ºå¯¹åº”èŒƒå›´ä»ç„¶ä¼šå»åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ä¸¤ç§æµ®ç‚¹æ•°ç±»å‹çš„åŒ…è£…ç±» Float,Double å¹¶æ²¡æœ‰å®ç°å¸¸é‡æ± æŠ€æœ¯ã€‚</strong></p><p><img src="./SouthEast.png" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><code>String s1 = new String(&quot;hello&quot;)</code>åˆ›å»ºäº†ä¸¤ä¸ªå¯¹è±¡ï¼Œé¦–å…ˆ<code>new</code>äº†ä¸€ä¸ªå †ç©ºé—´ï¼Œè¿™ä¸ªå †ç©ºé—´ä¼šåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºâ€œhelloâ€å­—ç¬¦ä¸²ï¼Œç„¶åå­—ç¬¦ä¸²åœ°å€èµ‹å€¼ç»™å †ï¼Œå †åœ°å€èµ‹å€¼ç»™s1ã€‚è€Œs2ç›´æ¥æŒ‡å‘å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚<a href="https://www.cnblogs.com/taochen-go/p/9475947.html">å‚è€ƒåœ°å€</a></p><h4 id="hashCode-ä¸-equals-é‡è¦"><a href="#hashCode-ä¸-equals-é‡è¦" class="headerlink" title="hashCode ä¸ equals (é‡è¦)"></a>hashCode ä¸ equals (é‡è¦)</h4><blockquote><p>hashCode() çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ï¼›å®ƒå®é™…ä¸Šæ˜¯è¿”å›ä¸€ä¸ª int æ•´æ•°ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚hashCode() å®šä¹‰åœ¨ JDK çš„ Object.java ä¸­ï¼Œè¿™å°±æ„å‘³ç€ Java ä¸­çš„ä»»ä½•ç±»éƒ½åŒ…å«æœ‰ hashCode() å‡½æ•°ã€‚</p><p>æ•£åˆ—è¡¨å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹(key-value)ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼šèƒ½æ ¹æ®â€œé”®â€å¿«é€Ÿçš„æ£€ç´¢å‡ºå¯¹åº”çš„â€œå€¼â€ã€‚è¿™å…¶ä¸­å°±åˆ©ç”¨åˆ°äº†æ•£åˆ—ç ï¼ï¼ˆå¯ä»¥å¿«é€Ÿæ‰¾åˆ°æ‰€éœ€è¦çš„å¯¹è±¡ï¼‰</p></blockquote><ol><li><h5 id="ä¸ºä»€ä¹ˆè¦æœ‰-hashCode"><a href="#ä¸ºä»€ä¹ˆè¦æœ‰-hashCode" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æœ‰ hashCode"></a>ä¸ºä»€ä¹ˆè¦æœ‰ hashCode</h5><p><strong>æˆ‘ä»¬å…ˆä»¥â€œHashSet å¦‚ä½•æ£€æŸ¥é‡å¤â€ä¸ºä¾‹å­æ¥è¯´æ˜ä¸ºä»€ä¹ˆè¦æœ‰ hashCodeï¼š</strong> å½“ä½ æŠŠå¯¹è±¡åŠ å…¥ HashSet æ—¶ï¼ŒHashSet ä¼šå…ˆè®¡ç®—å¯¹è±¡çš„ hashcode å€¼æ¥åˆ¤æ–­å¯¹è±¡åŠ å…¥çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸è¯¥ä½ç½®å…¶ä»–å·²ç»åŠ å…¥çš„å¯¹è±¡çš„ hashcode å€¼ä½œæ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„ hashcodeï¼ŒHashSet ä¼šå‡è®¾å¯¹è±¡æ²¡æœ‰é‡å¤å‡ºç°ã€‚ä½†æ˜¯å¦‚æœå‘ç°æœ‰ç›¸åŒ hashcode å€¼çš„å¯¹è±¡ï¼Œè¿™æ—¶ä¼šè°ƒç”¨ <code>equals()</code>æ–¹æ³•æ¥æ£€æŸ¥ hashcode ç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒã€‚å¦‚æœä¸¤è€…ç›¸åŒï¼ŒHashSet å°±ä¸ä¼šè®©å…¶åŠ å…¥æ“ä½œæˆåŠŸã€‚å¦‚æœä¸åŒçš„è¯ï¼Œå°±ä¼šé‡æ–°æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ã€‚<em>ï¼ˆæ‘˜è‡ªæˆ‘çš„ Java å¯è’™ä¹¦ã€ŠHead first javaã€‹ç¬¬äºŒç‰ˆï¼‰</em>ã€‚è¿™æ ·æˆ‘ä»¬å°±å¤§å¤§å‡å°‘äº† equals çš„æ¬¡æ•°ï¼Œç›¸åº”å°±å¤§å¤§æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚</p></li><li><h5 id="hashCode-ä¸-equals-çš„ç›¸å…³è§„å®š"><a href="#hashCode-ä¸-equals-çš„ç›¸å…³è§„å®š" class="headerlink" title="hashCode()ä¸ equals()çš„ç›¸å…³è§„å®š"></a>hashCode()ä¸ equals()çš„ç›¸å…³è§„å®š</h5><ul><li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ hashcode ä¸€å®šä¹Ÿæ˜¯ç›¸åŒçš„</li><li>ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰,å¯¹ä¸¤ä¸ªå¯¹è±¡åˆ†åˆ«è°ƒç”¨ equals æ–¹æ³•éƒ½è¿”å› true</li><li>ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„</li><li><strong>å› æ­¤ï¼Œequals æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ hashCode æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›–</strong></li><li>hashCode() çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§ç”Ÿç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™ hashCode()ï¼Œåˆ™è¯¥ class çš„ä¸¤ä¸ªå¯¹è±¡æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰</li></ul></li><li><p><strong>equals æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ hashCode æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›–</strong></p><p>ä¸¤ä¸ªå¾ˆå¥½çš„ğŸŒ°ï¼š<a href="https://www.cnblogs.com/skywang12345/p/3324958.html">å‚è€ƒåœ°å€</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.Comparable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> æ¯”è¾ƒequals() è¿”å›true ä»¥åŠ è¿”å›falseæ—¶ï¼Œ hashCode()çš„å€¼ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> skywang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@emai</span> kuiwu-wang@163.com</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConflictHashCodeTest1</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ–°å»ºPersonå¯¹è±¡ï¼Œ</span></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">&quot;eee&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">&quot;eee&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person(<span class="string">&quot;aaa&quot;</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–°å»ºHashSetå¯¹è±¡</span></span><br><span class="line">        HashSet set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        set.add(p1);</span><br><span class="line">        set.add(p2);</span><br><span class="line">        set.add(p3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¯”è¾ƒp1 å’Œ p2ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;p1.equals(p2) : %s; p1(%d) p2(%d)\n&quot;</span>, p1.equals(p2), p1.hashCode(), p2.hashCode());<span class="comment">//p1.equals(p2) : true; p1(1169863946) p2(1690552137)</span></span><br><span class="line">        <span class="comment">// æ‰“å°set</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;set:%s\n&quot;</span>, set);<span class="comment">//set:[(eee, 100), (eee, 100), (aaa, 200)]   (eee,100)æœªè¢«åˆå¹¶</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> Personç±»ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        String name;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;(&quot;</span>+name + <span class="string">&quot;, &quot;</span> +age+<span class="string">&quot;)&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@desc</span> è¦†ç›–equalsæ–¹æ³•</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj == <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span> == obj)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.getClass() != obj.getClass())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Person person = (Person)obj;</span><br><span class="line">            <span class="keyword">return</span> name.equals(person.name) &amp;&amp; age==person.age;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.Comparable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> æ¯”è¾ƒequals() è¿”å›true ä»¥åŠ è¿”å›falseæ—¶ï¼Œ hashCode()çš„å€¼ã€‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> skywang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@emai</span> kuiwu-wang@163.com</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConflictHashCodeTest2</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ–°å»ºPersonå¯¹è±¡ï¼Œ</span></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">&quot;eee&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">&quot;eee&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        Person p3 = <span class="keyword">new</span> Person(<span class="string">&quot;aaa&quot;</span>, <span class="number">200</span>);</span><br><span class="line">        Person p4 = <span class="keyword">new</span> Person(<span class="string">&quot;EEE&quot;</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–°å»ºHashSetå¯¹è±¡</span></span><br><span class="line">        HashSet set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        set.add(p1);</span><br><span class="line">        set.add(p2);</span><br><span class="line">        set.add(p3);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¯”è¾ƒp1 å’Œ p2ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;p1.equals(p2) : %s; p1(%d) p2(%d)\n&quot;</span>, p1.equals(p2), p1.hashCode(), p2.hashCode());<span class="comment">//p1.equals(p2) : true; p1(68545) p2(68545)</span></span><br><span class="line">        <span class="comment">// æ¯”è¾ƒp1 å’Œ p4ï¼Œ å¹¶æ‰“å°å®ƒä»¬çš„hashCode()</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;p1.equals(p4) : %s; p1(%d) p4(%d)\n&quot;</span>, p1.equals(p4), p1.hashCode(), p4.hashCode());<span class="comment">//p1.equals(p4) : false; p1(68545) p4(68545)</span></span><br><span class="line">        <span class="comment">// æ‰“å°set</span></span><br><span class="line">        System.out.printf(<span class="string">&quot;set:%s\n&quot;</span>, set);<span class="comment">//set:[aaa - 200, eee - 100]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@desc</span> Personç±»ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> age;</span><br><span class="line">        String name;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.name = name;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name + <span class="string">&quot; - &quot;</span> +age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@desc</span>é‡å†™hashCode</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">int</span> nameHash =  name.toUpperCase().hashCode();</span><br><span class="line">            <span class="keyword">return</span> nameHash ^ age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@desc</span> è¦†ç›–equalsæ–¹æ³•</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj == <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å¦‚æœæ˜¯åŒä¸€ä¸ªå¯¹è±¡è¿”å›trueï¼Œåä¹‹è¿”å›false</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span> == obj)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ¤æ–­æ˜¯å¦ç±»å‹ç›¸åŒ</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.getClass() != obj.getClass())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Person person = (Person)obj;</span><br><span class="line">            <span class="keyword">return</span> name.equals(person.name) &amp;&amp; age==person.age;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h3><h4 id="Java-ä¸­çš„å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå¯¹åº”çš„åŒ…è£…ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå„è‡ªå ç”¨å¤šå°‘å­—èŠ‚å‘¢ï¼Ÿ"><a href="#Java-ä¸­çš„å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå¯¹åº”çš„åŒ…è£…ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå„è‡ªå ç”¨å¤šå°‘å­—èŠ‚å‘¢ï¼Ÿ" class="headerlink" title="Java ä¸­çš„å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå¯¹åº”çš„åŒ…è£…ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå„è‡ªå ç”¨å¤šå°‘å­—èŠ‚å‘¢ï¼Ÿ"></a>Java ä¸­çš„å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå¯¹åº”çš„åŒ…è£…ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿå„è‡ªå ç”¨å¤šå°‘å­—èŠ‚å‘¢ï¼Ÿ</h4><p>Java<strong>ä¸­</strong>æœ‰ 8 ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«ä¸ºï¼š</p><ol><li>6 ç§æ•°å­—ç±»å‹ ï¼šbyteã€shortã€intã€longã€floatã€double</li><li>1 ç§å­—ç¬¦ç±»å‹ï¼šchar</li><li>1 ç§å¸ƒå°”å‹ï¼šbooleanã€‚</li></ol><p>è¿™å…«ç§åŸºæœ¬ç±»å‹éƒ½æœ‰å¯¹åº”çš„åŒ…è£…ç±»åˆ†åˆ«ä¸ºï¼šByteã€Shortã€Integerã€Longã€Floatã€Doubleã€Characterã€Boolean</p><div class="table-container"><table><thead><tr><th>åŸºæœ¬ç±»å‹</th><th>ä½æ•°</th><th>å­—èŠ‚</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>int</td><td>32</td><td>4</td><td>0</td></tr><tr><td>short</td><td>16</td><td>2</td><td>0</td></tr><tr><td>long</td><td>64</td><td>8</td><td>0L</td></tr><tr><td>byte</td><td>8</td><td>1</td><td>0</td></tr><tr><td>char</td><td>16</td><td>2</td><td>â€˜u0000â€™</td></tr><tr><td>float</td><td>32</td><td>4</td><td>0f</td></tr><tr><td>double</td><td>64</td><td>8</td><td>0d</td></tr><tr><td>boolean</td><td>1</td><td></td><td>false</td></tr></tbody></table></div><h4 id="è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"><a href="#è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±" class="headerlink" title="è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±"></a>è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</h4><blockquote><p><strong>å½“ â€œ==â€è¿ç®—ç¬¦çš„ä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯ åŒ…è£…å™¨ç±»å‹çš„å¼•ç”¨ï¼Œåˆ™æ˜¯æ¯”è¾ƒæŒ‡å‘çš„æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯è¡¨è¾¾å¼ï¼ˆå³åŒ…å«ç®—æœ¯è¿ç®—ï¼‰åˆ™æ¯”è¾ƒçš„æ˜¯æ•°å€¼ï¼ˆå³ä¼šè§¦å‘è‡ªåŠ¨æ‹†ç®±çš„è¿‡ç¨‹ï¼‰ã€‚</strong></p></blockquote><p>ä¸¾ä¸ªğŸŒ°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Integer a = <span class="number">1</span>;</span><br><span class="line">        Integer b = <span class="number">2</span>;</span><br><span class="line">        Integer c = <span class="number">3</span>;</span><br><span class="line">        Integer d = <span class="number">3</span>;</span><br><span class="line">        Integer e = <span class="number">321</span>;</span><br><span class="line">        Integer f = <span class="number">321</span>;</span><br><span class="line">        Long g = <span class="number">3L</span>;</span><br><span class="line">        Long h = <span class="number">2L</span>;</span><br><span class="line"></span><br><span class="line">        System.out.println(c==d);<span class="comment">//true</span></span><br><span class="line">        System.out.println(e==f);<span class="comment">//false</span></span><br><span class="line">        System.out.println(c==(a+b));<span class="comment">//true ç¬¬ä¸‰å¥ç”±äºa+båŒ…å«äº†ç®—æœ¯è¿ç®—ï¼Œå› æ­¤ä¼šè§¦å‘è‡ªåŠ¨æ‹†ç®±è¿‡ç¨‹ï¼ˆä¼šè°ƒç”¨intValueæ–¹æ³•ï¼‰ï¼Œå› æ­¤å®ƒä»¬æ¯”è¾ƒçš„æ˜¯æ•°å€¼æ˜¯å¦ç›¸ç­‰ã€‚</span></span><br><span class="line">        System.out.println(c.equals(a+b));<span class="comment">//true</span></span><br><span class="line">        System.out.println(g==(a+b));<span class="comment">//true</span></span><br><span class="line">        System.out.println(g.equals(a+b));<span class="comment">//false</span></span><br><span class="line">        System.out.println(g.equals(a+h));<span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰"><a href="#æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰" class="headerlink" title="æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰"></a>æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰</h3><h4 id="ä¸ºä»€ä¹ˆ-Java-ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆ-Java-ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆ Java ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ"></a>ä¸ºä»€ä¹ˆ Java ä¸­åªæœ‰å€¼ä¼ é€’ï¼Ÿ</h4><p><strong>æŒ‰å€¼è°ƒç”¨(call by value)è¡¨ç¤ºæ–¹æ³•æ¥æ”¶çš„æ˜¯è°ƒç”¨è€…æä¾›çš„å€¼ï¼Œè€ŒæŒ‰å¼•ç”¨è°ƒç”¨ï¼ˆcall by reference)è¡¨ç¤ºæ–¹æ³•æ¥æ”¶çš„æ˜¯è°ƒç”¨è€…æä¾›çš„å˜é‡åœ°å€ã€‚ä¸€ä¸ªæ–¹æ³•å¯ä»¥ä¿®æ”¹ä¼ é€’å¼•ç”¨æ‰€å¯¹åº”çš„å˜é‡å€¼ï¼Œè€Œä¸èƒ½ä¿®æ”¹ä¼ é€’å€¼è°ƒç”¨æ‰€å¯¹åº”çš„å˜é‡å€¼ã€‚</strong> å®ƒç”¨æ¥æè¿°å„ç§ç¨‹åºè®¾è®¡è¯­è¨€ï¼ˆä¸åªæ˜¯ Java)ä¸­æ–¹æ³•å‚æ•°ä¼ é€’æ–¹å¼ã€‚</p><p><strong>Java ç¨‹åºè®¾è®¡è¯­è¨€æ€»æ˜¯é‡‡ç”¨æŒ‰å€¼è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹æ³•å¾—åˆ°çš„æ˜¯æ‰€æœ‰å‚æ•°å€¼çš„ä¸€ä¸ªæ‹·è´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¼ é€’ç»™å®ƒçš„ä»»ä½•å‚æ•°å˜é‡çš„å†…å®¹ã€‚</strong></p><blockquote><p>Java ç¨‹åºè®¾è®¡è¯­è¨€å¯¹å¯¹è±¡é‡‡ç”¨çš„ä¸æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šï¼Œå¯¹è±¡å¼•ç”¨æ˜¯æŒ‰ å€¼ä¼ é€’çš„ã€‚</p><p>ä¸‹é¢å†æ€»ç»“ä¸€ä¸‹ Java ä¸­æ–¹æ³•å‚æ•°çš„ä½¿ç”¨æƒ…å†µï¼š</p><ul><li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼ˆå³æ•°å€¼å‹æˆ–å¸ƒå°”å‹ï¼‰ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡å‚æ•°çš„çŠ¶æ€ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½è®©å¯¹è±¡å‚æ•°å¼•ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</li></ul></blockquote><h4 id="é‡è½½å’Œé‡å†™çš„åŒºåˆ«"><a href="#é‡è½½å’Œé‡å†™çš„åŒºåˆ«" class="headerlink" title="é‡è½½å’Œé‡å†™çš„åŒºåˆ«"></a>é‡è½½å’Œé‡å†™çš„åŒºåˆ«</h4><blockquote><p><strong>é‡è½½</strong>å°±æ˜¯åŒä¸€ä¸ªç±»ä¸­å¤šä¸ªåŒåæ–¹æ³•æ ¹æ®ä¸åŒçš„ä¼ å‚æ¥æ‰§è¡Œä¸åŒçš„é€»è¾‘å¤„ç†ã€‚</p><p><strong>é‡å†™</strong>å‘ç”Ÿåœ¨è¿è¡ŒæœŸï¼Œæ˜¯å­ç±»å¯¹çˆ¶ç±»çš„å…è®¸è®¿é—®çš„æ–¹æ³•çš„å®ç°è¿‡ç¨‹è¿›è¡Œé‡æ–°ç¼–å†™ã€‚</p></blockquote><div class="table-container"><table><thead><tr><th>åŒºåˆ«ç‚¹</th><th>é‡è½½æ–¹æ³•</th><th>é‡å†™æ–¹æ³•</th></tr></thead><tbody><tr><td>å‘ç”ŸèŒƒå›´</td><td>åŒä¸€ä¸ªç±»</td><td>å­ç±»</td></tr><tr><td>å‚æ•°åˆ—è¡¨</td><td>å¿…é¡»ä¿®æ”¹</td><td>ä¸€å®šä¸èƒ½ä¿®æ”¹</td></tr><tr><td>è¿”å›ç±»å‹</td><td>å¯ä¿®æ”¹</td><td>å­ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹åº”æ¯”çˆ¶ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹æ›´å°æˆ–ç›¸ç­‰</td></tr><tr><td>å¼‚å¸¸</td><td>å¯ä¿®æ”¹</td><td>å­ç±»æ–¹æ³•å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»åº”æ¯”çˆ¶ç±»æ–¹æ³•å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»æ›´å°æˆ–ç›¸ç­‰ï¼›</td></tr><tr><td>è®¿é—®ä¿®é¥°ç¬¦</td><td>å¯ä¿®æ”¹</td><td>ä¸€å®šä¸èƒ½åšæ›´ä¸¥æ ¼çš„é™åˆ¶ï¼ˆå¯ä»¥é™ä½é™åˆ¶ï¼‰</td></tr><tr><td>å‘ç”Ÿé˜¶æ®µ</td><td>ç¼–è¯‘æœŸ</td><td>è¿è¡ŒæœŸ</td></tr></tbody></table></div><p><strong>æ–¹æ³•çš„é‡å†™è¦éµå¾ªâ€œä¸¤åŒä¸¤å°ä¸€å¤§â€</strong>ï¼ˆä»¥ä¸‹å†…å®¹æ‘˜å½•è‡ªã€Šç–¯ç‹‚ Java è®²ä¹‰ã€‹,<a href="https://github.com/Snailclimb/JavaGuide/issues/892">issue#892</a> ï¼‰ï¼š</p><ul><li>â€œä¸¤åŒâ€å³æ–¹æ³•åç›¸åŒã€å½¢å‚åˆ—è¡¨ç›¸åŒï¼›</li><li>â€œä¸¤å°â€æŒ‡çš„æ˜¯å­ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹åº”æ¯”çˆ¶ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹æ›´å°æˆ–ç›¸ç­‰ï¼Œå­ç±»æ–¹æ³•å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»åº”æ¯”çˆ¶ç±»æ–¹æ³•å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»æ›´å°æˆ–ç›¸ç­‰ï¼›</li><li>â€œä¸€å¤§â€æŒ‡çš„æ˜¯å­ç±»æ–¹æ³•çš„è®¿é—®æƒé™åº”æ¯”çˆ¶ç±»æ–¹æ³•çš„è®¿é—®æƒé™æ›´å¤§æˆ–ç›¸ç­‰ã€‚</li></ul><h4 id="æ·±æ‹·è´-vs-æµ…æ‹·è´"><a href="#æ·±æ‹·è´-vs-æµ…æ‹·è´" class="headerlink" title="æ·±æ‹·è´ vs æµ…æ‹·è´"></a>æ·±æ‹·è´ vs æµ…æ‹·è´</h4><ol><li><strong>æµ…æ‹·è´</strong>ï¼šå¯¹åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œå€¼ä¼ é€’ï¼Œå¯¹å¼•ç”¨æ•°æ®ç±»å‹è¿›è¡Œå¼•ç”¨ä¼ é€’èˆ¬çš„æ‹·è´ï¼Œæ­¤ä¸ºæµ…æ‹·è´ã€‚</li><li><strong>æ·±æ‹·è´</strong>ï¼šå¯¹åŸºæœ¬æ•°æ®ç±»å‹è¿›è¡Œå€¼ä¼ é€’ï¼Œå¯¹å¼•ç”¨æ•°æ®ç±»å‹ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶å¤åˆ¶å…¶å†…å®¹ï¼Œæ­¤ä¸ºæ·±æ‹·è´ã€‚</li></ol>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;JAVAå…¥é—¨é‡ç‚¹&quot;&gt;&lt;a href=&quot;#JAVAå…¥é—¨é‡ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;JAVAå…¥é—¨é‡ç‚¹&quot;&gt;&lt;/a&gt;JAVAå…¥é—¨é‡ç‚¹&lt;/h2&gt;&lt;h3 id=&quot;å…³äº-JVM-JDK-å’Œ-JRE&quot;&gt;&lt;a href=&quot;#å…³äº-JVM-JDK-å’Œ-JRE&quot; class=&quot;headerlink&quot; title=&quot;å…³äº JVM JDK å’Œ JRE&quot;&gt;&lt;/a&gt;å…³äº JVM JDK å’Œ JRE&lt;/h3&gt;&lt;h4 id=&quot;jvm&quot;&gt;&lt;a href=&quot;#jvm&quot; class=&quot;headerlink&quot; title=&quot;jvm&quot;&gt;&lt;/a&gt;jvm&lt;/h4&gt;&lt;p&gt;ç¨‹åºä»æºä»£ç åˆ°è¿è¡Œä¸€èˆ¬æœ‰ä¸‹é¢ 3 æ­¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://s3.ax1x.com/2021/03/16/6yWlan.png&quot; alt=&quot;6yWlan.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦æ ¼å¤–æ³¨æ„çš„æ˜¯ .class-&amp;gt;æœºå™¨ç  è¿™ä¸€æ­¥ã€‚åœ¨è¿™ä¸€æ­¥ JVM ç±»åŠ è½½å™¨é¦–å…ˆåŠ è½½å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è§£é‡Šå™¨é€è¡Œè§£é‡Šæ‰§è¡Œï¼Œè¿™ç§æ–¹å¼çš„æ‰§è¡Œé€Ÿåº¦ä¼šç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚è€Œä¸”ï¼Œæœ‰äº›æ–¹æ³•å’Œä»£ç å—æ˜¯ç»å¸¸éœ€è¦è¢«è°ƒç”¨çš„(ä¹Ÿå°±æ˜¯æ‰€è°“çš„çƒ­ç‚¹ä»£ç )ï¼Œæ‰€ä»¥åé¢å¼•è¿›äº† JIT ç¼–è¯‘å™¨ï¼Œè€Œ JIT å±äºè¿è¡Œæ—¶ç¼–è¯‘ã€‚å½“ JIT ç¼–è¯‘å™¨å®Œæˆç¬¬ä¸€æ¬¡ç¼–è¯‘åï¼Œå…¶ä¼šå°†å­—èŠ‚ç å¯¹åº”çš„æœºå™¨ç ä¿å­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚è€Œæˆ‘ä»¬çŸ¥é“ï¼Œæœºå™¨ç çš„è¿è¡Œæ•ˆç‡è‚¯å®šæ˜¯é«˜äº Java è§£é‡Šå™¨çš„ã€‚è¿™ä¹Ÿè§£é‡Šäº†æˆ‘ä»¬ä¸ºä»€ä¹ˆç»å¸¸ä¼šè¯´ Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="JAVA" scheme="https://leezepeng.github.io/categories/JAVA/"/>
    
    
    <category term="JAVAçŸ¥è¯†" scheme="https://leezepeng.github.io/tags/JAVA%E7%9F%A5%E8%AF%86/"/>
    
    <category term="ç¬”è®°" scheme="https://leezepeng.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>åˆ·é¢˜è®°å½•-å‰‘æŒ‡offer(ä¸€)</title>
    <link href="https://leezepeng.github.io/2021/03/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-%E5%89%91%E6%8C%87offer-%E4%B8%80/"/>
    <id>https://leezepeng.github.io/2021/03/15/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95-%E5%89%91%E6%8C%87offer-%E4%B8%80/</id>
    <published>2021-03-15T09:41:11.000Z</published>
    <updated>2021-03-15T09:43:14.066Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1ã€æ•°ç»„ä¸­é‡å¤çš„æ•°å­—"><a href="#1ã€æ•°ç»„ä¸­é‡å¤çš„æ•°å­—" class="headerlink" title="1ã€æ•°ç»„ä¸­é‡å¤çš„æ•°å­—"></a>1ã€æ•°ç»„ä¸­é‡å¤çš„æ•°å­—</h2><p>æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—ã€‚</p><p>åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…ã€‚æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span> æˆ– <span class="number">3</span> </span><br></pre></td></tr></table></figure><p>é™åˆ¶ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span> &lt;= n &lt;= <span class="number">100000</span></span><br></pre></td></tr></table></figure><span id="more"></span><blockquote><p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof">https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></blockquote><h3 id="é¢˜ç›®åˆ†æï¼š"><a href="#é¢˜ç›®åˆ†æï¼š" class="headerlink" title="é¢˜ç›®åˆ†æï¼š"></a>é¢˜ç›®åˆ†æï¼š</h3><p>æˆ‘ä»¬éœ€è¦ä»é¢˜ç›®ä¸­æŒ–æ˜å®šé‡çš„éšå«æ¡ä»¶ï¼Œ<u>åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…</u>ï¼Œå¦‚æœæ²¡æœ‰æ•°å­—é‡å¤ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯0ï½n-1æ‰€æœ‰çš„æ•°éƒ½å­˜åœ¨ã€‚å¯ä»¥é€‰æ‹©ç”¨æ’åºçš„æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ•°å­—é‡å¤ï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰<code>nums[i] == i</code>ï¼Œæ‰«æä¸€è¾¹æ’åºåçš„æ•°ç»„ï¼Œå¦‚æœ<code>nums[i] != i</code>é‚£ä¹ˆ<code>nums[i]</code>ä¸€å®šæ˜¯é‡å¤çš„ã€‚ä½†æ˜¯æ’åºéœ€è¦æ¶ˆè€—çš„æ—¶é—´è‡³å°‘æ˜¯$O(nlog(n))$ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡å¿…è¦è¿›è¡Œå®Œå…¨æ’åºï¼Œæ’åºä¹Ÿå°±æ˜¯ç›¸å½“äºå…ƒç´ å½’ä½ï¼Œå½“ä¸¤ä¸ªå…ƒç´ ä¼šè¢«å½’åˆ°ç›¸åŒçš„ä½ç½®æ—¶ï¼Œè¯¥å…ƒç´ ä¸€å®šæ˜¯é‡å¤çš„ã€‚</p><h3 id="åŸåœ°ç½®æ¢å›¾è§£ï¼ˆæ¥æºâ€”â€”leetcodeåƒæ‹Œé¢æƒ³å–æ±¤ï¼‰"><a href="#åŸåœ°ç½®æ¢å›¾è§£ï¼ˆæ¥æºâ€”â€”leetcodeåƒæ‹Œé¢æƒ³å–æ±¤ï¼‰" class="headerlink" title="åŸåœ°ç½®æ¢å›¾è§£ï¼ˆæ¥æºâ€”â€”leetcodeåƒæ‹Œé¢æƒ³å–æ±¤ï¼‰"></a>åŸåœ°ç½®æ¢å›¾è§£ï¼ˆæ¥æºâ€”â€”leetcode<a href="https://leetcode-cn.com/u/chi-ban-mian-xiang-he-tang/">åƒæ‹Œé¢æƒ³å–æ±¤</a>ï¼‰</h3><p>è¿™ç§åŸåœ°ç½®æ¢çš„æƒ³æ³•ç¡®å®æŒºç²¾å¦™çš„ã€‚</p><p>1ã€é¢˜ç›®æ˜ç¡®è¯´æ˜äº†æ•°ç»„é•¿åº¦ä¸ºnï¼ŒèŒƒå›´ä¸º n-1ï¼Œä¹Ÿå°±æ˜¯è‹¥æ— é‡å¤å…ƒç´ æ’åºåä¸‹æ ‡0123å¯¹åº”çš„æ•°å­—å°±åº”è¯¥æ˜¯0123ï¼›</p><p>2ã€å¯¹æ•°ç»„æ’åºï¼Œå…¶å®ä¹Ÿå°±æ˜¯è®©èåœå½’ä½ï¼Œ1å·å‘è¦æ”¾1å·èåœï¼Œ2å·å‘è¦æ”¾2å·èåœâ€¦â€¦æ’åºè¿‡ç¨‹ä¸­æŸ¥æ‰¾æœ‰æ— é‡å¤å…ƒç´ ã€‚å…ˆè€ƒè™‘æ²¡æœ‰é‡å¤å…ƒç´ çš„æƒ…å†µï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nums[i]</span>     <span class="number">3</span>  <span class="number">1</span>  <span class="number">0</span>  <span class="number">2</span>   <span class="string">èåœ</span>   </span><br><span class="line">    <span class="string">i</span>       <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>   <span class="string">å‘</span>  </span><br></pre></td></tr></table></figure><p>0å·å‘è¯´æˆ‘è¦çš„æ˜¯0å·èåœï¼Œä¸è¦3å·èåœï¼Œæ‰€ä»¥ä¼šå»å’Œ3å·å‘çš„èåœäº¤æ¢ï¼Œå› ä¸ºå¦‚æœ0å·å‘æ‹¿äº†3å·å‘çš„3å·èåœï¼Œé‚£è¯´æ˜3å·å‘è£…çš„ä¹Ÿè‚¯å®šæ˜¯åˆ«äººå®¶çš„èåœï¼Œæ‰€ä»¥è¦è·Ÿ3å·å‘æ¢ï¼Œæ¢å®Œæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nums[i]</span>     <span class="number">2</span>  <span class="number">1</span>  <span class="number">0</span>  <span class="number">3</span>   <span class="string">èåœ</span>  </span><br><span class="line">    <span class="string">i</span>       <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>   <span class="string">å‘</span> </span><br></pre></td></tr></table></figure><p>ç„¶è€Œ0å·å‘è¿˜æ²¡æ‰¾åˆ°è‡ªå·±çš„èåœï¼Œå®ƒä¸è¦2å·èåœï¼Œåˆå»å’Œ2å·å‘çš„èåœäº¤æ¢ï¼Œæ¢å®Œæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nums[i]</span>     <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>   <span class="string">èåœ</span> </span><br><span class="line">    <span class="string">i</span>       <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>   <span class="string">å‘</span>  </span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™åˆšå¥½å°±æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œäº¤æ¢è¿‡ç¨‹ä¹Ÿä¸ä¼šå‡ºç°ä¸åŒå‘æœ‰ç›¸åŒç¼–å·çš„èåœã€‚è¦æ³¨æ„äº¤æ¢ç”¨çš„æ˜¯whileï¼Œä¹Ÿå°±æ˜¯0å·å‘åªæœ‰æ‹¿åˆ°0å·èåœï¼Œ1å·å‘æ‰èƒ½å¼€å§‹æ‰¾è‡ªå·±çš„èåœã€‚</p><p>3ã€å¦‚æœæœ‰é‡å¤å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nums[i]</span>     <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">2</span>    <span class="string">èåœ</span></span><br><span class="line">    <span class="string">i</span>       <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>    <span class="string">å‘</span></span><br></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œ0å·å‘ä¸è¦1å·ï¼Œå…ˆå’Œ1å·å‘äº¤æ¢ï¼Œäº¤æ¢å®Œè¿™æ ·çš„ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nums[i]</span>     <span class="number">2</span>  <span class="number">1</span>  <span class="number">3</span>  <span class="number">2</span>    <span class="string">èåœ</span></span><br><span class="line">    <span class="string">i</span>       <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>    <span class="string">å‘</span></span><br></pre></td></tr></table></figure><p>0å·å‘ä¸è¦2å·èåœï¼Œå»å’Œ2å·å‘äº¤æ¢ï¼Œäº¤æ¢å®Œè¿™æ ·çš„ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nums[i]</span>     <span class="number">3</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">2</span>    <span class="string">èåœ</span></span><br><span class="line">    <span class="string">i</span>       <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>    <span class="string">å‘</span></span><br></pre></td></tr></table></figure><p>0å·å‘ä¸è¦3å·èåœï¼Œå»å’Œ3å·å‘äº¤æ¢ï¼Œäº¤æ¢å®Œè¿™æ ·çš„ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nums[i]</span>     <span class="number">2</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>    <span class="string">èåœ</span></span><br><span class="line">    <span class="string">i</span>       <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>    <span class="string">å‘</span></span><br></pre></td></tr></table></figure><p>0å·å‘ä¸è¦2å·èåœï¼Œå»å’Œ2å·å‘äº¤æ¢ï¼Œç»“æœå‘ç°ä½ 2å·å‘ä¹Ÿæ˜¯2å·èåœï¼Œé‚£æˆ‘è¿˜æ¢ä¸ªé”¤å­ï¼ŒåŒæ—¶ä¹Ÿè¯´æ˜æœ‰é‡å¤å…ƒç´ å‡ºç°ã€‚</p><p>4ã€æ€»ç»“</p><p>å…¶å®è¿™ç§åŸåœ°äº¤æ¢å°±æ˜¯ä¸ºäº†é™ä½ç©ºé—´å¤æ‚åº¦ï¼Œåªéœ€å¤šè¦1ä¸ªå‘æ¥å‘¨è½¬äº¤æ¢çš„èåœå°±å¥½äº†ï¼Œç©ºé—´å¤æ‚åº¦Oï¼ˆ1ï¼‰ã€‚</p><h3 id="JAVAä»£ç "><a href="#JAVAä»£ç " class="headerlink" title="JAVAä»£ç "></a>JAVAä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findRepeatNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; nums.length ; i++)&#123;</span><br><span class="line">            <span class="keyword">while</span>(nums[i] != i)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums[i] == nums[nums[i]])&#123;</span><br><span class="line">                    <span class="keyword">return</span> nums[i];</span><br><span class="line">                &#125;</span><br><span class="line">                temp = nums[i];</span><br><span class="line">                nums[i] = nums[temp];</span><br><span class="line">                nums[temp] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;1ã€æ•°ç»„ä¸­é‡å¤çš„æ•°å­—&quot;&gt;&lt;a href=&quot;#1ã€æ•°ç»„ä¸­é‡å¤çš„æ•°å­—&quot; class=&quot;headerlink&quot; title=&quot;1ã€æ•°ç»„ä¸­é‡å¤çš„æ•°å­—&quot;&gt;&lt;/a&gt;1ã€æ•°ç»„ä¸­é‡å¤çš„æ•°å­—&lt;/h2&gt;&lt;p&gt;æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…ã€‚æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ 1ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;è¾“å…¥ï¼š&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;è¾“å‡ºï¼š&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; æˆ– &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é™åˆ¶ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &amp;lt;= n &amp;lt;= &lt;span class=&quot;number&quot;&gt;100000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="åˆ·é¢˜è®°å½•" scheme="https://leezepeng.github.io/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="åˆ·é¢˜è®°å½•" scheme="https://leezepeng.github.io/tags/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
    
    <category term="å‰‘æŒ‡offer" scheme="https://leezepeng.github.io/tags/%E5%89%91%E6%8C%87offer/"/>
    
  </entry>
  
  <entry>
    <title>DCRNN_Pytorchä»£ç è§£æ</title>
    <link href="https://leezepeng.github.io/2021/03/13/DCRNN-Pytorch%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    <id>https://leezepeng.github.io/2021/03/13/DCRNN-Pytorch%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/</id>
    <published>2021-03-13T12:22:21.000Z</published>
    <updated>2021-03-14T12:53:40.624Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ€»ä½“æ¡†æ¶"><a href="#æ€»ä½“æ¡†æ¶" class="headerlink" title="æ€»ä½“æ¡†æ¶"></a>æ€»ä½“æ¡†æ¶</h2><ol><li>dataå­˜æ”¾æ¨¡å‹ç”¨åˆ°çš„æ•°æ®ã€‚å…¶ä¸­METR-LAå’ŒPEMS-BAYæ–‡ä»¶å¤¹å­˜æ”¾çš„æ˜¯scriptsä¸­generate_training_data.pyç”Ÿæˆçš„æ•°æ®ï¼Œmodelä¿å­˜çš„æ˜¯è®­ç»ƒå¥½çš„æ¨¡å‹åŠå…¶è®¾ç½®å‚æ•°ï¼Œsensor_graphä¿å­˜çš„æ˜¯ä¼ æ„Ÿå™¨çš„æ•°æ®ï¼Œå…¶ä¸­graph_sensor_ids.txtä¿å­˜äº†æ‰€æœ‰æ•°æ®ä¸­æ‰€ä½¿ç”¨çš„ä¼ æ„Ÿå™¨çš„idï¼Œdistances_la_2012.csvä»¥csvæ ¼å¼ä¿å­˜äº†ä¼ æ„Ÿå™¨ä¹‹é—´çš„è·ç¦»ã€‚metr-la.h5å’Œpems-bay.h5æ˜¯ä¸¤ä¸ªåŸå¸‚çš„äº¤é€šæ•°æ®ã€‚</li><li>figuresæ–‡ä»¶å­˜æ”¾çš„æ˜¯æ¨¡å‹æ€»ä½“ç»“æ„çš„å›¾ç‰‡ã€‚</li><li>libæ–‡ä»¶åŒ…å«æ¨¡å‹ç”¨åˆ°çš„å·¥å…·å‡½æ•°ã€ä¼˜åŒ–ç®—æ³•å’Œè¯„ä»·æŒ‡æ ‡ã€‚</li><li>modelæ–‡ä»¶ä¸­dcrnn_supervisor.pyæ˜¯è®­ç»ƒè¿‡ç¨‹ä¸­æ§åˆ¶æ•´ä¸ªè®­ç»ƒæµç¨‹çš„æ–‡ä»¶ï¼Œdcrnn_model.pyå®šä¹‰äº†dcrnnæ¨¡å‹ï¼Œdcrnn_cell.pyå®šä¹‰äº†æ¨¡å‹ä¸­çš„cellå•å…ƒï¼Œå…¶ä¸­å®ç°äº†æ ¸å¿ƒçš„æ‰©æ•£å·ç§¯ã€‚</li><li>scriptsåŒ…å«æ•°æ®é¢„å¤„ç†ä»£ç ï¼Œå…¶ä¸­gen_adj_mx.pyç”¨äºç”Ÿæˆå›¾çš„é‚»æ¥çŸ©é˜µï¼Œgenerate_training_data.pyç”¨äºç”Ÿæˆè®­ç»ƒã€éªŒè¯å’Œæµ‹è¯•æ•°æ®ã€‚</li><li>dcrnn_train_pytorch.pyæ˜¯ç”¨æ¥è®­ç»ƒæ¨¡å‹çš„ï¼Œrun_demo_pytorch.pyæ˜¯ç”¨æ¥è·‘ä¸€ä¸‹å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ã€‚</li></ol><span id="more"></span><p><img src="./å›¾ç‰‡ 1.png" style="zoom:60%;" /></p><h2 id="è¿è¡Œè¯´æ˜"><a href="#è¿è¡Œè¯´æ˜" class="headerlink" title="è¿è¡Œè¯´æ˜"></a>è¿è¡Œè¯´æ˜</h2><h3 id="éœ€è¦å®‰è£…çš„ä¾èµ–"><a href="#éœ€è¦å®‰è£…çš„ä¾èµ–" class="headerlink" title="éœ€è¦å®‰è£…çš„ä¾èµ–"></a>éœ€è¦å®‰è£…çš„ä¾èµ–</h3><ul><li>torch</li><li>scipy&gt;=0.19.0</li><li>numpy&gt;=1.12.1</li><li>pandas&gt;=0.19.2</li><li>pyyaml</li><li>statsmodels</li><li>tensorflow&gt;=1.3.0</li><li>tables</li><li>future</li></ul><p>ä¾èµ–å¯ä»¥ä¾ç…§ä¸‹é¢çš„å‘½ä»¤ç›´æ¥å®‰è£…:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨pipå®‰è£…çš„ä¸€äº›å»ºè®®</strong></p><ul><li>å¾—ä¿è¯pipå¯¹åº”çš„ç¯å¢ƒä¸æ˜¯baseç¯å¢ƒï¼Œä¸ç„¶ä¼šå’Œå…¶ä»–ç¯å¢ƒå†²çªï¼Œä¸€å®šè¦ç”¨which pythonæˆ–è€…where pythonæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æ˜¯è‡ªå·±condaç¯å¢ƒå†…çš„pythonã€‚</li><li>æœ€å¥½æ˜¯ä½¿ç”¨condaä¸€ä¸ªä¸ªå®‰è£…</li></ul><h3 id="ä¸tensorflowçš„æ•ˆç‡æ¯”è¾ƒ"><a href="#ä¸tensorflowçš„æ•ˆç‡æ¯”è¾ƒ" class="headerlink" title="ä¸tensorflowçš„æ•ˆç‡æ¯”è¾ƒ"></a>ä¸tensorflowçš„æ•ˆç‡æ¯”è¾ƒ</h3><p>ä½¿ç”¨MAEæŸå¤±å‡½æ•°</p><div class="table-container"><table><thead><tr><th style="text-align:left">Horizon</th><th style="text-align:center">Tensorflow</th><th style="text-align:center">Pytorch</th></tr></thead><tbody><tr><td style="text-align:left">1 Hour</td><td style="text-align:center">3.69</td><td style="text-align:center">3.12</td></tr><tr><td style="text-align:left">30 Min</td><td style="text-align:center">3.15</td><td style="text-align:center">2.82</td></tr><tr><td style="text-align:left">15 Min</td><td style="text-align:center">2.77</td><td style="text-align:center">2.56</td></tr></tbody></table></div><h2 id="æ•°æ®é¢„å¤„ç†"><a href="#æ•°æ®é¢„å¤„ç†" class="headerlink" title="æ•°æ®é¢„å¤„ç†"></a>æ•°æ®é¢„å¤„ç†</h2><p>METR-LAå’ŒPEMS-BAYçš„æ•°æ®æ–‡ä»¶, <code>metr-la.h5</code> å’Œ <code>pems-bay.h5</code>, ä¸‹è½½åœ°å€ <a href="https://pan.baidu.com/s/14Yy9isAIZYdU__OYEQGa_g">Baidu Yun</a>, æŠŠä»–ä»¬æ”¾åœ¨ <code>data/</code> æ–‡ä»¶å¤¹.<br> <code>*.h5</code> ä»¥ <code>panads.DataFrame</code> æ ¼å¼å­˜æ”¾æ•°æ®ï¼Œä½¿ç”¨çš„æ˜¯ <code>HDF5</code> æ–‡ä»¶æ ¼å¼ã€‚æ•°æ®æ¡†å¦‚ä¸‹æ‰€ç¤º:</p><div class="table-container"><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">sensor_0</th><th style="text-align:center">sensor_1</th><th style="text-align:center">sensor_2</th><th style="text-align:center">sensor_n</th></tr></thead><tbody><tr><td style="text-align:center">2018/01/01 00:00:00</td><td style="text-align:center">60.0</td><td style="text-align:center">65.0</td><td style="text-align:center">70.0</td><td style="text-align:center">â€¦</td></tr><tr><td style="text-align:center">2018/01/01 00:05:00</td><td style="text-align:center">61.0</td><td style="text-align:center">64.0</td><td style="text-align:center">65.0</td><td style="text-align:center">â€¦</td></tr><tr><td style="text-align:center">2018/01/01 00:10:00</td><td style="text-align:center">63.0</td><td style="text-align:center">65.0</td><td style="text-align:center">60.0</td><td style="text-align:center">â€¦</td></tr><tr><td style="text-align:center">â€¦</td><td style="text-align:center">â€¦</td><td style="text-align:center">â€¦</td><td style="text-align:center">â€¦</td><td style="text-align:center">â€¦</td></tr></tbody></table></div><p>è¿™æ˜¯å…³äºHDF5æ•°æ®æ ¼å¼çš„å‚è€ƒèµ„æ–™ï¼š <a href="https://medium.com/@jerilkuriakose/using-hdf5-with-python-6c5242d08773">Using HDF5 with Python</a>.</p><p>è¿è¡Œä¸‹é¢å‘½ä»¤ç”Ÿæˆ train/test/val æ•°æ®é›†ï¼Œæ•°æ®é›†ä½äº <code>data/&#123;METR-LA,PEMS-BAY&#125;/&#123;train,val,test&#125;.npz</code>.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆæ•°æ®é›†æ–‡ä»¶å¤¹</span></span><br><span class="line">mkdir -p data/&#123;METR-LA,PEMS-BAY&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># METR-LA</span></span><br><span class="line">python -m scripts.generate_training_data --output_dir=data/METR-LA --traffic_df_filename=data/metr-la.h5</span><br><span class="line"></span><br><span class="line"><span class="comment"># PEMS-BAY</span></span><br><span class="line">python -m scripts.generate_training_data --output_dir=data/PEMS-BAY --traffic_df_filename=data/pems-bay.h5</span><br></pre></td></tr></table></figure><h2 id="è¿è¡Œé¢„è®­ç»ƒæ¨¡å‹æ¨¡å‹"><a href="#è¿è¡Œé¢„è®­ç»ƒæ¨¡å‹æ¨¡å‹" class="headerlink" title="è¿è¡Œé¢„è®­ç»ƒæ¨¡å‹æ¨¡å‹"></a>è¿è¡Œé¢„è®­ç»ƒæ¨¡å‹æ¨¡å‹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># METR-LA</span></span><br><span class="line">python run_demo_pytorch.py --config_filename=data/model/pretrained/METR-LA/config.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># PEMS-BAY</span></span><br><span class="line">python run_demo_pytorch.py --config_filename=data/model/pretrained/PEMS-BAY/config.yaml</span><br></pre></td></tr></table></figure><p>DCRNNæ¨¡å‹çš„é¢„æµ‹ç»“æœä½äº <code>data/results/dcrnn_predictions</code>.</p><h2 id="æ¨¡å‹è®­ç»ƒ"><a href="#æ¨¡å‹è®­ç»ƒ" class="headerlink" title="æ¨¡å‹è®­ç»ƒ"></a>æ¨¡å‹è®­ç»ƒ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># METR-LA</span></span><br><span class="line">python dcrnn_train_pytorch.py --config_filename=data/model/dcrnn_la.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># PEMS-BAY</span></span><br><span class="line">python dcrnn_train_pytorch.py --config_filename=data/model/dcrnn_bay.yaml</span><br><span class="line">æœ‰å¯èƒ½æ¢¯åº¦çˆ†ç‚¸ï¼Œä¸´æ—¶çš„è§£å†³åŠæ³•æ˜¯åœ¨çˆ†ç‚¸å‰ä¸­æ–­åæ–­ç‚¹ç»­è®­ï¼Œæˆ–è€…é™ä½å­¦ä¹ é€Ÿç‡ã€‚</span><br></pre></td></tr></table></figure><h2 id="æ¨¡å‹è¯„ä¼°"><a href="#æ¨¡å‹è¯„ä¼°" class="headerlink" title="æ¨¡å‹è¯„ä¼°"></a>æ¨¡å‹è¯„ä¼°</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># METR-LA</span></span><br><span class="line">python -m scripts.eval_baseline_methods --traffic_reading_filename=data/metr-la.h5</span><br></pre></td></tr></table></figure><h3 id="PyTorchè¿è¡Œç»“æœ"><a href="#PyTorchè¿è¡Œç»“æœ" class="headerlink" title="PyTorchè¿è¡Œç»“æœ"></a>PyTorchè¿è¡Œç»“æœ</h3><p><img src="./result1.png" alt="PyTorch Results" title="PyTorch Results"></p><p><img src="./result2.png" alt="PyTorch Results" title="PyTorch Results"></p><p><img src="./result3.png" alt="PyTorch Results" title="PyTorch Results"></p><p><img src="./result4.png" alt="PyTorch Results" title="PyTorch Results"></p><h2 id="scriptsæ–‡ä»¶"><a href="#scriptsæ–‡ä»¶" class="headerlink" title="scriptsæ–‡ä»¶"></a>scriptsæ–‡ä»¶</h2><p>ä¸»è¦åŒ…æ‹¬æ•°æ®é¢„å¤„ç†çš„ä»£ç ã€‚</p><h3 id="gen-adj-mx-py"><a href="#gen-adj-mx-py" class="headerlink" title="gen_adj_mx.py"></a>gen_adj_mx.py</h3><p>gen_adj_mx.pyæ˜¯ç”¨æ¥ç”Ÿæˆé‚»æ¥çŸ©é˜µçš„ã€‚</p><p>mainå‡½æ•°é‡Œé¢é¦–å…ˆå®šä¹‰äº†å‘½ä»¤è¡Œå‚æ•°ï¼Œå¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parser.add_argument(<span class="string">&#x27;--sensor_ids_filename&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, default=<span class="string">&#x27;data/sensor_graph/graph_sensor_ids.txt&#x27;</span>, <span class="built_in">help</span>=<span class="string">&#x27;File containing sensor ids separated by comma.&#x27;</span>) </span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„å‚æ•°åˆ†åˆ«è¡¨ç¤ºå‘½ä»¤çš„åç§°ï¼Œç±»å‹ï¼Œé»˜è®¤å€¼ï¼Œå¸®åŠ©ä¿¡æ¯ã€‚ å®šä¹‰åå°±å¯ä»¥ç”¨å®šä¹‰åå°±å¯ä»¥ç”¨ <code>args.sensor_ids_filename</code> å°±å¯ä»¥å–ç›¸åº”çš„å€¼ã€‚ç„¶åé€šè¿‡<code>get_adjacency_matrix</code> å‡½æ•°ç”Ÿæˆé‚»æ¥çŸ©é˜µï¼Œæœ€åä¿å­˜åˆ° pickle çš„æ–‡ä»¶ã€‚ <code>get_adjacency_matrix(distance_df, sensor_ids, normalized_k=0.1)</code> å…·ä½“çš„è§£é‡Š:</p><ol><li><p>åˆå§‹åŒ–: <code>dist_mx</code>çš„å¤§å°ä¸º<code>[num_sensors,num_sensors]</code>å…¶ä¸­ <code>(num_sensors = len(sensor_ids))</code>ï¼Œåˆå§‹å€¼ä¸º<code>inf</code>(æ— é™å¤§)</p></li><li><p>æ„å»ºä¼ æ„Ÿå™¨idåˆ°ç´¢å¼•æ˜ å°„:éå†æ‰€æœ‰å¯¹è±¡ <code>sensor_ids</code> ï¼Œå°†æ¯ä¸€ä¸ª<code>i</code> å¡«å……è‡³<code>sensor_id_to_ind[sensor_id]</code> ï¼Œå³ <code>sensor_id_to_ind[sensor_id] = i</code>ã€‚</p></li><li><p>ç”¨è·ç¦»å¡«å……çŸ©é˜µä¸­çš„å•å…ƒæ ¼:éå†æ‰€æœ‰<code>distance_df.values</code> ï¼Œä» <code>sensor_id_to_ind[row[0]]</code>( <code>from</code> )åˆ°<code>sensor_id_to_ind[row[1]]</code>(<code>to</code> )ï¼Œå¡«å……<code>row[2]</code> (<code>distance</code> )ã€‚</p></li><li><p>å¯¹ <code>dist_mx</code> è¿›è¡Œå½’ä¸€åŒ–ï¼Œä»¥å‡å°‘è®¡ç®—é‡;å¯¹äºç¨€ç–æ€§ï¼Œå°†ä½äºé˜ˆå€¼(ä¾‹å¦‚k)çš„é¡¹è®¾ç½®ä¸ºé›¶ï¼Œ</p><p>å¦‚: <code>adj_mx[adj_mx &lt; normalized_k] = 0</code></p></li></ol><h3 id="generate-training-data-py"><a href="#generate-training-data-py" class="headerlink" title="generate_training_data.py"></a>generate_training_data.py</h3><p>generate_training_data.pyæ˜¯ç”¨æ¥ç”Ÿæˆè®­ç»ƒæ•°æ®çš„ã€‚</p><ol><li><p>ä»¥1å°æ—¶ä¸ºç»Ÿè®¡é—´éš”ï¼Œè®°å½•æ¯å¤©çš„é—´éš”å°æ—¶æ•°<code>time_in_day</code> ï¼Œå¹¶æ·»åŠ åˆ° <code>data_list</code></p></li><li><p>ä»¥1å¤©ä¸ºç»Ÿè®¡é—´éš”ï¼Œè®°å½•æ¯å‘¨çš„é—´éš”å¤©æ•° <code>day_in_week</code> ï¼Œå¹¶æ·»åŠ åˆ° <code>data_list</code></p></li><li><p>åœ¨è¡¥å¿ä¹‹åçš„æ—¶é—´èŒƒå›´å†…<code>(range(min_t,max_t))</code>ï¼Œè®°å½•æ¯å¤©çš„æ—¶é—´ç‰¹å¾æŒ‡æ ‡åˆ°<code>x</code>ï¼Œ<code>y</code></p></li><li><p>å°†æ•°æ®å†™å…¥npzæ–‡ä»¶( <code>num_test = 6831</code> )ä½¿ç”¨æœ€åçš„6831ç¤ºä¾‹ä½œä¸ºæµ‹è¯•ï¼Œå…¶ä¸­1/8ç”¨äºéªŒè¯ï¼Œ</p><p>å…¶ä½™7/8ç”¨äºè®­ç»ƒã€‚</p></li></ol><p><img src="./å›¾ç‰‡ 2.png" alt=""></p><h3 id="modelæ–‡ä»¶"><a href="#modelæ–‡ä»¶" class="headerlink" title="modelæ–‡ä»¶"></a>modelæ–‡ä»¶</h3><p>æ¨¡å‹æ€»ä½“æ¡†æ¶å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ€»ä½“æ˜¯ä¸€ä¸ªencoder-decoderç»“æ„ï¼Œencoderå’Œdecoderé‡Œé¢å„åŒ…å«æœ‰ä¸¤ä¸ª RNNCellï¼Œæ¯ä¸ªRNNCellåŒ…å«æœ‰64ä¸ªunitsï¼Œæ¯ä¸ªunitsé‡Œé¢åŒ…å«207ä¸ªç»“ç‚¹(ä¼ æ„Ÿå™¨ä¸ªæ•°)ã€‚å…¶ä¸­ç”¨åˆ°äº† scheduled samplingï¼Œå³æ¯æ¬¡ä»¥ä¸€å®šçš„æ¦‚ç‡ç”¨æ¨¡å‹çš„é¢„æµ‹å€¼ä½œä¸ºä¸‹ä¸€ä¸ªcellçš„è¾“å…¥è¿›è¡Œé¢„æµ‹ï¼Œå¹¶ä¸”è¿™ä¸ª æ¦‚ç‡å€¼éšç€æ—¶é—´å¢å¤§ã€‚GOæ˜¯åˆå§‹åŒ–ä¸ºå…¨0çš„çŸ©é˜µï¼Œå³ç¬¬ä¸€æ¬¡ç”¨æ¨¡å‹çš„é¢„æµ‹å€¼ä½œä¸ºä¸‹ä¸€ä¸ªcellçš„è¾“å…¥è¿›è¡Œé¢„ æµ‹çš„æ—¶å€™æ˜¯å–å…¨0çš„å€¼ä½œä¸ºè¾“å…¥ã€‚</p><p><img src="./Fig2.JPG" alt="Fig2"></p><h4 id="dcrnn-supervisor-py"><a href="#dcrnn-supervisor-py" class="headerlink" title="dcrnn_supervisor.py"></a>dcrnn_supervisor.py</h4><p><img src="./sup.png" alt="sup"></p><p>ç”¨äºç®¡ç†æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹(ä»è¾“å…¥åˆ°è¾“å‡º)ï¼Œå³å®šä¹‰æ•´ä¸ªå›¾ã€‚å®šä¹‰äº†ä¸€ä¸ªDCRNNSupervisorç±»ï¼Œå®ƒä¿å­˜äº† è®­ç»ƒè¿‡ç¨‹çš„å‚æ•°ï¼Œå®šä¹‰äº†è®°å½•è®­ç»ƒçŠ¶æ€çš„loggingï¼Œç„¶åå°†æ•°æ®æ”¾å…¥DCRNNæ¨¡å‹ä¸­è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°ç»“æœåè®¡ç®—æŸå¤±ï¼Œè·å¾—æ¢¯åº¦ï¼Œè¿›è¡Œæ¢¯åº¦è£å‰ªï¼Œæ›´æ–°æ¢¯åº¦ï¼Œä¿å­˜å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DCRNNSupervisor</span>:</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ç±»å: DCRNNSupervisor</span></span><br><span class="line"><span class="string">        ä¸»è¦æˆå‘˜ï¼š</span></span><br><span class="line"><span class="string">        1ã€log:åˆå§‹åŒ–èƒ½è®°å½•ã€æ‰“å°logçš„self.__loggerç±»</span></span><br><span class="line"><span class="string">        2ã€data:åŠ è½½æ•°æ®é›†çš„ç±»ï¼Œè¯¥ç±»åŒ…æ‹¬Dataloaderå’Œscaler</span></span><br><span class="line"><span class="string">        3ã€èŠ‚ç‚¹æ•°ï¼Œè¾“å…¥ç‰¹å¾å‘é‡ç»´åº¦ï¼Œè¾“å…¥æ­¥é•¿ï¼Œè¾“å‡ºç»´åº¦ï¼Œè¾“å‡ºæ­¥é•¿ã€‚</span></span><br><span class="line"><span class="string">        4ã€æ˜¯å¦ä½¿ç”¨è¯¾ç¨‹å¼å­¦ä¹  å‚è€ƒèµ„æ–™ https://blog.csdn.net/qq_30219017/article/details/89090690</span></span><br><span class="line"><span class="string">        5ã€å®ä¾‹åŒ–çš„DCRNNæ¨¡å‹</span></span><br><span class="line"><span class="string">        ä¸»è¦æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="string">        1ã€train(self, **kwargs) è¯¥æ–¹æ³•å°†å¤–éƒ¨çš„å‚æ•°ä¸å†…éƒ¨åˆå¹¶èµ·æ¥å¹¶è°ƒç”¨_train(**kwargs)</span></span><br><span class="line"><span class="string">        2ã€evaluate(self, dataset=&#x27;val&#x27;, batches_seen=0) å°†æ¨¡å‹å˜ä¸ºè¯„ä¼°æ¨¡å¼ï¼Œè¿­ä»£æµ‹è¯•é›†è®¡ç®—å‡†ç¡®ç‡å’ŒæŸå¤±å€¼</span></span><br><span class="line"><span class="string">        3ã€_train(self, base_lr,</span></span><br><span class="line"><span class="string">               steps, patience=50, epochs=100, lr_decay_ratio=0.1, log_every=1, save_model=1,</span></span><br><span class="line"><span class="string">               test_every_n_epochs=10, epsilon=1e-8, **kwargs)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>(1)ç±»åˆå§‹åŒ–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, adj_mx, **kwargs</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å‡½æ•°å: __init__</span></span><br><span class="line"><span class="string">    å‡½æ•°åŠŸèƒ½æè¿°: åˆå§‹åŒ–DCRNNSupervisoræˆå‘˜</span></span><br><span class="line"><span class="string">    å‡½æ•°å‚æ•°: é‚»æ¥çŸ©é˜µå’Œkwargs</span></span><br><span class="line"><span class="string">    å‡½æ•°è¿”å›å€¼: NULL</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    self._kwargs = kwargs<span class="comment">#kwargsæ˜¯ä¼ å…¥çš„yamlæ–‡ä»¶å†…çš„å‚æ•°è¯¥æ–‡ä»¶ä¿å­˜äº†dataï¼Œmodelï¼Œtrainä¸‰éƒ¨åˆ†ä¿¡æ¯ã€‚</span></span><br><span class="line">    self._data_kwargs = kwargs.get(<span class="string">&#x27;data&#x27;</span>)</span><br><span class="line">    self._model_kwargs = kwargs.get(<span class="string">&#x27;model&#x27;</span>)</span><br><span class="line">    self._train_kwargs = kwargs.get(<span class="string">&#x27;train&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    self.max_grad_norm = self._train_kwargs.get(<span class="string">&#x27;max_grad_norm&#x27;</span>, <span class="number">1.</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹logç±»åˆå§‹åŒ–</span></span><br><span class="line">    self._log_dir = self._get_log_dir(kwargs)</span><br><span class="line">    self._writer = SummaryWriter(<span class="string">&#x27;runs/&#x27;</span> + self._log_dir)</span><br><span class="line"></span><br><span class="line">    log_level = self._kwargs.get(<span class="string">&#x27;log_level&#x27;</span>, <span class="string">&#x27;INFO&#x27;</span>)</span><br><span class="line">    self._logger = utils.get_logger(self._log_dir, __name__, <span class="string">&#x27;info.log&#x27;</span>, level=log_level)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹æ•°æ®é›†ä¿¡æ¯åˆå§‹åŒ–</span></span><br><span class="line">    self._data = utils.load_dataset(**self._data_kwargs)<span class="comment">#å®ä¾‹åŒ–datasetç±»</span></span><br><span class="line">    self.standard_scaler = self._data[<span class="string">&#x27;scaler&#x27;</span>]<span class="comment">#å®ä¾‹åŒ–æ ‡å‡†åŒ–ç±»</span></span><br><span class="line"></span><br><span class="line">    self.num_nodes = <span class="built_in">int</span>(self._model_kwargs.get(<span class="string">&#x27;num_nodes&#x27;</span>, <span class="number">1</span>))<span class="comment">#èŠ‚ç‚¹æ•°</span></span><br><span class="line">    self.input_dim = <span class="built_in">int</span>(self._model_kwargs.get(<span class="string">&#x27;input_dim&#x27;</span>, <span class="number">1</span>))<span class="comment">#è¾“å…¥ç‰¹å¾å‘é‡ç»´åº¦</span></span><br><span class="line">    self.seq_len = <span class="built_in">int</span>(self._model_kwargs.get(<span class="string">&#x27;seq_len&#x27;</span>))  <span class="comment"># è¾“å…¥åºåˆ—æ­¥é•¿</span></span><br><span class="line">    self.output_dim = <span class="built_in">int</span>(self._model_kwargs.get(<span class="string">&#x27;output_dim&#x27;</span>, <span class="number">1</span>)) <span class="comment">#è¾“å‡ºç»´åº¦</span></span><br><span class="line">    self.use_curriculum_learning = <span class="built_in">bool</span>(</span><br><span class="line">      self._model_kwargs.get(<span class="string">&#x27;use_curriculum_learning&#x27;</span>, <span class="literal">False</span>))<span class="comment">#æ˜¯å¦ä½¿ç”¨è¯¾ç¨‹å­¦ä¹ </span></span><br><span class="line">    self.horizon = <span class="built_in">int</span>(self._model_kwargs.get(<span class="string">&#x27;horizon&#x27;</span>, <span class="number">1</span>))  <span class="comment">#è¾“å‡ºåºåˆ—æ­¥é•¿</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># setup model</span></span><br><span class="line">    dcrnn_model = DCRNNModel(adj_mx, self._logger, **self._model_kwargs)<span class="comment">#DCRNNæ¨¡å‹å®ä¾‹åŒ–</span></span><br><span class="line">    self.dcrnn_model = dcrnn_model.cuda() <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> dcrnn_model</span><br><span class="line">    self._logger.info(<span class="string">&quot;Model created&quot;</span>)</span><br><span class="line"></span><br><span class="line">    self._epoch_num = self._train_kwargs.get(<span class="string">&#x27;epoch&#x27;</span>, <span class="number">0</span>)<span class="comment">#è®­ç»ƒè½®æ•°</span></span><br><span class="line">    <span class="keyword">if</span> self._epoch_num &gt; <span class="number">0</span>:</span><br><span class="line">      self.load_model()</span><br></pre></td></tr></table></figure><p>(2)è®­ç»ƒæ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_train</span>(<span class="params">self, base_lr,</span></span></span><br><span class="line"><span class="function"><span class="params">           steps, patience=<span class="number">50</span>, epochs=<span class="number">100</span>, lr_decay_ratio=<span class="number">0.1</span>, log_every=<span class="number">1</span>, save_model=<span class="number">1</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">           test_every_n_epochs=<span class="number">10</span>, epsilon=<span class="number">1e-8</span>, **kwargs</span>):</span></span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å‡½æ•°å: _train</span></span><br><span class="line"><span class="string">    å‡½æ•°åŠŸèƒ½æè¿°: è®­ç»ƒæµç¨‹</span></span><br><span class="line"><span class="string">    å‡½æ•°å‚æ•°: steps, patience=50, epochs=100, lr_decay_ratio=0.1, log_every=1, save_model=1,</span></span><br><span class="line"><span class="string">           test_every_n_epochs=10, epsilon=1e-8, **kwargs</span></span><br><span class="line"><span class="string">    å‡½æ•°è¿”å›å€¼: NULL</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># steps is used in learning rate - will see if need to use it?</span></span><br><span class="line">    min_val_loss = <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">    wait = <span class="number">0</span></span><br><span class="line">    optimizer = torch.optim.Adam(self.dcrnn_model.parameters(), lr=base_lr, eps=epsilon)<span class="comment">#å®šä¹‰adamä¼˜åŒ–å™¨</span></span><br><span class="line"></span><br><span class="line">    lr_scheduler = torch.optim.lr_scheduler.MultiStepLR(optimizer, milestones=steps,</span><br><span class="line">                                                        gamma=lr_decay_ratio)<span class="comment">#æŒ‰éœ€è°ƒæ•´å­¦ä¹ ç‡ MultiStepLR è°ƒæ•´å­¦ä¹ ç‡çš„ä¸€äº›å°tips https://liumin.blog.csdn.net/article/details/85143614</span></span><br><span class="line"></span><br><span class="line">    self._logger.info(<span class="string">&#x27;Start training ...&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># this will fail if model is loaded with a changed batch_size</span></span><br><span class="line">    num_batches = self._data[<span class="string">&#x27;train_loader&#x27;</span>].num_batch<span class="comment">#è®­ç»ƒæ‰¹æ¬¡æ•°</span></span><br><span class="line">    self._logger.info(<span class="string">&quot;num_batches:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(num_batches))</span><br><span class="line"></span><br><span class="line">    batches_seen = num_batches * self._epoch_num</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> epoch_num <span class="keyword">in</span> <span class="built_in">range</span>(self._epoch_num, epochs):</span><br><span class="line"></span><br><span class="line">        self.dcrnn_model = self.dcrnn_model.train()<span class="comment">#æ¨¡å‹è®¾ç½®ä¸ºè®­ç»ƒæ¨¡å¼</span></span><br><span class="line"></span><br><span class="line">        train_iterator = self._data[<span class="string">&#x27;train_loader&#x27;</span>].get_iterator()<span class="comment">#è·å–ç”Ÿæˆè®­ç»ƒé›†çš„è¿­ä»£å™¨</span></span><br><span class="line">        losses = []</span><br><span class="line"></span><br><span class="line">        start_time = time.time()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> _, (x, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_iterator):</span><br><span class="line">            optimizer.zero_grad()<span class="comment">#æ¸…ç©ºæ¢¯åº¦</span></span><br><span class="line"></span><br><span class="line">            x, y = self._prepare_data(x, y)<span class="comment">#æ•°æ®é¢„å¤„ç†</span></span><br><span class="line"></span><br><span class="line">            output = self.dcrnn_model(x, y, batches_seen)<span class="comment">#å‰å‘ä¼ æ’­</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> batches_seen == <span class="number">0</span>:</span><br><span class="line">              <span class="comment"># this is a workaround to accommodate dynamically registered parameters in DCGRUCell</span></span><br><span class="line">                optimizer = torch.optim.Adam(self.dcrnn_model.parameters(), lr=base_lr, eps=epsilon)<span class="comment">#å®šä¹‰adamä¼˜åŒ–å™¨</span></span><br><span class="line"></span><br><span class="line">                loss = self._compute_loss(y, output)<span class="comment">#è®¡ç®—æŸå¤±å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">                self._logger.debug(loss.item())</span><br><span class="line"></span><br><span class="line">                losses.append(loss.item())<span class="comment">#è®°å½•æŸå¤±å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">                batches_seen += <span class="number">1</span></span><br><span class="line">                loss.backward()<span class="comment">#åå‘ä¼ æ’­</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># gradient clipping - this does it in place</span></span><br><span class="line">                torch.nn.utils.clip_grad_norm_(self.dcrnn_model.parameters(), self.max_grad_norm)<span class="comment">#æ¢¯åº¦è£å‰ª</span></span><br><span class="line"></span><br><span class="line">                optimizer.step()<span class="comment">#æ›´æ–°å‚æ•°</span></span><br><span class="line">                self._logger.info(<span class="string">&quot;epoch complete&quot;</span>)</span><br><span class="line">                lr_scheduler.step()<span class="comment">#æ›´æ–°å­¦ä¹ ç‡</span></span><br><span class="line">                self._logger.info(<span class="string">&quot;evaluating now!&quot;</span>)</span><br><span class="line"></span><br><span class="line">                val_loss, _ = self.evaluate(dataset=<span class="string">&#x27;val&#x27;</span>, batches_seen=batches_seen)<span class="comment">#è¯„ä¼°éªŒè¯é›†</span></span><br><span class="line"></span><br><span class="line">                end_time = time.time()</span><br><span class="line"></span><br><span class="line">                self._writer.add_scalar(<span class="string">&#x27;training loss&#x27;</span>,</span><br><span class="line">                                        np.mean(losses),</span><br><span class="line">                                        batches_seen)</span><br><span class="line"><span class="comment">#å†™å…¥logä¿¡æ¯ ä¿å­˜éªŒè¯é›†ä¸Šæœ€å°æŸå¤±çš„æ¨¡å‹</span></span><br><span class="line">                <span class="keyword">if</span> (epoch_num % log_every) == log_every - <span class="number">1</span>:</span><br><span class="line">                    message = <span class="string">&#x27;Epoch [&#123;&#125;/&#123;&#125;] (&#123;&#125;) train_mae: &#123;:.4f&#125;, val_mae: &#123;:.4f&#125;, lr: &#123;:.6f&#125;, &#x27;</span> \</span><br><span class="line">                    <span class="string">&#x27;&#123;:.1f&#125;s&#x27;</span>.<span class="built_in">format</span>(epoch_num, epochs, batches_seen,</span><br><span class="line">                                     np.mean(losses), val_loss, lr_scheduler.get_lr()[<span class="number">0</span>],</span><br><span class="line">                                     (end_time - start_time))</span><br><span class="line">                    self._logger.info(message)</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (epoch_num % test_every_n_epochs) == test_every_n_epochs - <span class="number">1</span>:</span><br><span class="line">                        test_loss, _ = self.evaluate(dataset=<span class="string">&#x27;test&#x27;</span>, batches_seen=batches_seen)</span><br><span class="line">                        message = <span class="string">&#x27;Epoch [&#123;&#125;/&#123;&#125;] (&#123;&#125;) train_mae: &#123;:.4f&#125;, test_mae: &#123;:.4f&#125;,  lr: &#123;:.6f&#125;, &#x27;</span> \</span><br><span class="line">                        <span class="string">&#x27;&#123;:.1f&#125;s&#x27;</span>.<span class="built_in">format</span>(epoch_num, epochs, batches_seen,</span><br><span class="line">                                         np.mean(losses), test_loss, lr_scheduler.get_lr()[<span class="number">0</span>],</span><br><span class="line">                                         (end_time - start_time))</span><br><span class="line">                        self._logger.info(message)</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span> val_loss &lt; min_val_loss:</span><br><span class="line">                            wait = <span class="number">0</span></span><br><span class="line">                            <span class="keyword">if</span> save_model:</span><br><span class="line">                                model_file_name = self.save_model(epoch_num)</span><br><span class="line">                                self._logger.info(</span><br><span class="line">                                  <span class="string">&#x27;Val loss decrease from &#123;:.4f&#125; to &#123;:.4f&#125;, &#x27;</span></span><br><span class="line">                                  <span class="string">&#x27;saving to &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(min_val_loss, val_loss, model_file_name))</span><br><span class="line">                                min_val_loss = val_loss</span><br><span class="line"></span><br><span class="line">                                <span class="keyword">elif</span> val_loss &gt;= min_val_loss:</span><br><span class="line">                                    wait += <span class="number">1</span></span><br><span class="line">                                    <span class="keyword">if</span> wait == patience:</span><br><span class="line">                                        self._logger.warning(<span class="string">&#x27;Early stopping at epoch: %d&#x27;</span> % epoch_num)</span><br><span class="line">                                        <span class="keyword">break</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>(3)è¯„ä¼°æ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">evaluate</span>(<span class="params">self, dataset=<span class="string">&#x27;val&#x27;</span>, batches_seen=<span class="number">0</span></span>):</span></span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">   å‡½æ•°å: evaluate</span></span><br><span class="line"><span class="string">   å‡½æ•°åŠŸèƒ½æè¿°: è¯„ä¼°æ¨¡å‹</span></span><br><span class="line"><span class="string">   å‡½æ•°å‚æ•°:  dataset=&#x27;val&#x27;, batches_seen=0</span></span><br><span class="line"><span class="string">   å‡½æ•°è¿”å›å€¼: NULL</span></span><br><span class="line"><span class="string">   &quot;&quot;&quot;</span></span><br><span class="line">  <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">    self.dcrnn_model = self.dcrnn_model.<span class="built_in">eval</span>()<span class="comment">#è¯„ä¼°æ¨¡å¼</span></span><br><span class="line"></span><br><span class="line">    val_iterator = self._data[<span class="string">&#x27;&#123;&#125;_loader&#x27;</span>.<span class="built_in">format</span>(dataset)].get_iterator()<span class="comment">#ç”Ÿæˆæ•°æ®é›†</span></span><br><span class="line">    losses = []</span><br><span class="line"></span><br><span class="line">    y_truths = []</span><br><span class="line">    y_preds = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, (x, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(val_iterator):</span><br><span class="line">      x, y = self._prepare_data(x, y)<span class="comment">#æ•°æ®é¢„å¤„ç†</span></span><br><span class="line"></span><br><span class="line">      output = self.dcrnn_model(x)<span class="comment">#å‰å‘ä¼ æ’­</span></span><br><span class="line">      loss = self._compute_loss(y, output)<span class="comment">#è®¡ç®—æŸå¤±å‡½æ•°</span></span><br><span class="line">      losses.append(loss.item())</span><br><span class="line"></span><br><span class="line">      y_truths.append(y.cpu())<span class="comment">#è®°å½•æ ‡ç­¾</span></span><br><span class="line">      y_preds.append(output.cpu())<span class="comment">#è®°å½•é¢„æµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">      mean_loss = np.mean(losses)</span><br><span class="line"></span><br><span class="line">      self._writer.add_scalar(<span class="string">&#x27;&#123;&#125; loss&#x27;</span>.<span class="built_in">format</span>(dataset), mean_loss, batches_seen)</span><br><span class="line"></span><br><span class="line">      y_preds = np.concatenate(y_preds, axis=<span class="number">1</span>)</span><br><span class="line">      y_truths = np.concatenate(y_truths, axis=<span class="number">1</span>)  <span class="comment"># åœ¨batch_sizeç»´æ‹¼æ¥</span></span><br><span class="line"></span><br><span class="line">      y_truths_scaled = []</span><br><span class="line">      y_preds_scaled = []</span><br><span class="line">      <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(y_preds.shape[<span class="number">0</span>]):</span><br><span class="line">        y_truth = self.standard_scaler.inverse_transform(y_truths[t])</span><br><span class="line">        y_pred = self.standard_scaler.inverse_transform(y_preds[t])</span><br><span class="line">        y_truths_scaled.append(y_truth)</span><br><span class="line">        y_preds_scaled.append(y_pred)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> mean_loss, &#123;<span class="string">&#x27;prediction&#x27;</span>: y_preds_scaled, <span class="string">&#x27;truth&#x27;</span>: y_truths_scaled&#125;</span><br></pre></td></tr></table></figure><h4 id="dcrnn-model-py"><a href="#dcrnn-model-py" class="headerlink" title="dcrnn_model.py"></a>dcrnn_model.py</h4><p>è¿™éƒ¨åˆ†è°ƒç”¨äº†ä¸¤æ¬¡DCGRUCellï¼Œå®ƒåˆ†åˆ«è¿”å›äº†ä¸€ä¸ªcellå’Œä¸€ä¸ªcell_with_projection(æœ€åä¸€å±‚cellè¦è¿›è¡Œ é¢„æµ‹ï¼Œéœ€è¦å°†ç»´åº¦å˜ä¸ºé¢„æµ‹å€¼çš„ç»´åº¦)ï¼Œå®šä¹‰äº†ä¸€ä¸ªencoder(åŒ…å«ä¸¤ä¸ªcell)å’Œdecoder(åŒ…å«ä¸€ä¸ªcell å’Œä¸€ä¸ªcell_with_projection)ã€‚æ¯ä¸ªRNNcellç”±64ä¸ªunitsæ„æˆï¼Œæ¯ä¸ªunitsæœ‰207ä¸ªç»“ç‚¹ã€‚</p><p><img src="./model.png" alt="model"></p><p>(1)Seq2Seqæ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Seq2SeqAttrs</span>:</span><span class="comment">#å®šä¹‰çˆ¶ç±»ï¼Œåˆå§‹åŒ–Seq2Seqæ¨¡å‹å„é¡¹å‚æ•°</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ç±»å: Seq2SeqAttrs</span></span><br><span class="line"><span class="string">        ä¸»è¦æˆå‘˜ï¼š</span></span><br><span class="line"><span class="string">        1ã€é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"><span class="string">        2ã€éšæœºæ¸¸èµ°æ­¥é•¿</span></span><br><span class="line"><span class="string">        3ã€å·ç§¯æ ¸ç±»å‹</span></span><br><span class="line"><span class="string">        4ã€èŠ‚ç‚¹æ•°</span></span><br><span class="line"><span class="string">        5ã€rnnå±‚æ•°</span></span><br><span class="line"><span class="string">        6ã€rnnå•å…ƒæ•°</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, adj_mx, **model_kwargs</span>):</span></span><br><span class="line">        self.adj_mx = adj_mx</span><br><span class="line">        self.max_diffusion_step = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;max_diffusion_step&#x27;</span>, <span class="number">2</span>))</span><br><span class="line">        self.cl_decay_steps = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;cl_decay_steps&#x27;</span>, <span class="number">1000</span>))</span><br><span class="line">        self.filter_type = model_kwargs.get(<span class="string">&#x27;filter_type&#x27;</span>, <span class="string">&#x27;laplacian&#x27;</span>)</span><br><span class="line">        self.num_nodes = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;num_nodes&#x27;</span>, <span class="number">1</span>))</span><br><span class="line">        self.num_rnn_layers = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;num_rnn_layers&#x27;</span>, <span class="number">1</span>))</span><br><span class="line">        self.rnn_units = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;rnn_units&#x27;</span>))</span><br><span class="line">        self.hidden_state_size = self.num_nodes * self.rnn_units</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>(2)EncoderModelæ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EncoderModel</span>(<span class="params">nn.Module, Seq2SeqAttrs</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ç±»å: EncoderModel</span></span><br><span class="line"><span class="string">        ä¸»è¦æˆå‘˜ï¼š</span></span><br><span class="line"><span class="string">        1ã€è¾“å…¥ç»´åº¦</span></span><br><span class="line"><span class="string">        2ã€åºåˆ—é•¿åº¦</span></span><br><span class="line"><span class="string">        3ã€dcgruå±‚[dcgrucell , dcgrucell ... dcgrucell]</span></span><br><span class="line"><span class="string">        ä¸»è¦æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="string">        1ã€forward(self, inputs, hidden_state=None)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, adj_mx, **model_kwargs</span>):</span></span><br><span class="line">        nn.Module.__init__(self)</span><br><span class="line">        Seq2SeqAttrs.__init__(self, adj_mx, **model_kwargs)</span><br><span class="line">        self.input_dim = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;input_dim&#x27;</span>, <span class="number">1</span>))<span class="comment">#è¾“å…¥ç»´åº¦</span></span><br><span class="line">        self.seq_len = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;seq_len&#x27;</span>))  <span class="comment"># è¾“å…¥encoderæ—¶é—´æ­¥</span></span><br><span class="line">        self.dcgru_layers = nn.ModuleList(</span><br><span class="line">            [DCGRUCell(self.rnn_units, adj_mx, self.max_diffusion_step, self.num_nodes,</span><br><span class="line">                       filter_type=self.filter_type) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(self.num_rnn_layers)])<span class="comment">#ä¸€ä¸ªå¾ªç¯å±‚å †å ä¸¤ä¸ªDCGRUå•å…ƒ</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, inputs, hidden_state=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Encoderå‰å‘ä¼ æ’­</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :å‚æ•° input: shape (batch_size, self.num_nodes * self.input_dim)</span></span><br><span class="line"><span class="string">        :å‚æ•° hidden_states: (num_layers, batch_size, self.hidden_state_size)</span></span><br><span class="line"><span class="string">               optional, zeros if not provided</span></span><br><span class="line"><span class="string">        :è¿”å›å€¼: output: # shape (batch_size, self.hidden_state_size)</span></span><br><span class="line"><span class="string">                hidden_states # shape (num_layers, batch_size, self.hidden_state_size)</span></span><br><span class="line"><span class="string">                 (lower indices mean lower layers)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        batch_size, _ = inputs.size()</span><br><span class="line">        <span class="keyword">if</span> hidden_state <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            hidden_state = torch.zeros((self.num_rnn_layers, batch_size, self.hidden_state_size),</span><br><span class="line">                                       device=device)<span class="comment">#æœ€å¼€å§‹æ²¡æœ‰è¾“å‡ºå€¼ä½œä¸ºç‰¹å¾å‘é‡ä¸è¾“å…¥å€¼èåˆï¼Œæ•…ä½¿ç”¨0å‘é‡</span></span><br><span class="line">        hidden_states = []</span><br><span class="line">        output = inputs</span><br><span class="line">        <span class="comment">#å¾ªç¯è¿­ä»£ä¸¤ä¸ªDCGRUå•å…ƒ</span></span><br><span class="line">        <span class="keyword">for</span> layer_num, dcgru_layer <span class="keyword">in</span> <span class="built_in">enumerate</span>(self.dcgru_layers):</span><br><span class="line">            next_hidden_state = dcgru_layer(output, hidden_state[layer_num])</span><br><span class="line">            hidden_states.append(next_hidden_state)</span><br><span class="line">            output = next_hidden_state</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> output, torch.stack(hidden_states)  <span class="comment"># æ—¶é—´å¤æ‚åº¦ O(num_layers) å°†è¿­ä»£çš„ç‰¹å¾å‘é‡æŒ‰æ—¶é—´æ­¥é¡ºåºå †å </span></span><br></pre></td></tr></table></figure><p>(3)DecoderModelæ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DecoderModel</span>(<span class="params">nn.Module, Seq2SeqAttrs</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ç±»å: EncoderModel</span></span><br><span class="line"><span class="string">        ä¸»è¦æˆå‘˜ï¼š</span></span><br><span class="line"><span class="string">        1ã€è¾“å‡ºç»´åº¦</span></span><br><span class="line"><span class="string">        2ã€è¾“å‡ºåºåˆ—é•¿åº¦</span></span><br><span class="line"><span class="string">        3ã€å…¨è¿æ¥å±‚</span></span><br><span class="line"><span class="string">        3ã€dcgruå±‚[dcgrucell , dcgrucell ... dcgrucell]</span></span><br><span class="line"><span class="string">        ä¸»è¦æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="string">        1ã€forward(self, inputs, hidden_state=None)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, adj_mx, **model_kwargs</span>):</span></span><br><span class="line">        <span class="comment"># super().__init__(is_training, adj_mx, **model_kwargs)</span></span><br><span class="line">        nn.Module.__init__(self)</span><br><span class="line">        Seq2SeqAttrs.__init__(self, adj_mx, **model_kwargs)</span><br><span class="line">        self.output_dim = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;output_dim&#x27;</span>, <span class="number">1</span>))</span><br><span class="line">        self.horizon = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;horizon&#x27;</span>, <span class="number">1</span>))  <span class="comment"># for the decoder</span></span><br><span class="line">        self.projection_layer = nn.Linear(self.rnn_units, self.output_dim)</span><br><span class="line">        self.dcgru_layers = nn.ModuleList(</span><br><span class="line">            [DCGRUCell(self.rnn_units, adj_mx, self.max_diffusion_step, self.num_nodes,</span><br><span class="line">                       filter_type=self.filter_type) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(self.num_rnn_layers)])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, inputs, hidden_state=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        è§£ç å™¨å‰å‘ä¼ æ’­ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :å‚æ•° input: shape (batch_size, self.num_nodes * self.output_dim)</span></span><br><span class="line"><span class="string">        :å‚æ•° hidden_states: (num_layers, batch_size, self.hidden_state_size)</span></span><br><span class="line"><span class="string">               optional, zeros if not provided</span></span><br><span class="line"><span class="string">        :è¿”å›å€¼: output: # shape (batch_size, self.num_nodes * self.output_dim)</span></span><br><span class="line"><span class="string">                hidden_states # shape (num_layers, batch_size, self.hidden_state_size)</span></span><br><span class="line"><span class="string">                 (lower indices mean lower layers)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        hidden_states = []</span><br><span class="line">        output = inputs</span><br><span class="line">        <span class="comment">#å¾ªç¯è¿­ä»£ä¸¤ä¸ªDCGRUå•å…ƒ</span></span><br><span class="line">        <span class="keyword">for</span> layer_num, dcgru_layer <span class="keyword">in</span> <span class="built_in">enumerate</span>(self.dcgru_layers):</span><br><span class="line">            next_hidden_state = dcgru_layer(output, hidden_state[layer_num])</span><br><span class="line">            hidden_states.append(next_hidden_state)</span><br><span class="line">            output = next_hidden_state</span><br><span class="line">        <span class="comment">#ä¸ºä¿è¯outputå’Œæ ‡ç­¾ç»´åº¦ç›¸åŒï¼Œä½¿ç”¨ä¸€å±‚å…¨è¿æ¥ç½‘ç»œä½œä¸ºæŠ•å½±å±‚ï¼ŒæŠ•å½±è‡³å’Œæ ‡ç­¾ç»´åº¦ç›¸åŒ</span></span><br><span class="line">        projected = self.projection_layer(output.view(-<span class="number">1</span>, self.rnn_units))</span><br><span class="line">        output = projected.view(-<span class="number">1</span>, self.num_nodes * self.output_dim)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> output, torch.stack(hidden_states)</span><br></pre></td></tr></table></figure><p>(4)DCRNNModelæ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DCRNNModel</span>(<span class="params">nn.Module, Seq2SeqAttrs</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ç±»å: DCRNNModel</span></span><br><span class="line"><span class="string">        ä¸»è¦æˆå‘˜ï¼š</span></span><br><span class="line"><span class="string">        1ã€ç¼–ç å™¨</span></span><br><span class="line"><span class="string">        2ã€è§£ç å™¨</span></span><br><span class="line"><span class="string">        ä¸»è¦æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="string">        1ã€encoder(self, inputs)</span></span><br><span class="line"><span class="string">        2ã€decoder(self, encoder_hidden_state, labels=None, batches_seen=None)</span></span><br><span class="line"><span class="string">        3ã€forward(self, inputs, labels=None, batches_seen=None)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, adj_mx, logger, **model_kwargs</span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        Seq2SeqAttrs.__init__(self, adj_mx, **model_kwargs)</span><br><span class="line">        self.encoder_model = EncoderModel(adj_mx, **model_kwargs)</span><br><span class="line">        self.decoder_model = DecoderModel(adj_mx, **model_kwargs)</span><br><span class="line">        self.cl_decay_steps = <span class="built_in">int</span>(model_kwargs.get(<span class="string">&#x27;cl_decay_steps&#x27;</span>, <span class="number">1000</span>))</span><br><span class="line">        self.use_curriculum_learning = <span class="built_in">bool</span>(model_kwargs.get(<span class="string">&#x27;use_curriculum_learning&#x27;</span>, <span class="literal">False</span>))</span><br><span class="line">        self._logger = logger</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">encoder</span>(<span class="params">self, inputs</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å‘ç¼–ç å™¨å¾ªç¯è¾“å…¥tä¸ªæ—¶é—´æ­¥çš„ç‰¹å¾å‘é‡</span></span><br><span class="line"><span class="string">        :å‚æ•° input: shape (seq_len, batch_size, num_sensor * input_dim)</span></span><br><span class="line"><span class="string">        :è¿”å›: encoder_hidden_state: (num_layers, batch_size, self.hidden_state_size)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        encoder_hidden_state = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(self.encoder_model.seq_len):<span class="comment">#å¾ªç¯è¿­ä»£seq_lenæ­¥</span></span><br><span class="line">            _, encoder_hidden_state = self.encoder_model(inputs[t], encoder_hidden_state)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> encoder_hidden_state</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decoder</span>(<span class="params">self, encoder_hidden_state, labels=<span class="literal">None</span>, batches_seen=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å‘è§£ç å™¨å¾ªç¯è¾“å…¥tä¸ªæ—¶é—´æ­¥çš„ç‰¹å¾å‘é‡</span></span><br><span class="line"><span class="string">        :å‚æ•° encoder_hidden_state: (num_layers, batch_size, self.hidden_state_size)</span></span><br><span class="line"><span class="string">        :å‚æ•° labels: (self.horizon, batch_size, self.num_nodes * self.output_dim)</span></span><br><span class="line"><span class="string">        :å‚æ•° batches_seen: global step [optional, not exist for inference]</span></span><br><span class="line"><span class="string">        :è¿”å›å€¼: output: (self.horizon, batch_size, self.num_nodes * self.output_dim)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        batch_size = encoder_hidden_state.size(<span class="number">1</span>)</span><br><span class="line">        go_symbol = torch.zeros((batch_size, self.num_nodes * self.decoder_model.output_dim),</span><br><span class="line">                                device=device)</span><br><span class="line">        decoder_hidden_state = encoder_hidden_state</span><br><span class="line">        decoder_input = go_symbol<span class="comment">#åœ¨ç¬¬ä¸€ä¸ªæ—¶é—´æ­¥æ²¡æœ‰ä»»ä½•é¢„æµ‹ç»“æœï¼Œä½¿ç”¨çº¯0å‘é‡ä½œä¸ºé¢„æµ‹çš„å¼€å§‹</span></span><br><span class="line"></span><br><span class="line">        outputs = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(self.decoder_model.horizon):<span class="comment">#å¾ªç¯è¿­ä»£horizonæ­¥</span></span><br><span class="line">            decoder_output, decoder_hidden_state = self.decoder_model(decoder_input,</span><br><span class="line">                                                                      decoder_hidden_state)</span><br><span class="line">            decoder_input = decoder_output<span class="comment">#ä¸Šä¸€æ­¥è¾“å‡ºä½œä¸ºä¸‹ä¸€æ­¥è¾“å…¥</span></span><br><span class="line">            outputs.append(decoder_output)</span><br><span class="line">            <span class="keyword">if</span> self.training <span class="keyword">and</span> self.use_curriculum_learning:<span class="comment">#è¯¾ç¨‹å­¦ä¹  https://zhuanlan.zhihu.com/p/81455004</span></span><br><span class="line">                c = np.random.uniform(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">if</span> c &lt; self._compute_sampling_threshold(batches_seen):<span class="comment">#æŒ‰ç…§ä¸€å®šçš„æ¦‚ç‡å†³å®šæ˜¯å¦é€‰æ‹©æ ‡ç­¾</span></span><br><span class="line">                    decoder_input = labels[t]</span><br><span class="line">        outputs = torch.stack(outputs)</span><br><span class="line">        <span class="keyword">return</span> outputs</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span>(<span class="params">self, inputs, labels=<span class="literal">None</span>, batches_seen=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Seq2Seqæ¨¡å‹å‰å‘ä¼ æ’­</span></span><br><span class="line"><span class="string">        :å‚æ•° inputs: shape (seq_len, batch_size, num_sensor * input_dim)</span></span><br><span class="line"><span class="string">        :å‚æ•° labels: shape (horizon, batch_size, num_sensor * output)</span></span><br><span class="line"><span class="string">        :å‚æ•° batches_seen: batches seen till now</span></span><br><span class="line"><span class="string">        :è¿”å›å€¼: output: (self.horizon, batch_size, self.num_nodes * self.output_dim)</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        encoder_hidden_state = self.encoder(inputs)</span><br><span class="line">        self._logger.debug(<span class="string">&quot;Encoder complete, starting decoder&quot;</span>)</span><br><span class="line">        outputs = self.decoder(encoder_hidden_state, labels, batches_seen=batches_seen)</span><br><span class="line">        self._logger.debug(<span class="string">&quot;Decoder complete&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> batches_seen == <span class="number">0</span>:</span><br><span class="line">            self._logger.info(</span><br><span class="line">                <span class="string">&quot;Total trainable parameters &#123;&#125;&quot;</span>.<span class="built_in">format</span>(count_parameters(self))</span><br><span class="line">            )</span><br><span class="line">        <span class="keyword">return</span> outputs</span><br></pre></td></tr></table></figure><h4 id="dcrnn-cell-py"><a href="#dcrnn-cell-py" class="headerlink" title="dcrnn_cell.py"></a>dcrnn_cell.py</h4><p>dcrnn_cellå®ç°äº†è®ºæ–‡ä¸­çš„DCGRUï¼Œå®ƒå°†å·ç§¯èåˆåˆ°äº†GRUé‡Œé¢ã€‚å…·ä½“ç»“æ„å¦‚ä¸‹:</p><p><img src="./cell.png" alt="cell"></p><p>å®ƒå®ç°äº†è®ºæ–‡ä¸­çš„å¦‚ä¸‹éƒ¨åˆ†ï¼š</p><p><img src="./1.png" style="zoom:70%;" /></p><p>(1)å®ç°åˆå§‹åŒ–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, num_units, adj_mx, max_diffusion_step,num_nodes,num_proj=<span class="literal">None</span>,activation=tf.nn.tanh,reuse=<span class="literal">None</span>, filter_type=<span class="string">&quot;laplacian&quot;</span>,use_gc_for_ru=<span class="literal">True</span></span>):</span></span><br></pre></td></tr></table></figure><p>è¯¥å‡½æ•°å®ç°äº†GRUæ¨¡å—æˆå‘˜å˜é‡çš„åˆå§‹åŒ–ï¼ŒåŒ…æ‹¬unitsæ•°é‡ï¼Œè·¯ç½‘å›¾è·ç¦»æƒé‡é‚»æ¥çŸ©é˜µï¼Œæ‰©æ•£æ­¥æ•°ï¼ŒèŠ‚ç‚¹æ•°é‡ã€‚è¾“å…¥å‚æ•°num_unitsè¡¨ç¤ºæ¯ä¸ªcellä¸­unitsçš„æ•°é‡ï¼Œå‚ä¸åé¢state_size(self,)ï¼Œoutput_size(self)çš„è®¡ç®—ï¼›è¾“å…¥å‚æ•°adj_mxå¯¹åº”é€Ÿåº¦æ£€æµ‹ç«™ä¹‹é—´çš„å½’ä¸€åŒ–åçš„è·ç¦»æƒé‡é‚»æ¥çŸ©é˜µï¼›è¾“å…¥å‚æ•°max_diffusion_stepè¡¨ç¤ºå…è®¸çš„æœ€å¤§éšæœºæ¸¸èµ°çš„æ­¥æ•°ï¼›è¾“å…¥å‚æ•°num_nodesè¡¨ç¤ºé€Ÿåº¦æ£€æµ‹ç«™èŠ‚ç‚¹çš„æ•°é‡ï¼›è¾“å…¥å‚æ•°num_proj ä»£è¡¨é¢„æµ‹ç»“æœçš„æ•°é‡ï¼ˆå¦‚num_proj=1è¡¨ç¤ºé¢„æµ‹1ä¸ªç»“æœï¼Œnum_proj=2è¡¨ç¤ºé¢„æµ‹2ä¸ªç»“æœï¼‰ã€‚å¦‚æœnum_projä¸ä¸ºç©ºï¼ˆNoneï¼‰ï¼Œå³åˆ°äº†æœ€åä¸€å±‚cell_with_projectionï¼ŒGRUæ¨¡å—åœ¨è®¡ç®—åä¼šè¿›è¡Œé¢„æµ‹ã€‚</p><p>(2)å®ç°åŸºäºå›¾å·ç§¯çš„éšæœºæ¸¸èµ°å‡½æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_gconv</span>(<span class="params">self, inputs, state, output_size, bias_start=<span class="number">0.0</span></span>):</span></span><br><span class="line">  <span class="comment"># æŠŠè¾“å…¥å’Œç‰¹å¾å‘é‡è½¬æ¢æˆ (batch_size, num_nodes, input_dim/state_dim)</span></span><br><span class="line">  batch_size = inputs.shape[<span class="number">0</span>]</span><br><span class="line">  inputs = torch.reshape(inputs, (batch_size, self._num_nodes, -<span class="number">1</span>))</span><br><span class="line">  state = torch.reshape(state, (batch_size, self._num_nodes, -<span class="number">1</span>))</span><br><span class="line">  inputs_and_state = torch.cat([inputs, state], dim=<span class="number">2</span>)</span><br><span class="line">  input_size = inputs_and_state.size(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">  x = inputs_and_state</span><br><span class="line">  x0 = x.permute(<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>)  <span class="comment"># (num_nodes, total_arg_size, batch_size)</span></span><br><span class="line">  x0 = torch.reshape(x0, shape=[self._num_nodes, input_size * batch_size])</span><br><span class="line">  x = torch.unsqueeze(x0, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> self._max_diffusion_step == <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">for</span> support <span class="keyword">in</span> self._supports:</span><br><span class="line">      x1 = torch.sparse.mm(support, x0)</span><br><span class="line">      x = self._concat(x, x1)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, self._max_diffusion_step + <span class="number">1</span>):</span><br><span class="line">        x2 = <span class="number">2</span> * torch.sparse.mm(support, x1) - x0</span><br><span class="line">        x = self._concat(x, x2)</span><br><span class="line">        x1, x0 = x2, x1</span><br><span class="line"></span><br><span class="line">        num_matrices = <span class="built_in">len</span>(self._supports) * self._max_diffusion_step + <span class="number">1</span></span><br><span class="line">        x = torch.reshape(x, shape=[num_matrices, self._num_nodes, input_size, batch_size])</span><br><span class="line">        x = x.permute(<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>)  <span class="comment"># (batch_size, num_nodes, input_size, order)</span></span><br><span class="line">        x = torch.reshape(x, shape=[batch_size * self._num_nodes, input_size * num_matrices])</span><br><span class="line"></span><br><span class="line">        weights = self._gconv_params.get_weights((input_size * num_matrices, output_size))</span><br><span class="line">        x = torch.matmul(x, weights)  <span class="comment"># (batch_size * self._num_nodes, output_size)</span></span><br><span class="line"></span><br><span class="line">        biases = self._gconv_params.get_biases(output_size, bias_start)</span><br><span class="line">        x += biases</span><br><span class="line">        <span class="comment"># æŠŠç»“æœè½¬æ¢æˆ 2D: (batch_size, num_node, state_dim) -&gt; (batch_size, num_node * state_dim)</span></span><br><span class="line">        <span class="keyword">return</span> torch.reshape(x, [batch_size, self._num_nodes * output_size])</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå®ç°äº†è®ºæ–‡ä¸­çš„æ‰©æ•£å·ç§¯æ–¹æ³•ã€‚é¦–å…ˆå°†inputå’Œstateæ‹¼æ¥ä¸ºinput_stateï¼Œå³è®ºæ–‡ä¸­çš„ï¼Œå°†input_stateå’Œrandom_walk_mxè¿›è¡Œmax_diffusion_stepæ¬¡å›¾å·ç§¯ï¼Œç»“æœæ˜¯max_diffusion_stepæ­¥éšæœºæ¸¸èµ°çš„ç»“æœï¼Œç„¶åç”¨å°†ä¹˜ä»¥ä¸€ä¸ªweightsçŸ©é˜µæŠŠç»´åº¦å˜æ¢ä¸ºoutput_sizeã€‚é¦–å…ˆå¯¹inputå’Œstateè¿›è¡Œè®¡ç®—ï¼Œå¯¹è®¡ç®—ç»“æœè¿›è¡Œnn.sigmoid()æ¿€æ´»ã€‚è¿™é‡Œçš„å’Œä¸ºGRUæ¨¡å‹ä¸­çš„reset_gateå’Œupdate_gateã€‚ç„¶åè®¡ç®—GRUæ ¸ï¼Œå¦‚æœå­˜åœ¨æ¿€æ´»å‡½æ•°ï¼Œåˆ™ã€‚è®¡ç®—æ–°çš„è¾“å‡ºå’ŒçŠ¶æ€ ï¼Œé™¤éåˆ°äº†æœ€åä¸€å±‚cell_with_projectionï¼Œå¦åˆ™outputæ€»æ˜¯å’Œnew_stateæ˜¯ä¸€æ ·çš„ã€‚åˆ¤æ–­æ˜¯å¦éœ€è¦è¾“å‡ºé¢„æµ‹å€¼ï¼Œå¦‚æœä¸éœ€è¦ï¼Œåˆ™ç›´æ¥è¿”å›outputï¼Œnew_stateã€‚å¦‚æœéœ€è¦è¿›è¡Œé¢„æµ‹ï¼Œå°†outputä¹˜ä»¥ä¸€ä¸ªwçŸ©é˜µå°†ç»´åº¦å˜æ¢ä¸ºoutput_sizeï¼Œæœ€åè¿”å›outputï¼Œnew_stateã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æ€»ä½“æ¡†æ¶&quot;&gt;&lt;a href=&quot;#æ€»ä½“æ¡†æ¶&quot; class=&quot;headerlink&quot; title=&quot;æ€»ä½“æ¡†æ¶&quot;&gt;&lt;/a&gt;æ€»ä½“æ¡†æ¶&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;dataå­˜æ”¾æ¨¡å‹ç”¨åˆ°çš„æ•°æ®ã€‚å…¶ä¸­METR-LAå’ŒPEMS-BAYæ–‡ä»¶å¤¹å­˜æ”¾çš„æ˜¯scriptsä¸­generate_training_data.pyç”Ÿæˆçš„æ•°æ®ï¼Œmodelä¿å­˜çš„æ˜¯è®­ç»ƒå¥½çš„æ¨¡å‹åŠå…¶è®¾ç½®å‚æ•°ï¼Œsensor_graphä¿å­˜çš„æ˜¯ä¼ æ„Ÿå™¨çš„æ•°æ®ï¼Œå…¶ä¸­graph_sensor_ids.txtä¿å­˜äº†æ‰€æœ‰æ•°æ®ä¸­æ‰€ä½¿ç”¨çš„ä¼ æ„Ÿå™¨çš„idï¼Œdistances_la_2012.csvä»¥csvæ ¼å¼ä¿å­˜äº†ä¼ æ„Ÿå™¨ä¹‹é—´çš„è·ç¦»ã€‚metr-la.h5å’Œpems-bay.h5æ˜¯ä¸¤ä¸ªåŸå¸‚çš„äº¤é€šæ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;figuresæ–‡ä»¶å­˜æ”¾çš„æ˜¯æ¨¡å‹æ€»ä½“ç»“æ„çš„å›¾ç‰‡ã€‚&lt;/li&gt;
&lt;li&gt;libæ–‡ä»¶åŒ…å«æ¨¡å‹ç”¨åˆ°çš„å·¥å…·å‡½æ•°ã€ä¼˜åŒ–ç®—æ³•å’Œè¯„ä»·æŒ‡æ ‡ã€‚&lt;/li&gt;
&lt;li&gt;modelæ–‡ä»¶ä¸­dcrnn_supervisor.pyæ˜¯è®­ç»ƒè¿‡ç¨‹ä¸­æ§åˆ¶æ•´ä¸ªè®­ç»ƒæµç¨‹çš„æ–‡ä»¶ï¼Œdcrnn_model.pyå®šä¹‰äº†dcrnnæ¨¡å‹ï¼Œdcrnn_cell.pyå®šä¹‰äº†æ¨¡å‹ä¸­çš„cellå•å…ƒï¼Œå…¶ä¸­å®ç°äº†æ ¸å¿ƒçš„æ‰©æ•£å·ç§¯ã€‚&lt;/li&gt;
&lt;li&gt;scriptsåŒ…å«æ•°æ®é¢„å¤„ç†ä»£ç ï¼Œå…¶ä¸­gen_adj_mx.pyç”¨äºç”Ÿæˆå›¾çš„é‚»æ¥çŸ©é˜µï¼Œgenerate_training_data.pyç”¨äºç”Ÿæˆè®­ç»ƒã€éªŒè¯å’Œæµ‹è¯•æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;dcrnn_train_pytorch.pyæ˜¯ç”¨æ¥è®­ç»ƒæ¨¡å‹çš„ï¼Œrun_demo_pytorch.pyæ˜¯ç”¨æ¥è·‘ä¸€ä¸‹å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ã€‚&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="ä»£ç è§£æ" scheme="https://leezepeng.github.io/categories/%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    
    
    <category term="äº¤é€šæµ" scheme="https://leezepeng.github.io/tags/%E4%BA%A4%E9%80%9A%E6%B5%81/"/>
    
    <category term="ä»£ç è§£æ" scheme="https://leezepeng.github.io/tags/%E4%BB%A3%E7%A0%81%E8%A7%A3%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>äº¤é€šæµSeq2Seq12ç¯‡</title>
    <link href="https://leezepeng.github.io/2021/03/13/%E4%BA%A4%E9%80%9A%E6%B5%81Seq2Seq12%E7%AF%87/"/>
    <id>https://leezepeng.github.io/2021/03/13/%E4%BA%A4%E9%80%9A%E6%B5%81Seq2Seq12%E7%AF%87/</id>
    <published>2021-03-13T12:05:56.000Z</published>
    <updated>2021-03-14T12:50:26.895Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è®ºæ–‡æ±‡æ€»è¡¨"><a href="#è®ºæ–‡æ±‡æ€»è¡¨" class="headerlink" title="è®ºæ–‡æ±‡æ€»è¡¨"></a>è®ºæ–‡æ±‡æ€»è¡¨</h2><span id="more"></span><div class="table-container"><table><thead><tr><th>è®ºæ–‡å</th><th>åˆ›æ–°ç‚¹</th><th>å±äºäº¤é€šå“ªä¸€ç±»é—®é¢˜</th><th>èŠ‚ç‚¹V åŠå«ä¹‰</th><th>è¾¹EåŠå«ä¹‰</th><th>é‚»æ¥çŸ©é˜µAåŠæ¯ä¸€ä¸ªaçš„å«ä¹‰</th><th>ç‰¹å¾çŸ©é˜µXåŠå«ä¹‰</th><th>GNNS</th><th>RNNS</th><th>å…¶ä»–æ–¹æ³•</th></tr></thead><tbody><tr><td>Multi-Range Attentive Bicomponent Graph Convolutional Network for Traffic  Forecasting</td><td>1.é“è·¯çš„æƒé‡æ˜¯å˜åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯é“è·¯ç½‘çš„è¾¹ä¹‹é—´æœ‰ç›¸äº’çš„å½±å“   2.ä½¿ç”¨GCNçš„æ—¶å€™åªè€ƒè™‘äº†ä¸€ä¸ªèŒƒå›´ï¼Œæ¯”å¦‚è¿™ä¸ªèŒƒå›´æ˜¯kè·³é‚»å±…èŠ‚ç‚¹ã€‚</td><td>äº¤é€šæµé‡é¢„æµ‹æ¨¡å‹</td><td>ä¼ æ„Ÿå™¨</td><td>ä¼ æ„Ÿå™¨iåˆ°jæ„æˆä¸€æ¡è¾¹</td><td>ä¸€ä¸ªnode-wiseä¸¤ä¸ªedge-wides</td><td>æ¯ä¸ªä¼ æ„Ÿå™¨çš„ç‰¹å¾ï¼Œä¸æ•°æ®é›†æœ‰å…³</td><td>Bicomponent Graph Convolution</td><td>GRU</td><td>Multi-Range Attention</td></tr><tr><td>A deep learning approach considering spatio-temporal dependencies</td><td>ä¸ºäº†æ•è·å¤šæ­¥äº¤é€šçŠ¶å†µé¢„æµ‹ä¸­å¤æ‚çš„éå¹³ç¨³æ—¶é—´åŠ¨æ€å’Œç©ºé—´ç›¸å…³æ€§</td><td>äº¤é€šæµé‡é¢„æµ‹æ¨¡å‹</td><td>èŠ‚ç‚¹é›†Nè¡¨ç¤ºè·¯å£ä¼ æ„Ÿå™¨æˆ–é«˜é€Ÿå…¬è·¯ä¸Šé€‰å®šçš„åˆ†ç•Œç‚¹</td><td>é“¾è·¯é›†Lè¡¨ç¤ºè·¯æ®µ</td><td>ç¨€ç–çŸ©é˜µAä¸ºé“¾è·¯é›†çš„é‚»æ¥çŸ©é˜µï¼Œè™šæ‹Ÿå˜é‡A (i, j)è¡¨ç¤ºé“¾è·¯iä¸é“¾è·¯jæ˜¯å¦è¿é€š</td><td>æ•°æ®é›†è‡ªå¸¦ç‰¹å¾V ä»¥åŠTime-of-day and weekday-or-weekendï¼ŒHistorical statistic information</td><td>GCN</td><td>GRU</td><td>æ³¨æ„åŠ›æœºåˆ¶</td></tr><tr><td>STG2Seq: Spatial-Temporal Graph to Sequence Model for Multi-step Passenger Demand Forecasting</td><td>é¢„æµ‹å¤šä¸ªæ—¶åˆ»çš„ä¹˜å®¢éœ€æ±‚ç”±äºæ—¶ç©ºä¾èµ–çš„éçº¿æ€§å’ŒåŠ¨æ€æ€§</td><td>äº¤é€šéœ€æ±‚é¢„æµ‹æ¨¡å‹</td><td>Nä¸ªå°åŒºåŸŸ</td><td>æ ¹æ®åŒºåŸŸé—´æ—…å®¢éœ€æ±‚æ¨¡å¼çš„ç›¸ä¼¼æ€§å®šä¹‰å›¾çš„è¾¹</td><td>ç›¸ä¼¼åº¦</td><td>æ‰€æœ‰åŒºåŸŸåœ¨æ—¶é—´ çš„æ—…å®¢éœ€æ±‚ä»¥åŠåŒ…å«äº†å‡ ç‚¹ã€æ˜ŸæœŸå‡ ä»¥åŠèŠ‚å‡æ—¥çš„ä¿¡æ¯ã€‚</td><td>Gated Graph Convolutional Module</td><td>Long-term and Short-term Encoders</td><td>æ³¨æ„åŠ›æœºåˆ¶</td></tr><tr><td>Spatio-Temporal Graph Convolutional and Recurrent Networks for Citywide Passenger Demand Prediction</td><td>é¢„æµ‹å¤šä¸ªæ—¶åˆ»çš„ä¹˜å®¢éœ€æ±‚ç”±äºæ—¶ç©ºä¾èµ–çš„éçº¿æ€§å’ŒåŠ¨æ€æ€§</td><td>äº¤é€šéœ€æ±‚é¢„æµ‹æ¨¡å‹</td><td>Nä¸ªå°åŒºåŸŸ</td><td>æ ¹æ®åŒºåŸŸé—´æ—…å®¢éœ€æ±‚æ¨¡å¼çš„ç›¸ä¼¼æ€§å®šä¹‰å›¾çš„è¾¹</td><td>ç›¸ä¼¼åº¦</td><td>æ‰€æœ‰åŒºåŸŸåœ¨æ—¶é—´ çš„æ—…å®¢éœ€æ±‚ä»¥åŠåŒ…å«äº†å‡ ç‚¹ã€æ˜ŸæœŸå‡ ä»¥åŠèŠ‚å‡æ—¥çš„ä¿¡æ¯ã€‚</td><td>GCN</td><td>LSTM</td><td>æ— </td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>è®ºæ–‡å</th><th>åˆ›æ–°ç‚¹</th><th>å±äºäº¤é€šå“ªä¸€ç±»é—®é¢˜</th><th>èŠ‚ç‚¹V åŠå«ä¹‰</th><th>è¾¹EåŠå«ä¹‰</th><th>é‚»æ¥çŸ©é˜µAåŠæ¯ä¸€ä¸ªaçš„å«ä¹‰</th><th>ç‰¹å¾çŸ©é˜µXåŠå«ä¹‰</th><th>GNNS</th><th>RNNS</th><th>å…¶ä»–æ–¹æ³•</th></tr></thead><tbody><tr><td>Dual Graph for Traffic Forecasting</td><td>åŒæ—¶è€ƒè™‘äº†é“è·¯èŠ‚ç‚¹å’Œè¾¹çš„ä¿¡æ¯</td><td>æµé‡é¢„æµ‹</td><td>è·¯å£</td><td>é“è·¯</td><td>æœ‰è¾¹å°±ä¸º1ï¼Œæ²¡æœ‰å°±ä¸º0</td><td>æµé‡</td><td></td><td>1</td><td></td></tr><tr><td>GMAN: A Graph Multi-Attention Network for Traffic Prediction</td><td>æ—¶ç©ºæ³¨æ„åŠ›ï¼Œtransformæ³¨æ„åŠ›é‡Œç”¨æ—¶ç©ºç‰¹å¾ç¼“è§£äº†è¯¯å·®ä¼ æ’­</td><td>æµé‡é¢„æµ‹</td><td>ä¼ æ„Ÿå™¨</td><td>è¿é€šæ€§</td><td>èŠ‚ç‚¹çš„proximity</td><td>æµé‡åŠ æ—¶ç©ºç‰¹å¾</td><td></td><td>1</td><td>MAEï¼ŒRMSEï¼ŒMAPE</td></tr><tr><td>GCGAN: Generative Adversarial Nets with Graph CNN for Network-Scale Traffic Prediction</td><td>GAN</td><td>æµé‡é¢„æµ‹</td><td>è·¯æ®µ</td><td>è¿é€šæ€§</td><td>èŠ‚ç‚¹çš„proximity</td><td>æµé‡</td><td></td><td>1</td><td>æ³¨æ„åŠ›å…¬å¼ç”¨çš„æ˜¯Gumbel-Softmax</td></tr><tr><td>Learning Dynamic Graph Embedding for Traffic Flow Forecasting:A Graph Self-Attentive Method</td><td>è‡ªæ³¨æ„åŠ›</td><td>æµé‡é¢„æµ‹</td><td>ä¼ æ„Ÿå™¨</td><td>è¿é€šæ€§</td><td>èŠ‚ç‚¹çš„proximity</td><td>æµé‡</td><td></td><td>1</td><td>MAEï¼ŒRMSEï¼ŒMAPE</td></tr></tbody></table></div><h1 id="multi-Range-attentive-GCN-for-äº¤é€šé¢„æµ‹"><a href="#multi-Range-attentive-GCN-for-äº¤é€šé¢„æµ‹" class="headerlink" title="multi-Range attentive GCN for äº¤é€šé¢„æµ‹"></a>multi-Range attentive GCN for äº¤é€šé¢„æµ‹</h1><h2 id="è§£å†³çš„é—®é¢˜"><a href="#è§£å†³çš„é—®é¢˜" class="headerlink" title="è§£å†³çš„é—®é¢˜"></a>è§£å†³çš„é—®é¢˜</h2><p>ä½œè€…è®¤ä¸ºå³ä½¿ä½¿ç”¨GCNä»ç„¶æœ‰ä¸€äº›é—®é¢˜</p><ol><li><p>é“è·¯çš„æƒé‡æ˜¯å˜åŒ–çš„ï¼Œä¹Ÿå°±æ˜¯é“è·¯ç½‘çš„è¾¹ä¹‹é—´æœ‰ç›¸äº’çš„å½±å“ï¼Œæ¯”å¦‚ä¸‹å›¾ï¼ˆcï¼‰ä¸­çš„ä¸¤ä¸ªè¾¹ä¹‹é—´æœ‰å½±å“ã€‚</p></li><li><p>ä½¿ç”¨GCNçš„æ—¶å€™åªè€ƒè™‘äº†ä¸€ä¸ªèŒƒå›´ï¼Œæ¯”å¦‚è¿™ä¸ªèŒƒå›´æ˜¯kè·³é‚»å±…èŠ‚ç‚¹ã€‚</p></li></ol><p><img src="./image-20201115163854907.png" alt="image-20201115163854907" style="zoom:50%;" /></p><p>ä½œè€…è®¤ä¸ºè€ƒè™‘å¤šä¸ªèŒƒå›´æ˜¯æœ‰å¿…è¦çš„ï¼Œä¹Ÿå°±æ˜¯å±€éƒ¨å’Œå…¨å±€ä¸¤ä¸ªè§’åº¦ï¼Œä»ä¸€èˆ¬çš„è§’åº¦æ¯”å¦‚ï¼ˆ1,2,3,â€¦..,kï¼‰è·³é‚»å±…ï¼Œç„¶åä½¿ç”¨attentionçš„æ–¹å¼è€ƒè™‘èŠ‚ç‚¹å„è·³çš„æƒé‡æ¯”ï¼Œæœ€åä½¿ç”¨äº†RNNæ¥å»ºæ¨¡æ—¶åºå…³ç³»ï¼Œä¸»è¦å°±æ˜¯ä½¿ç”¨å‰é¢GCNå¤„ç†åçš„ç‰¹å¾ä½œä¸ºRNNçš„è¾“å…¥ã€‚ä½¿ç”¨äº†ä¸¤ä¸ªæ•°é‡é›†ï¼ŒMETR-LA and PEMS-BAYã€‚</p><h2 id="æ•´ä½“æ¶æ„å›¾"><a href="#æ•´ä½“æ¶æ„å›¾" class="headerlink" title="æ•´ä½“æ¶æ„å›¾"></a>æ•´ä½“æ¶æ„å›¾</h2><p><img src="./æˆªå±2020-11-15 ä¸‹åˆ8.32.45.png" alt="æˆªå±2020-11-15 ä¸‹åˆ8.32.45" style="zoom:50%;" /></p><p>ç„¶åæˆ‘ä»¬å…ˆçœ‹ä¸‹è®¾è®¡çš„æ•´ä½“æ¶æ„å›¾ï¼Œè¿™é‡Œæ²¡æœ‰åŒ…å«æ—¶åŸŸçš„RNNæ¨¡å—ã€‚ä¸»è¦åŒ…å«äº†è¾“å…¥çš„ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯node-wiseçš„ï¼Œä¸€ä¸ªæ˜¯edge-wiseçš„ç½‘ç»œï¼Œä¸¤ä¸ªç½‘ç»œè¿›è¡Œå·ç§¯ï¼ŒåŒæ—¶è¿˜è®¾è®¡äº†ä¸€ä¸ªmulti-rangeçš„attention (k-hops)ï¼Œç„¶åä½¿ç”¨attentionçš„æ–¹å¼è€ƒè™‘vå„ä¸ªhopä¹‹é—´çš„æƒé‡æ¯”ï¼Œæœ€åç»è¿‡æ—¶åºå¤„ç†(RNN)ä¹‹åè¾“å‡ºã€‚</p><h2 id="Bicomponent-Graph-Convolution"><a href="#Bicomponent-Graph-Convolution" class="headerlink" title="Bicomponent Graph Convolution"></a>Bicomponent Graph Convolution</h2><p>è€ƒè™‘æˆ‘ä»¬å‰é¢è¯´çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è·¯ç½‘çš„è¾¹ä¹‹é—´çš„å½±å“ï¼Œè¿™é‡Œä½œè€…æ€»ç»“äº†ä¸¤ä¸­å½±å“å…³ç³»ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="./æˆªå±2020-11-17 ä¸‹åˆ12.20.07.png" alt="æˆªå±2020-11-17 ä¸‹åˆ12.20.07" style="zoom:50%;" /></p><h3 id="æµè¿æ¥å…³ç³»"><a href="#æµè¿æ¥å…³ç³»" class="headerlink" title="æµè¿æ¥å…³ç³»"></a>æµè¿æ¥å…³ç³»</h3><p>$\begin{array}{c}<br>\boldsymbol{A}_{e,(i \rightarrow j),(j \rightarrow k)}=\boldsymbol{A}_{e,(j \rightarrow k),(i \rightarrow j)}=<br>\exp \left(-\frac{\left(\mathrm{deg}^{-}(j)+\mathrm{deg}^{+}(j)-2\right)^{2}}{\sigma^{2}}\right)<br>\end{array}$</p><h3 id="ç«äº‰å…³ç³»"><a href="#ç«äº‰å…³ç³»" class="headerlink" title="ç«äº‰å…³ç³»"></a>ç«äº‰å…³ç³»</h3><p>$\begin{array}{l}<br>\boldsymbol{A}_{e,(i \rightarrow k),(j \rightarrow k)}=\boldsymbol{A}_{e,(j \rightarrow k),(i \rightarrow k)}=<br>\exp \left(-\frac{\left(\mathrm{deg}^{+}(i)+\operatorname{deg}^{+}(j)-2\right)^{2}}{\sigma^{2}}\right)<br>\end{array}$</p><p><strong>åœ¨ä¸€ä¸ªäº¤é€šç½‘ç»œä¸­ï¼Œä¸€ä¸ªé“è·¯é“¾è·¯å¯èƒ½ä¼šå—åˆ°å…¶ä¸Šä¸‹æ¸¸é“è·¯é“¾è·¯çš„å½±å“ã€‚å¦‚å›¾aæ‰€ç¤º,(ğ‘–â†’ğ‘—)æ˜¯ (ğ‘—â†’ğ‘˜)çš„ä¸Šæ¸¸,å› æ­¤å®ƒä»¬æ˜¯ç›¸å…³çš„ã€‚ç›´è§‚åœ°è¯´,å¦‚æœè”åˆèŠ‚ç‚¹ğ‘—æœ‰å¤§é‡çš„é‚»å±…ï¼Œ (ğ‘–â†’ğ‘—)å’Œ(ğ‘—â†’ğ‘˜)ä¹‹é—´çš„å…³ç³»å°±ä¼šè¾ƒå¼±,å®¹æ˜“å—åˆ°å…¶ä»–é‚»å±…å½±å“ã€‚æˆ‘ä»¬è®¡ç®—æµè¿æ¥çš„è¾¹ğ‘¨ä½¿ç”¨é«˜æ–¯æ ¸å‡½æ•°ã€‚ç«äº‰å…³ç³»åŒç†ï¼šå…±äº«åŒä¸€æºèŠ‚ç‚¹çš„é“è·¯é“¾è·¯å¯èƒ½ä¼šäº‰å¤ºäº¤é€šèµ„æºï¼Œå½¢æˆç«äº‰å…³ç³»ã€‚å¦‚å›¾3 (b),ä¸¤æ¡è¾¹,(ğ‘–â†’ğ‘˜)å’Œ(ğ‘—â†’ğ‘˜),å…±äº«ç›®æ ‡èŠ‚ç‚¹ğ‘˜ç›¸å…³æ˜¯ç”±äºç«äº‰å…³ç³»ã€‚ä¸æµè¿æ¥ç±»ä¼¼ï¼Œç«äº‰å…³ç³»çš„å¼ºåº¦ä¸æºèŠ‚ç‚¹çš„åº¦æœ‰å…³ã€‚å¦‚ï¼Œå¦‚æœä¸€æ¡è¾¹çš„æºèŠ‚ç‚¹æœ‰å¤šä¸ªè¾“å‡ºè¾¹ï¼Œåˆ™è¯¥è¾¹å¯¹äºæµé‡èµ„æºçš„ç«äº‰æ˜¯éå¸¸å¼ºçš„ã€‚å½“ç„¶é’ˆå¯¹è¿™ç§ä¸åŒçš„å›¾æœ‰ä½œè€…è‡ªå®šä¹‰çš„å·ç§¯æ“ä½œã€‚</strong></p><p>è¿™é‡Œçš„Aå°±æ˜¯æˆ‘ä»¬å·ç§¯è¾¹ç½‘ç»œæ—¶å€™çš„è¿æ¥çŸ©é˜µï¼Œæ ¹æ®ä¸åŒçš„å…³ç³»æˆ‘ä»¬é‡æ–°æ„é€ è¿æ¥çŸ©é˜µï¼Œç„¶åæˆ‘ä»¬æ„é€ ä¸€ä¸ªKè·³çš„çš„graph convã€‚</p><p>$\begin{array}{c}<br>\boldsymbol{X}^{(l+1)}=\boldsymbol{\theta}_{n \star G}^{(l)}\left[\boldsymbol{X}^{(l)}, \boldsymbol{M Z}^{(l)}\right] \text { for } l=1, \cdots, k-1, \\<br>\boldsymbol{Z}^{(l+1)}=\boldsymbol{\theta}_{e \star G}^{(l)}\boldsymbol{Z}^{(l)} \quad \text { for } l=0, \cdots, k-1 \\<br>\boldsymbol{X}^{(1)}=\boldsymbol{\theta}_{n \star G}^{(0)} \boldsymbol{X}^{(0)} \\<br>\boldsymbol{Z}^{(0)}=\boldsymbol{M}^{\mathrm{T}} \boldsymbol{X}^{(0)} \boldsymbol{W}_{\mathrm{b}}<br>\end{array}$</p><p>â‹† è¿™æ˜¯å›¾å·ç§¯çš„æ ‡å¿—ï¼Œ ,( â†’ )= ,( â†’ )=1 and 0 otherwiseè¡¨ç¤ºè¿æ¥å…³ç³»ã€‚</p><p>Xè¡¨ç¤ºç›‘æµ‹çš„äº¤é€šæµé‡ï¼Œæ‰€ä»¥ ={ (1), (2 ),â‹¯, ( k)},å…±è€ƒè™‘äº†kè·³</p><p><strong>MçŸ©é˜µæ˜¯ä¸€ä¸ªçº¿æ€§å˜æ¢ æŠŠèŠ‚ç‚¹ä¿¡æ¯ç¼–ç æˆè¾¹çš„ä¿¡æ¯Z0ï¼ŒZ0ç»è¿‡ä¸€å±‚è¾¹å·ç§¯åŒæ—¶èŠ‚ç‚¹è¿›è¿‡ä¸€å±‚èŠ‚ç‚¹å·ç§¯ï¼Œæœ€ååˆ©ç”¨MçŸ©é˜µå˜æ¢å›æ¥ï¼ŒæŠŠè¾¹ä¿¡æ¯ä¸èŠ‚ç‚¹ä¿¡æ¯èåˆå†åšä¸€æ¬¡èŠ‚ç‚¹å·ç§¯ã€‚è¿™å°±æ˜¯æ•´ä¸ªå·ç§¯çš„è¿‡ç¨‹ã€‚</strong></p><p>Attentionä½¿ç”¨çš„ç›®çš„ä¸»è¦æ˜¯ä¸ºäº†åº”å¯¹ä¸åŒrangeä¹‹é—´å¦‚ä½•èåˆçš„é—®é¢˜ã€‚multi-range attention mechanismè½¬åŒ–ä¸ºå…¬å¼å°±æ˜¯ï¼š</p><p>$\begin{array}{c}<br>e_{i}^{(l)}=\left(W_{\mathrm{a}} X_{i}^{(l)}\right)^{\mathrm{T}} \boldsymbol{u} \\<br>a_{i}^{(l)}=\operatorname{SoftMax}_{l}\left(e_{i}^{(l)}\right)=\frac{\exp \left(e_{i}^{(l)}\right)}{\sum_{l=1}^{k} \exp \left(e_{i}^{(l)}\right)}<br> \\<br>\boldsymbol{h}_{i}=\sum_{l=1}^{k} a_{i}^{(l)} \boldsymbol{X}_{i}^{(l)}<br>\end{array}$</p><p>æœ€åè¿™ä¸ªå°±æ˜¯å¸¸è§„æ“ä½œäº†ï¼Œæˆ‘ä»¬ä¸Šé¢å·²ç»è€ƒè™‘äº†ç©ºé—´çš„ä¾èµ–å…³ç³»ï¼Œä¸»è¦ä¾é å›¾å·ç§¯è¿›è¡Œå­¦ä¹ ï¼Œä¸‹é¢è€ƒè™‘çš„å°±æ˜¯æ—¶é—´ä¸Šçš„å·ç§¯ã€‚æˆ‘ä»¬å°†ç©ºé—´å·ç§¯çš„ç»“æœç›´æ¥ä½œä¸ºRNNçš„è¾“å…¥å°±okäº†</p><p>$\begin{aligned}<br>\boldsymbol{z}^{(t)} &amp;=\sigma\left(g\left(\left[\boldsymbol{X}^{(t)}, \boldsymbol{H}^{(t-1)}\right] ; \boldsymbol{\Theta}_{z}\right)\right) \\<br>\boldsymbol{r}^{(t)} &amp;=\sigma\left(g\left(\left[\boldsymbol{X}^{(t)}, \boldsymbol{H}^{(t-1)}\right] ; \boldsymbol{\theta}_{r}\right)\right) \\<br>\boldsymbol{C}^{(t)}=&amp; \tanh \left(g\left(\left[\boldsymbol{X}^{(t)},\left(\boldsymbol{r}^{(t)} \odot \boldsymbol{H}^{(t-1)}\right)\right] ; \boldsymbol{\Theta}_{c}\right)\right) \\<br>\boldsymbol{H}^{(t)} &amp;=\boldsymbol{z}^{(t)} \odot \boldsymbol{H}^{(t-1)}+\left(1-\mathbf{z}^{(t)}\right) \odot \boldsymbol{C}^{(t)}<br>\end{aligned}$</p><p>è¿™ä¸ªæ˜¯æˆ‘ä»¬é¢„æµ‹çš„æ¶æ„ï¼Œä¸€èˆ¬æˆ‘ä»¬éœ€è¦çš„å°±æ˜¯X5.</p><p><img src="./æˆªå±2020-11-17 ä¸‹åˆ12.39.55.png" alt="æˆªå±2020-11-17 ä¸‹åˆ12.39.55" style="zoom:50%;" /></p><h1 id="Multistep-speed-prediction-on-traffic-networks-A-deep-learning-approach-considering-spatio-temporal-dependencies"><a href="#Multistep-speed-prediction-on-traffic-networks-A-deep-learning-approach-considering-spatio-temporal-dependencies" class="headerlink" title="Multistep speed prediction on traffic networks: A deep learning approach considering spatio-temporal dependencies"></a>Multistep speed prediction on traffic networks: A deep learning approach considering spatio-temporal dependencies</h1><h2 id="ç›¸å…³å·¥ä½œåŠè§£å†³çš„é—®é¢˜"><a href="#ç›¸å…³å·¥ä½œåŠè§£å†³çš„é—®é¢˜" class="headerlink" title="ç›¸å…³å·¥ä½œåŠè§£å†³çš„é—®é¢˜"></a>ç›¸å…³å·¥ä½œåŠè§£å†³çš„é—®é¢˜</h2><ul><li>æå‡ºäº†ä¸€ç§æ–°çš„æ·±åº¦å­¦ä¹ æ¡†æ¶AGC-Seq2Seqï¼Œè¯¥æ¡†æ¶é€šè¿‡Seq2Seqæ¨¡å‹å’Œå›¾å½¢å·ç§¯å±‚ååŒæå–æ—¶ç©ºåŸŸçš„ç‰¹å¾ã€‚å…‹æœå¤šæ­¥é¢„æµ‹çš„æŒ‘æˆ˜ã€‚</li><li>ä¸ºäº†æ•æ‰åŸå¸‚äº¤é€šæ¨¡å¼çš„æ—¶é—´å¼‚è´¨æ€§ï¼Œå°†æ³¨æ„æœºåˆ¶è¿›ä¸€æ­¥çº³å…¥æ¨¡å‹ã€‚æˆ‘ä»¬è®¾è®¡äº†ä¸€ç§æ–°çš„é’ˆå¯¹å¤šæ­¥äº¤é€šé¢„æµ‹çš„Seq2Seqæ¡†æ¶çš„è®­ç»ƒæ–¹æ³•ï¼Œä»¥æ›¿ä»£ç°æœ‰çš„è®­ç»ƒæ–¹æ³•(å¦‚ teacher forcing å’Œ scheduled sampling)ã€‚å®ƒåœ¨ä¸€ä¸ªç«¯åˆ°ç«¯æ·±åº¦å­¦ä¹ ç»“æ„ä¸­åè°ƒå¤šç»´ç‰¹å¾(ä¾‹å¦‚å†å²ç»Ÿè®¡ä¿¡æ¯å’Œæ—¶é—´)å’Œæ—¶ç©ºé€Ÿåº¦å˜é‡ï¼Œä½¿æµ‹è¯•å‘¨æœŸçš„è¾“å…¥ä¸è®­ç»ƒå‘¨æœŸä¸€è‡´ã€‚</li><li>é€šè¿‡a -mapæä¾›çš„ä¸¤ä¸ªçœŸå®æ•°æ®é›†è¿›è¡ŒéªŒè¯ï¼Œæå‡ºçš„æ¨¡å‹åœ¨ä¸åŒçš„é¢„æµ‹åŒºé—´å†…çš„å„ç§ä¸»è¦è¯¯å·®åº¦é‡æ–¹é¢æ¯”å…¶ä»–å…ˆè¿›çš„åŸºå‡†æœ‰æ˜¾è‘—çš„æ”¹è¿›ã€‚</li></ul><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h3 id="é‚»æ¥çŸ©é˜µ"><a href="#é‚»æ¥çŸ©é˜µ" class="headerlink" title="é‚»æ¥çŸ©é˜µ"></a>é‚»æ¥çŸ©é˜µ</h3><p>æ ¹æ®è¡Œè½¦æ–¹å‘å°†è·¯ç½‘å»ºæ¨¡ä¸ºæœ‰å‘å›¾ï¼Œå…¶ä¸­èŠ‚ç‚¹é›† $N$ è¡¨ç¤ºè·¯å£(æ£€æµ‹å™¨æˆ–é«˜é€Ÿå…¬è·¯ä¸Šé€‰å®šçš„åˆ†ç•Œç‚¹)ï¼Œé“¾è·¯é›† $L$ è¡¨ç¤ºè·¯æ®µï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚Aä¸ºé“¾è·¯é›†çš„é‚»æ¥çŸ©é˜µï¼Œè™šæ‹Ÿå˜é‡A (i, j)è¡¨ç¤ºé“¾è·¯iä¸é“¾è·¯jæ˜¯å¦è¿é€šï¼Œå³</p><p>$\boldsymbol{A}(i, j)=\left\{\begin{array}{ll}<br>1, l_{i} \text { and } l_{j} \text { are connected along driving direction } \\<br>0,  \text { otherwise }<br>\end{array}\right.$</p><h3 id="ç‰¹å¾å‘é‡"><a href="#ç‰¹å¾å‘é‡" class="headerlink" title="ç‰¹å¾å‘é‡"></a>ç‰¹å¾å‘é‡</h3><ul><li>äº¤é€šé€Ÿåº¦</li><li>ä¸€å¤©ä¸­çš„æ—¶é—´å’Œä¸€å‘¨ä¸­çš„æ—¶é—´</li><li>å†å²æ ‡å‡†ä¿¡æ¯æ¯”å¦‚å¹³å‡å€¼ï¼Œä¸­å€¼ï¼Œæœ€å¤§æœ€å°å€¼ã€‚</li></ul><h2 id="ä»€ä¹ˆæ˜¯Teacher-Forcing"><a href="#ä»€ä¹ˆæ˜¯Teacher-Forcing" class="headerlink" title="ä»€ä¹ˆæ˜¯Teacher Forcing"></a>ä»€ä¹ˆæ˜¯Teacher Forcing</h2><p>æ‰€è°“Teacher Forcingï¼Œå°±æ˜¯åœ¨å­¦ä¹ æ—¶è·Ÿç€è€å¸ˆ(ground truth)èµ°!</p><p>å®ƒæ˜¯ä¸€ç§ç½‘ç»œè®­ç»ƒæ–¹æ³•ï¼Œå¯¹äºå¼€å‘ç”¨äºæœºå™¨ç¿»è¯‘ï¼Œæ–‡æœ¬æ‘˜è¦ï¼Œå›¾åƒå­—å¹•çš„æ·±åº¦å­¦ä¹ è¯­è¨€æ¨¡å‹ä»¥åŠè®¸å¤šå…¶ä»–åº”ç”¨ç¨‹åºè‡³å…³é‡è¦ã€‚å®ƒæ¯æ¬¡ä¸ä½¿ç”¨ä¸Šä¸€ä¸ªstateçš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªstateçš„è¾“å…¥ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨è®­ç»ƒæ•°æ®çš„æ ‡å‡†ç­”æ¡ˆ(ground truth)çš„å¯¹åº”ä¸Šä¸€é¡¹ä½œä¸ºä¸‹ä¸€ä¸ªstateçš„è¾“å…¥ã€‚<br>çœ‹ä¸€ä¸‹å¤§ä½¬ä»¬å¯¹å®ƒçš„è¯„ä»·:</p><blockquote><p>å­˜åœ¨æŠŠè¾“å‡ºè¿”å›åˆ°æ¨¡å‹è¾“å…¥ä¸­çš„è¿™ç§å¾ªç¯è¿æ¥å•å…ƒçš„æ¨¡å‹å¯ä»¥é€šè¿‡Teacher Forcingæœºåˆ¶è¿›è¡Œè®­ç»ƒã€‚</p></blockquote><p>è¿™ç§æŠ€æœ¯æœ€åˆè¢«ä½œä¸ºåå‘ä¼ æ’­çš„æ›¿ä»£æŠ€æœ¯è¿›è¡Œå®£ä¼ ä¸å¼€å‘</p><blockquote><p>åœ¨åŠ¨æ€ç›‘ç£å­¦ä¹ ä»»åŠ¡ä¸­ç»å¸¸ä½¿ç”¨çš„ä¸€ç§æœ‰è¶£çš„æŠ€æœ¯æ˜¯ï¼Œåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ç”¨æ•™å¸ˆä¿¡å· d(t)æ›¿æ¢ä¸Šä¸€ä¸ªå•å…ƒçš„å®é™…è¾“å‡º y ( t )ã€‚æˆ‘ä»¬ç§°è¿™ç§æŠ€æœ¯ä¸ºTeacher Forcingã€‚</p></blockquote><p>Teacher Forcingå·¥ä½œåŸç†: åœ¨è®­ç»ƒè¿‡ç¨‹çš„ tæ—¶åˆ»ï¼Œä½¿ç”¨è®­ç»ƒæ•°æ®é›†çš„æœŸæœ›è¾“å‡ºæˆ–å®é™…è¾“å‡º: y(t)ï¼Œ ä½œä¸ºä¸‹ä¸€æ—¶é—´æ­¥éª¤çš„è¾“å…¥: x(t+1)ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ¨¡å‹ç”Ÿæˆçš„è¾“å‡º h(t)ã€‚</p><blockquote><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ¥æ”¶ground truthçš„è¾“å‡º y(t) ä½œä¸º t+1æ—¶åˆ»çš„è¾“å…¥</p></blockquote><h3 id="Free-Running-vs-Teacher-Forcing-å®ä¾‹"><a href="#Free-Running-vs-Teacher-Forcing-å®ä¾‹" class="headerlink" title="Free-Running vs Teacher Forcing å®ä¾‹"></a>Free-Running vs Teacher Forcing å®ä¾‹</h3><p>ç»™å®šå¦‚ä¸‹è¾“å…¥åºåˆ—:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mary had a little lamb whose fleece was white as snow</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æƒ³è¦è®­ç»ƒè¿™æ ·ä¸€ä¸ªæ¨¡å‹ï¼Œåœ¨ç»™å®šåºåˆ—ä¸­å‰ä¸€ä¸ªå•è¯çš„æƒ…å†µä¸‹ç”Ÿæˆåºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå•è¯ã€‚<br>é‚£é¦–å…ˆï¼Œæˆ‘ä»¬å¾—ç»™è¿™ä¸ªåºåˆ—çš„é¦–å°¾åŠ ä¸Šèµ·æ­¢token:</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[START] Mary had a little lamb whose fleece was white as snow [END]</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŠŠ â€œ[START]â€ è¾“å…¥æ¨¡å‹ï¼Œè®©æ¨¡å‹ç”Ÿæˆä¸‹ä¸€ä¸ªå•è¯ã€‚</p><h4 id="Free-running-è®­ç»ƒè¿‡ç¨‹"><a href="#Free-running-è®­ç»ƒè¿‡ç¨‹" class="headerlink" title="Free-running è®­ç»ƒè¿‡ç¨‹"></a>Free-running è®­ç»ƒè¿‡ç¨‹</h4><p>æƒ³è±¡ä¸‹ï¼Œç°åœ¨æ¨¡å‹ç”Ÿæˆäº†ä¸€ä¸ª â€œaâ€ï¼Œ ä¸è¿‡æˆ‘ä»¬å½“ç„¶æœŸæœ›å®ƒå…ˆç”Ÿæˆä¸€ä¸ª â€œMaryâ€ã€‚</p><p><img src="./v2-c60a4531fcf6678c1f4d19ba60e2a99c_1440w.png" alt="img"></p><p>æ¥ä¸‹æ¥ï¼Œå¦‚æœæŠŠâ€aâ€è¾“å…¥æ¨¡å‹ï¼Œæ¥ç”Ÿæˆåºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå•è¯ï¼Œé‚£ç°åœ¨çš„æƒ…å†µå°±æ˜¯</p><p><img src="./v2-ab28faba19493d6e347753308fd36a80_1440w.png" alt="img"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ¨¡å‹ç°åœ¨å·²ç»<strong>åç¦»æ­£è½¨</strong> ï¼Œå› ä¸ºç”Ÿæˆçš„é”™è¯¯ç»“æœï¼Œä¼šå¯¼è‡´åç»­çš„å­¦ä¹ éƒ½å—åˆ°ä¸å¥½çš„å½±å“ï¼Œå¯¼è‡´å­¦ä¹ é€Ÿåº¦å˜æ…¢ï¼Œæ¨¡å‹ä¹Ÿå˜å¾—ä¸ç¨³å®šã€‚</p><h4 id="Teacher-Forcing-è®­ç»ƒè¿‡ç¨‹"><a href="#Teacher-Forcing-è®­ç»ƒè¿‡ç¨‹" class="headerlink" title="Teacher-Forcing è®­ç»ƒè¿‡ç¨‹"></a>Teacher-Forcing è®­ç»ƒè¿‡ç¨‹</h4><p>å‡å¦‚ç°åœ¨æ¨¡å‹ç”Ÿæˆäº†ä¸€ä¸ªâ€œaâ€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¡ç®—äº†errorä¹‹åï¼Œä¸¢å¼ƒè¿™ä¸ªè¾“å‡ºï¼ŒæŠŠâ€Marryâ€ä½œä¸ºåç»­çš„è¾“å…¥ã€‚å¦‚æœè¦ç»§ç»­é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯çš„è¯ï¼Œé‚£ä¹ˆç°åœ¨çš„æƒ…å½¢å°±å˜æˆäº†:</p><p><img src="./v2-22283c8d1c18d301672ab21aaf04fb9f_1440w.png" alt="img"></p><p>ä»¥æ­¤ç±»æ¨ï¼Œæ‰€æœ‰è®­ç»ƒæ­¥éª¤æƒ…å½¢ä¸º:</p><p><img src="./v2-df5167508190ac8be34d2a2a9322b475_1440w.jpg" alt="img"></p><p>è¯¥æ¨¡å‹å°†æ›´æ­£æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„ç»Ÿè®¡å±æ€§ï¼Œæ›´å¿«åœ°å­¦ä¼šç”Ÿæˆæ­£ç¡®çš„åºåˆ—ã€‚</p><h2 id="Teacher-Forcingçš„ç¼ºç‚¹"><a href="#Teacher-Forcingçš„ç¼ºç‚¹" class="headerlink" title="Teacher Forcingçš„ç¼ºç‚¹"></a>Teacher Forcingçš„ç¼ºç‚¹</h2><p>ä¸€ç›´é è€å¸ˆå¸¦çš„å­©å­æ˜¯èµ°ä¸è¿œçš„ã€‚<br> å› ä¸ºä¾èµ–æ ‡ç­¾æ•°æ®ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹ä¼šæœ‰è¾ƒå¥½çš„æ•ˆæœï¼Œä½†æ˜¯åœ¨æµ‹è¯•çš„æ—¶å€™å› ä¸ºä¸èƒ½å¾—åˆ°ground truthçš„æ”¯æŒï¼Œæ‰€ä»¥å¦‚æœç›®å‰ç”Ÿæˆçš„åºåˆ—åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æœ‰å¾ˆå¤§ä¸åŒï¼Œæ¨¡å‹å°±ä¼šå˜å¾—è„†å¼±ã€‚ä¹Ÿå°±æ˜¯å¦‚æœæµ‹è¯•æ•°æ®é›†ä¸è®­ç»ƒæ•°æ®é›†æ¥è‡ªä¸åŒçš„é¢†åŸŸï¼Œæ¨¡å‹çš„performanceå°±ä¼šå˜å·®ã€‚</p><h2 id="Newly-designed-training-method"><a href="#Newly-designed-training-method" class="headerlink" title="Newly designed training method"></a>Newly designed training method</h2><p><img src="./image-20201124220437885.png" alt="image-20201124220437885"></p><p>ä¸ºäº†å…‹æœä¸Šè¿°é—®é¢˜ï¼Œæ–‡ç« æå‡ºäº†ä¸€ç§æ–°çš„è®­ç»ƒæ–¹æ³•ï¼Œä½¿ç”¨å†å²ç»Ÿè®¡ä¿¡æ¯æ¯”å¦‚jè¿™æ®µæ—¶é—´çš„å¹³å‡å€¼ï¼Œä¸­ä½æ•°ï¼Œæœ€å¤§å€¼ï¼Œæœ€å°å€¼å’Œä¸€å‘¨ä¸­çš„æŸå¤©å’Œä¸€å¤©ä¸­çš„æŸæ—¶ä½œä¸ºè¾“å…¥ã€‚åœ¨æ—¶é—´åºåˆ—é¢„æµ‹é—®é¢˜ä¸­ï¼Œåœ¨è®­ç»ƒå’Œæµ‹è¯•é˜¶æ®µéƒ½å¯ä»¥è·å¾—å†å²ç»Ÿè®¡ä¿¡æ¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯‘ç å™¨è¾“å…¥åœ¨è®­ç»ƒå’Œæµ‹è¯•æœŸé—´çš„åˆ†å¸ƒå°†ä¼šåŒæ­¥ï¼Œä»è€Œè§£å†³äº†æ•™å¸ˆå¼ºè¿«çš„å›°å¢ƒã€‚æ­¤å¤–ï¼Œç”±äºå†å²ç»Ÿè®¡ä¿¡æ¯åœ¨å¤šæ­¥é¢„æµ‹ä¸­è‡³å…³é‡è¦ï¼Œå°†å…¶åŠ å…¥åˆ°æ¨¡å‹ä¸­æœ‰æœ›æé«˜é¢„æµ‹ç²¾åº¦ã€‚è¿™æ˜¯ä»–çš„æ¨¡å‹è§£å†³çš„é—®é¢˜ã€‚</p><h2 id="AGC-Seq2Seqæ¨¡å‹æ¶æ„"><a href="#AGC-Seq2Seqæ¨¡å‹æ¶æ„" class="headerlink" title="AGC-Seq2Seqæ¨¡å‹æ¶æ„"></a><em>AGC-Seq2Seq</em>æ¨¡å‹æ¶æ„</h2><p><img src="./æˆªå±2020-11-18 ä¸‹åˆ7.52.36.png" alt="æˆªå±2020-11-18 ä¸‹åˆ7.52.36"></p><p>é¦–å…ˆå°†é‚»æ¥çŸ©é˜µå’Œäº¤é€šæµé€Ÿçš„ç‰¹å¾å‘é‡å–‚å…¥å›¾å·ç§¯ï¼Œå¾—åˆ°m+1æ—¶åˆ»çš„äº¤é€šæµé€Ÿåºåˆ—ï¼Œå†å°†äº¤é€šæµé€Ÿåºåˆ—ä¸å…¶ä»–ä¸¤ä¸ªä¿¡æ¯æ‹¼æ¥èµ·æ¥ä½œä¸ºç‰¹å¾å‘é‡ï¼Œæ”¾å…¥encoderæ¨¡å‹ï¼Œåˆ©ç”¨t-måˆ°t+1çš„ç‰¹å¾å‘é‡è®¡ç®—æ³¨æ„åŠ›å€¼Sï¼Œåœ¨decoderæ¨¡å‹ä¸­ï¼Œå°†æ³¨æ„åŠ›æ¨¡å‹ä¸t+1ç‰¹å¾å‘é‡æ‹¼æ¥èåˆï¼Œæœ€åä¸€ä¸ªä¸å¸¦æ¿€æ´»å‡½æ•°çš„å…¨è¿æ¥å±‚è¾“å‡ºã€‚</p><h1 id="STG2Seq"><a href="#STG2Seq" class="headerlink" title="STG2Seq"></a>STG2Seq</h1><h2 id="å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³"><a href="#å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³" class="headerlink" title="å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³"></a>å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³</h2><ul><li>åŸºäºcnnçš„æ–¹æ³•(åŒ…æ‹¬ConvLSTM)å‡è®¾å°†åŸå¸‚åˆ’åˆ†ä¸ºå°ç½‘æ ¼(å¦‚1kmÃ—1kmé¢ç§¯)ï¼Œè¿™å¹¶ä¸æ€»æ˜¯æˆç«‹[Chu et al.ï¼Œ 2018]ã€‚æ­¤å¤–ï¼Œè¿™äº›æ–¹æ³•åªèƒ½æ¨¡æ‹Ÿé‚»è¿‘åœ°åŒºå’Œåè¿œåœ°åŒºä¹‹é—´çš„Eu- clideanå…³ç³»ï¼Œè€Œä¸èƒ½æ¨¡æ‹Ÿå…·æœ‰ç›¸ä¼¼ç‰¹å¾çš„å†å¾®ç²’åœ°åŒºä¹‹é—´çš„éæ¬§å‡ é‡Œå¾—ç›¸å…³æ€§ã€‚è€ƒè™‘å›¾1(a)ä¸­çš„ç¤ºä¾‹ã€‚AåŒºä¸DåŒº(å¤§å­¦å’Œè´­ç‰©åŒº)æœ‰å…±åŒçš„å…´è¶£ç‚¹ï¼Œè€Œä¸BåŒºå’ŒCåŒº(åŒ…å«å…¬å›­)æœ‰å…±åŒçš„å…´è¶£ç‚¹ã€‚å› æ­¤ï¼ŒAåœ°åŒºæ—…å®¢éœ€æ±‚ä¸Dçš„ç›¸å…³æ€§å¼ºäºBå’ŒCã€‚</li><li>ç›®å‰çš„æ–¹æ³•ä¸¥æ ¼ä¾èµ–åŸºäºrnntureçš„æ¶æ„(ä¾‹å¦‚æ··åˆçš„CNN-LSTMå’ŒConvLSTMæ¶æ„)æ¥æ•è·æ—¶é—´ç›¸å…³æ€§ã€‚ç„¶è€Œï¼Œå…¸å‹çš„é“¾ç»“æ„RNNç»“æ„éœ€è¦æ‰§è¡Œå¤§é‡çš„è¿­ä»£æ­¥éª¤(ç­‰äºè¾“å…¥æ•°æ®çš„çª—å£å¤§å°)æ¥å¤„ç†éœ€æ±‚æ•°æ®ï¼Œä»è€Œå¯¼è‡´åœ¨å»ºæ¨¡é•¿æœŸæ—¶é—´ä¾èµ–æ€§æ—¶å‡ºç°ä¸¥é‡çš„ä¿¡æ¯é—å¿˜ã€‚æ­¤å¤–ï¼Œåˆ©ç”¨RNNä½œä¸ºå¤šæ­¥é¢„æµ‹çš„è§£ç å™¨ä¼šå¯¼è‡´æ¯ä¸€æ­¥çš„è¯¯å·®ç§¯ç´¯ï¼Œå¯¼è‡´æ¨¡å‹æ›´å¿«çš„æ¶åŒ–ã€‚</li><li>ç›®å‰çš„ç ”ç©¶åŠªåŠ›æ²¡æœ‰å‡†ç¡®åœ°æ•æ‰åˆ°å¯èƒ½å­˜åœ¨äºæ—¶é—´ç›¸å…³æ€§ã€‚å…¶ä¸­å¤§éƒ¨åˆ†ä»…åæ˜ äº†å†å²æ—…å®¢éœ€æ±‚çš„æ€»ä½“å½±å“ã€‚ä½†æ˜¯ï¼Œå‰é¢çš„æ¯ä¸€æ­¥å¯èƒ½å¯¹è¦é¢„æµ‹çš„é‚£ä¸€æ­¥äº§ç”Ÿä¸åŒçš„å½±å“ã€‚</li></ul><h2 id="æ‰€åšçš„å·¥ä½œ"><a href="#æ‰€åšçš„å·¥ä½œ" class="headerlink" title="æ‰€åšçš„å·¥ä½œ"></a>æ‰€åšçš„å·¥ä½œ</h2><ul><li>æˆ‘ä»¬å°†å…¨å¸‚æ—…å®¢éœ€æ±‚ç”¨å›¾è¡¨è¡¨ç¤ºå‡ºæ¥ï¼Œå¹¶æå‡ºäº†ä¸€ä¸ªåŸºäºgcnçš„å¤šæ­¥æ—…å®¢éœ€æ±‚é¢„æµ‹æ¨¡å‹ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªçº¯ç²¹ä¾é å›¾å·ç§¯ç»“æ„æ¥æå–æ—¶ç©ºç›¸å…³æ€§è¿›è¡Œå¤šæ­¥é¢„æµ‹çš„å·¥ä½œã€‚</li><li>æˆ‘ä»¬æå‡ºåŸºäºæ³¨æ„åŠ›çš„è¾“å‡ºæ¨¡å—æ¥æ•æ‰æœ€å…·å½±å“åŠ›çš„å†å²æ—¶é—´æ­¥é•¿å¯¹é¢„æµ‹éœ€æ±‚çš„å½±å“ã€‚</li><li>æˆ‘ä»¬åœ¨ä¸‰ä¸ªçœŸå®æ•°æ®é›†ä¸Šè¿›è¡Œäº†å¹¿æ³›çš„å®éªŒï¼Œå¹¶å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸ä¸‰ä¸ªåŸºçº¿å’Œå…«ç§åŸºäºæ·±åº¦å­¦ä¹ çš„å…ˆè¿›é‰´åˆ«æ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ¨¡å‹èƒ½å¤Ÿå§‹ç»ˆæ˜¾è‘—åœ°ä¼˜äºæ‰€æœ‰çš„æ¯”è¾ƒæ–¹æ³•ã€‚</li></ul><h2 id="Gated-Graph-Convolutional-Module"><a href="#Gated-Graph-Convolutional-Module" class="headerlink" title="Gated Graph Convolutional Module"></a>Gated Graph Convolutional Module</h2><p>GGCM æ¨¡å—çš„è¯¦ç»†è®¾è®¡å¦‚å›¾ ã€‚ç¬¬ l ä¸ª GGCM çš„è¾“å…¥æ˜¯ä¸€ä¸ªçŸ©é˜µï¼Œç»´æ•°ä¸º hÃ—NÃ—Clã€‚åœ¨ç¬¬ä¸€ä¸ª GGCM æ¨¡å—ï¼ŒCl æ˜¯ din ç»´çš„ã€‚ç¬¬ l ä¸ª GGCM çš„è¾“å‡ºæ˜¯ hÃ—NÃ—Cl+1ã€‚æˆ‘ä»¬å…ˆæ‹¼æ¥ä¸€ä¸ª zero paddingï¼Œç»´æ•°ä¸º (kâˆ’1)Ã—NÃ—Clï¼Œå¾—åˆ°æ–°çš„è¾“å…¥ (h+kâˆ’1)Ã—NÃ—Clï¼Œç¡®ä¿å˜æ¢ä¸ä¼šå‡å°‘åºåˆ—çš„é•¿åº¦ã€‚æ¥ä¸‹æ¥ï¼ŒGGCM ä¸­çš„æ¯ä¸ª GCN å– k ä¸ªæ—¶é—´æ­¥çš„æ•°æ® kÃ—NÃ—Cl ä½œä¸ºè¾“å…¥æ¥æå–æ—¶ç©ºå…³è”æ€§ï¼Œç„¶å reshape æˆä¸€ä¸ªäºŒç»´çŸ©é˜µ NÃ—(kâ‹…Cl)ã€‚å¯¹äºè¿™ä¸ªè¿‡ç¨‹ï¼Œç«‹ä½“çš„æ¯”è¾ƒéš¾ç†è§£ï¼Œæˆ‘ä»¬æŠŠå®ƒæ˜ å°„æˆå¹³é¢ä»¥äº†è§£ä»–ä¸ºä»€ä¹ˆæ—¢èƒ½æ•è·æ—¶é—´ä¿¡æ¯åˆèƒ½æ•è·ç©ºé—´ä¿¡æ¯ã€‚</p><p><img src="./image-20201124223216810.png" alt="image-20201124223216810"></p><p>ä¸ºäº†æ•è·æ—¶ç©ºå…³è”æ€§ï¼Œæ¯ä¸ª GCN åœ¨ä¸€å®šé•¿åº¦çš„æ—¶é—´çª—å†…æ“ä½œ(k)ã€‚å®ƒå¯ä»¥æå– k ä¸ªæ—¶é—´æ­¥å†…æ‰€æœ‰åŒºåŸŸçš„ç©ºé—´å…³è”æ€§ã€‚é€šè¿‡å †å å¤šä¸ª GGCMï¼Œæˆ‘ä»¬çš„æ¨¡å‹å½¢æˆäº†ä¸€ä¸ªå±‚æ¬¡ç»“æ„ï¼Œå¯ä»¥æ•è·æ•´ä¸ªè¾“å…¥çš„æ—¶ç©ºå…³è”æ€§ã€‚å›¾ 3 å±•ç¤ºäº†åªä½¿ç”¨ GCN æ•è·æ—¶ç©ºå…³è”æ€§ï¼Œä¸ºäº†ç®€åŒ–æˆ‘ä»¬å¿½ç•¥äº†é€šé“ç»´ã€‚å¯ä»¥åŒæ—¶æ•è·æ—¶ç©ºå…³è”æ€§ã€‚</p><p><img src="./æˆªå±2020-11-25 ä¸Šåˆ11.09.06.png" alt="æˆªå±2020-11-25 ä¸Šåˆ11.09.06"></p><h2 id="æå‡ºæ–°æ¶æ„çš„åŸå› "><a href="#æå‡ºæ–°æ¶æ„çš„åŸå› " class="headerlink" title="æå‡ºæ–°æ¶æ„çš„åŸå› "></a>æå‡ºæ–°æ¶æ„çš„åŸå› </h2><p>1.å¾ˆå¤šä¹‹å‰çš„å·¥ä½œåªè€ƒè™‘ä¸‹ä¸€æ­¥é¢„æµ‹ï¼Œå³é¢„æµ‹ä¸‹ä¸€æ—¶é—´æ­¥çš„æ—…å®¢éœ€æ±‚ã€‚</p><p>2.åœ¨ç›®æ ‡éœ€æ±‚å’Œå‰ä¸€ä¸ªéœ€æ±‚ä¸Šçš„é•¿è·ç¦»è®¡ç®—ä¼šå¯¼è‡´ä¸€äº›ä¿¡æ¯çš„é—å¿˜ã€‚</p><p>3.åœ¨è§£ç éƒ¨åˆ†ï¼Œä¸ºäº†é¢„æµ‹æ—¶é—´æ­¥ T çš„éœ€æ±‚ï¼ŒRNN å°†éšè—çŠ¶æ€å’Œå‰ä¸€æ—¶é—´æ­¥ Tâˆ’1 ä½œä¸ºè¾“å…¥ã€‚å› æ­¤ï¼Œå‰ä¸€æ—¶é—´æ­¥å¸¦æ¥çš„è¯¯å·®ä¼šç›´æ¥å½±å“åˆ°é¢„æµ‹ï¼Œå¯¼è‡´æœªæ¥æ—¶é—´æ­¥è¯¯å·®çš„ç´¯ç§¯ã€‚</p><h2 id="Long-term-and-Short-term-Encoders"><a href="#Long-term-and-Short-term-Encoders" class="headerlink" title="Long-term and Short-term Encoders"></a>Long-term and Short-term Encoders</h2><p><img src="./æˆªå±2020-11-24 ä¸‹åˆ10.40.27.png" alt="æˆªå±2020-11-24 ä¸‹åˆ10.40.27"></p><p>äºæ˜¯å°±å¼•å…¥Long-term and Short-term Encodersï¼Œé•¿æœŸç¼–ç å™¨çš„è¾“å…¥ä¸ºhæ­¥å†å²æ•°æ®ï¼šhÃ—nÃ—dçš„3Dçš„ç«‹æ–¹ä½“ï¼Œhä¸ºæ—¶é—´æ­¥ï¼Œnä¸ºèŠ‚ç‚¹ä¸ªæ•°ï¼Œdinä¸ºèŠ‚ç‚¹ç‰¹å¾ç»´åº¦ã€‚å…¶ä¸­ï¼Œé•¿æœŸç¼–ç å™¨ç”±å¤šä¸ªGCCMæ¨¡å—ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªGGCMæ•è·æ‰€æœ‰Nä¸ªåŒºåŸŸä¹‹é—´çš„ç©ºé—´ç›¸å…³æ€§å’Œkï¼ˆæ–‘å—å¤§å°ï¼Œè¶…å‚æ•°ï¼‰æ—¶é—´æ­¥é•¿ä¹‹é—´çš„æ—¶é—´ç›¸å…³æ€§ã€‚hÃ—nÃ—dé•¿æœŸç¼–ç å™¨çš„è¾“å‡ºä¸ºä¸€ä¸ªçš„çŸ©é˜µY_h.çŸ­æœŸç¼–ç å™¨ç”¨æ¥é›†æˆå·²ç»é¢„æµ‹çš„éœ€æ±‚ï¼Œç”¨äºå¤šæ­¥é¢„æµ‹ã€‚å®ƒä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º q çš„æ»‘åŠ¨çª—æ¥æ•è·è¿‘æœŸçš„æ—¶ç©ºå…³è”æ€§ã€‚å½“é¢„æµ‹åœ¨ T(Tâˆˆ[t+1,t+Ï„]) æ­¥çš„æ—…å®¢éœ€æ±‚æ—¶ï¼Œå®ƒå–æœ€è¿‘çš„ q ä¸ªæ—¶é—´æ­¥çš„æ—…å®¢éœ€æ±‚ï¼Œå³ {DTâˆ’q,DTâˆ’q+1,â€¦,DTâˆ’1} ä½œä¸ºè¾“å…¥ã€‚é™¤äº†æ—¶é—´æ­¥çš„é•¿åº¦ä»¥å¤–ï¼ŒçŸ­æœŸç¼–ç å™¨å’Œé•¿æœŸç¼–ç å™¨ä¸€æ ·ã€‚çŸ­æœŸç¼–ç å™¨ç”Ÿæˆä¸€ä¸ªç»´æ•°ä¸º qÃ—NÃ—dout çš„çŸ©é˜µ YTq ä½œä¸ºè¿‘æœŸè¶‹åŠ¿è¡¨ç¤ºã€‚å’ŒåŸºäº RNN çš„è§£ç å™¨ä¸åŒçš„æ˜¯ï¼ŒRNNçš„è§£ç å™¨åªå°†æœ€åä¸€ä¸ªæ—¶é—´æ­¥çš„é¢„æµ‹ç»“æœè¾“å…¥å›å»ã€‚å› æ­¤ï¼Œé¢„æµ‹è¯¯å·®ä¼šè¢«é•¿æœŸç¼–ç å™¨å‡å¼±ï¼Œç¼“è§£åŸºäº RNN çš„è§£ç å™¨ä¼šå¯¼è‡´è¯¯å·®ç´¯ç§¯çš„é—®é¢˜ã€‚</p><h1 id="GMAN-A-Graph-Multi-Attention-Network-for-Traffic-Prediction"><a href="#GMAN-A-Graph-Multi-Attention-Network-for-Traffic-Prediction" class="headerlink" title="GMAN: A Graph Multi-Attention Network for Traffic Prediction"></a>GMAN: A Graph Multi-Attention Network for Traffic Prediction</h1><h2 id="å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³-1"><a href="#å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³-1" class="headerlink" title="å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³"></a>å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³</h2><ul><li>å¤æ‚çš„æ—¶ç©ºå…³è”ï¼š<ul><li>åŠ¨æ€çš„ç©ºé—´å…³è”ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œè·¯ç½‘ä¸­çš„ä¼ æ„Ÿå™¨ä¹‹é—´çš„å…³è”éšæ—¶é—´å‰§çƒˆåœ°å˜åŒ–ï¼Œæ¯”å¦‚é«˜å³°æ—¶æ®µçš„å‰åã€‚å¦‚ä½•åŠ¨æ€åœ°é€‰æ‹©ç›¸å…³çš„æ£€æµ‹å™¨æ•°æ®æ¥é¢„æµ‹ä¸€ä¸ªæ£€æµ‹å™¨åœ¨æœªæ¥é•¿æ—¶é—´èŒƒå›´çš„äº¤é€šçŠ¶å†µæ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚</li><li>éçº¿æ€§çš„æ—¶é—´å…³è”ã€‚ä¸€ä¸ªæ£€æµ‹å™¨çš„äº¤é€šçŠ¶å†µå¯èƒ½å˜åŒ–å¾—éå¸¸å‰§çƒˆï¼Œä¸”å¯èƒ½ç”±äºäº‹æ•…ç­‰å› ç´ ï¼Œçªç„¶å½±å“ä¸åŒæ—¶é—´æ­¥ä¹‹é—´çš„å…³è”æ€§ã€‚å¦‚ä½•è‡ªé€‚åº”åœ°éšæ—¶é—´çš„æ¨ç§»å¯¹è¿™ç§éçº¿æ€§æ—¶é—´å…³è”å»ºæ¨¡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚</li></ul></li><li>å¯¹è¯¯å·®ä¼ é€’çš„æ•æ„Ÿã€‚é•¿æœŸé¢„æµ‹ä¸Šï¼Œæ¯ä¸ªæ—¶é—´æ­¥ä¸Šå°çš„é”™è¯¯éƒ½ä¼šè¢«æ”¾å¤§ã€‚è¿™æ ·çš„è¯¯å·®ä¼ é€’å¯¹äºè¿œæœŸæ—¶é—´é¢„æµ‹æ¥è¯´ä»å…·æœ‰æŒ‘æˆ˜æ€§ã€‚</li></ul><p><img src="./æˆªå±2020-11-25 ä¸Šåˆ11.29.00.png" style="zoom:50%;" /></p><h2 id="è¯¥å·¥ä½œåšå‡ºçš„è´¡çŒ®"><a href="#è¯¥å·¥ä½œåšå‡ºçš„è´¡çŒ®" class="headerlink" title="è¯¥å·¥ä½œåšå‡ºçš„è´¡çŒ®"></a>è¯¥å·¥ä½œåšå‡ºçš„è´¡çŒ®</h2><ul><li>æå‡ºç©ºé—´æ³¨æ„åŠ›å’Œæ—¶é—´æ³¨æ„åŠ›å¯¹åŠ¨æ€ç©ºé—´å’Œéçº¿æ€§æ—¶é—´å…³è”åˆ†åˆ«å»ºæ¨¡ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªé—¨æ§èåˆæœºåˆ¶ï¼Œè‡ªé€‚åº”åœ°èåˆç©ºé—´æ³¨æ„åŠ›å’Œæ—¶é—´æ³¨æ„åŠ›æœºåˆ¶çš„çš„ä¿¡æ¯ã€‚</li><li>æå‡ºä¸€ä¸ªå˜æ¢æ³¨æ„åŠ›æœºåˆ¶å°†å†å²äº¤é€šç‰¹å¾è½¬æ¢ä¸ºæœªæ¥çš„è¡¨ç¤ºã€‚è¿™ä¸ªæ³¨æ„åŠ›æœºåˆ¶å¯¹å†å²å’Œæœªæ¥çš„å…³ç³»ç›´æ¥å»ºæ¨¡ï¼Œå‡è½»é”™è¯¯ä¼ æ’­çš„é—®é¢˜ã€‚</li><li>æˆ‘ä»¬åœ¨ä¸¤ä¸ªæ•°æ®é›†ä¸Šè¯„ä¼°äº†æˆ‘ä»¬çš„å›¾å¤šæ³¨æ„åŠ›ç½‘ç»œï¼Œåœ¨ 1 å°æ—¶é¢„æµ‹é—®é¢˜ä¸Šæ¯” state-of-the-art æé«˜äº† 4%ã€‚</li></ul><h2 id="Graph-Multi-Attention-Network"><a href="#Graph-Multi-Attention-Network" class="headerlink" title="Graph Multi-Attention Network"></a>Graph Multi-Attention Network</h2><p><img src="./Fig2.png" alt="img" style="zoom:50%;" /></p><p>å›¾ 2 æè¿°äº†æˆ‘ä»¬æ¨¡å‹çš„æ¶æ„ã€‚ç¼–ç å’Œè§£ç å™¨éƒ½æœ‰ STAtt Block å’Œæ®‹å·®è¿æ¥ã€‚æ¯ä¸ª ST-Attention block ç”±ç©ºé—´æ³¨æ„åŠ›æœºåˆ¶ã€æ—¶é—´æ³¨æ„åŠ›æœºåˆ¶å’Œä¸€ä¸ªé—¨æ§èåˆç»„æˆã€‚ç¼–ç å™¨å’Œè§£ç å™¨ä¹‹é—´æœ‰ä¸ªå˜æ¢æ³¨æ„åŠ›å±‚ã€‚æˆ‘ä»¬è¿˜é€šè¿‡ä¸€ä¸ªæ—¶ç©ºåµŒå…¥ spatial-temporal embedding (STE) ç»§æ‰¿äº†å›¾ç»“æ„å’Œæ—¶é—´ä¿¡æ¯åˆ°å¤šæ³¨æ„åŠ›æœºåˆ¶ä¸­ã€‚æ­¤å¤–ï¼Œä¸ºäº†è¾…åŠ©æ®‹å·®è¿æ¥ï¼Œæ‰€æœ‰å±‚çš„è¾“å‡ºéƒ½æ˜¯ D ç»´ã€‚</p><h2 id="Spatio-Temporal-Embedding"><a href="#Spatio-Temporal-Embedding" class="headerlink" title="Spatio-Temporal Embedding"></a>Spatio-Temporal Embedding</h2><p>å› ä¸ºäº¤é€šçŠ¶å†µçš„å˜åŒ–å—é™äºè·¯ç½‘ï¼Œé›†æˆè·¯ç½‘ä¿¡æ¯åˆ°æ¨¡å‹ä¸­å¾ˆé‡è¦ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºä¸€ä¸ªç©ºé—´åµŒå…¥ï¼ŒæŠŠç»“ç‚¹åµŒå…¥åˆ°å‘é‡ä¸­ä»¥æ­¤ä¿å­˜å›¾ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬åˆ©ç”¨ node2vec å­¦ä¹ ç»“ç‚¹è¡¨ç¤ºã€‚æ­¤å¤–ï¼Œä¸ºäº†ååŒè®­ç»ƒæ¨¡å‹å’Œé¢„å­¦ä¹ çš„å‘é‡ï¼Œè¿™äº›å‘é‡ä¼šæ”¾å…¥ä¸€ä¸ªä¸¤å±‚å…¨è¿æ¥ç¥ç»ç½‘ç»œä¸­ã€‚ç„¶åå°±å¯ä»¥æ‹¿åˆ°ç©ºé—´è¡¨ç¤º $e^S_{v_i} \in \mathbb{R}^D$ã€‚</p><p>ç©ºé—´åµŒå…¥åªæä¾›äº†å›ºå®šçš„è¡¨ç¤ºï¼Œä¸èƒ½è¡¨ç¤ºè·¯ç½‘ä¸­çš„ä¼ æ„Ÿå™¨çš„åŠ¨æ€å…³è”æ€§ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ—¶é—´åµŒå…¥æ¥æŠŠæ¯ä¸ªæ—¶é—´æ­¥ç¼–ç åˆ°å‘é‡ä¸­ã€‚å‡è®¾ä¸€å¤©æ˜¯ T ä¸ªæ—¶é—´æ­¥ã€‚æˆ‘ä»¬ä½¿ç”¨ one-hot ç¼–ç æ˜ŸæœŸã€æ—¶é—´åˆ° $\mathbb{R}^7$ å’Œ $\mathbb{R}^T$ é‡Œé¢ï¼Œç„¶åæ‹¼æ¥ï¼Œå¾—åˆ° $\mathbb{R}^{T + 7}$ã€‚æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ä¸¤å±‚å…¨è¿æ¥æ˜ å°„åˆ° $\mathbb{R}^D$ã€‚åœ¨æˆ‘ä»¬çš„æ¨¡å‹é‡Œé¢ï¼Œç»™å†å²çš„ P ä¸ªæ—¶é—´æ­¥å’Œæœªæ¥çš„ Q ä¸ªæ—¶é—´æ­¥åµŒå…¥æ—¶é—´ç‰¹å¾ï¼Œè¡¨ç¤ºä¸º $e^T_{t_j} \in \mathbb{R}^D$ï¼Œ$t_j = t_1$, $\dots, t_P$, $\dots$, $t_{P+Q}$ã€‚</p><p>ä¸ºäº†è·å¾—éšæ—¶é—´å˜åŒ–çš„é¡¶ç‚¹è¡¨ç¤ºï¼Œæˆ‘ä»¬èåˆäº†ä¸Šè¿°çš„ç©ºé—´åµŒå…¥å’Œæ—¶é—´åµŒå…¥ï¼Œå¾—åˆ°æ—¶ç©ºåµŒå…¥ï¼ˆSTEï¼‰ï¼Œå¦‚å›¾ 2b æ‰€ç¤ºã€‚ç»“ç‚¹ $v_i$ åœ¨æ—¶é—´æ­¥ $t_j$ï¼ŒSTE å®šä¹‰ä¸º $e_{v_i,t_j} = e^S_{v_i} + e^T_{t_j}$ã€‚å› æ­¤ï¼ŒN ä¸ªç»“ç‚¹åœ¨ P + Q çš„æ—¶é—´æ­¥é‡Œçš„ STE è¡¨ç¤ºä¸º $E \in \mathbb{R}^{(P + Q) \times N \times D}$ã€‚STE åŒ…å«å›¾ç»“æ„å’Œæ—¶é—´ä¿¡æ¯ã€‚å®ƒä¼šç”¨åœ¨ç©ºé—´ã€æ—¶é—´ã€å˜æ¢æ³¨æ„åŠ›æœºåˆ¶é‡Œé¢ã€‚</p><h2 id="ST-Attention-Block"><a href="#ST-Attention-Block" class="headerlink" title="ST-Attention Block"></a>ST-Attention Block</h2><p>æˆ‘ä»¬å°†ç¬¬ l ä¸ªå—çš„è¾“å…¥è¡¨ç¤ºä¸º $H^{(l-1)}$ï¼Œç»“ç‚¹ $v_i$ åœ¨æ—¶é—´æ­¥ $t_j$ çš„éšè—çŠ¶æ€è¡¨ç¤ºä¸º $h^{(l-1)}_{v_i,t_j}$ã€‚ç¬¬ l å—ä¸­çš„ç©ºé—´å’Œæ—¶é—´æ³¨æ„åŠ›æœºåˆ¶çš„è¾“å‡ºè¡¨ç¤ºä¸º $H^{(l)}_S$å’Œ $H^{(l)}_T$ï¼Œéšè—çŠ¶æ€è¡¨ç¤ºä¸º $hs^{(l)}_{v_i,t_j}$ å’Œ $ht^{(l)}_{v_i,t_j}$ã€‚é—¨æ§èåˆåï¼Œç¬¬ l å±‚çš„è¾“å‡ºè¡¨ç¤ºä¸º $H^{(l)}$ã€‚</p><p>æˆ‘ä»¬å°†éçº¿æ€§å˜æ¢è¡¨ç¤ºä¸ºï¼š</p><p>$\tag{1}  f(x) = \text{ReLU}(x\mathbf{W} + \mathbf{b}).$</p><p><img src="./æˆªå±2020-11-25 ä¸Šåˆ11.35.36.png" alt="æˆªå±2020-11-25 ä¸Šåˆ11.35.36" style="zoom:50%;" /></p><p><strong>Spatial Attention</strong> ä¸€æ¡è·¯çš„äº¤é€šçŠ¶å†µå—å…¶ä»–è·¯çš„å½±å“ï¼Œä¸”å½±å“ä¸åŒã€‚è¿™æ ·çš„å½±å“æ˜¯é«˜åº¦åŠ¨æ€çš„ï¼Œéšæ—¶é—´å˜åŒ–ã€‚ä¸ºäº†å»ºæ¨¡è¿™äº›å±æ€§ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªç©ºé—´æ³¨æ„åŠ›æœºåˆ¶åŠ¨æ€åœ°æ•è·è·¯ç½‘ä¸­ä¼ æ„Ÿå™¨é—´çš„å…³è”æ€§ã€‚æ ¸å¿ƒç‚¹æ˜¯åœ¨ä¸åŒçš„æ—¶é—´æ­¥åŠ¨æ€åœ°ç»™ä¸åŒçš„ç»“ç‚¹åˆ†é…æƒé‡ï¼Œå¦‚å›¾ 3 æ‰€ç¤ºã€‚å¯¹äºæ—¶é—´æ­¥ tj çš„ç»“ç‚¹ viï¼Œæˆ‘ä»¬è®¡ç®—æ‰€æœ‰ç»“ç‚¹çš„å¸¦æƒå’Œï¼š</p><p>$\tag{2} hs^{(l)}_{v_i,t_j} = \sum_{v \in \mathcal{V}} \alpha_{v_i, v} \cdot h^{(l-1)}_{v,t_j},$</p><p>$\alpha_{v_i, v}$ æ˜¯ç»“ç‚¹ v å¯¹ $v_i$ çš„æ³¨æ„åŠ›åˆ†æ•°ï¼Œæ³¨æ„åŠ›åˆ†æ•°ä¹‹å’Œä¸º1ï¼š$\sum_{v \in \mathcal{V}} \alpha_{v_i, v} = 1$ã€‚</p><p>$Î±_{vi,v}$ æ˜¯ç»“ç‚¹ v å¯¹ $v_i$ çš„æ³¨æ„åŠ›åˆ†æ•°ï¼Œæ³¨æ„åŠ›åˆ†æ•°ä¹‹å’Œä¸º1ï¼š$\sum_{v \in \mathcal{V}} \alpha_{v_i, v} = 1$ã€‚</p><p>åœ¨ä¸€ä¸ªç¡®å®šçš„æ—¶é—´æ­¥ï¼Œå½“å‰äº¤é€šçŠ¶å†µå’Œè·¯ç½‘ç»“æ„èƒ½å¤Ÿå½±å“ä¼ æ„Ÿå™¨ä¹‹é—´çš„å…³è”æ€§ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè·¯ä¸Šçš„æ‹¥æŒ¤å¯èƒ½æå¤§åœ°å½±å“å®ƒä¸´è¿‘è·¯æ®µçš„äº¤é€šçŠ¶å†µã€‚å—è¿™ä¸ªç›´è§‰çš„å¯å‘ï¼Œæˆ‘ä»¬è€ƒè™‘ä½¿ç”¨äº¤é€šç‰¹å¾å’Œå›¾ç»“æ„ä¸¤æ–¹é¢æ¥å­¦ä¹ æ³¨æ„åŠ›åˆ†æ•°ã€‚æˆ‘ä»¬æŠŠéšè—çŠ¶æ€å’Œæ—¶ç©ºåµŒå…¥æ‹¼æ¥èµ·æ¥ï¼Œä½¿ç”¨ scaled dot-product approach (Vaswani et al. 2017) æ¥è®¡ç®—ç»“ç‚¹ $v_i$ å’Œ v ä¹‹é—´çš„ç›¸å…³æ€§ï¼š</p><p>$\tag{3} s_{v_i, v} = \frac{&lt; h^{(l-1)}_{v_i,t_j} \Vert\ e_{v_i,t_j}, h^{(l-1)}+{v,t_j}, \Vert e_{v,t_j} &gt;}{\sqrt{2D}}$</p><p>å…¶ä¸­ï¼Œ$\Vert$ è¡¨ç¤ºæ‹¼æ¥æ“ä½œï¼Œ$&lt; \bullet, \bullet &gt;$ è¡¨ç¤ºå†…ç§¯ï¼Œ2D è¡¨ç¤º $h^{(l-1)}_{v_i,t_j} \Vert e_{v_i,t_j}$ çš„ç»´åº¦ã€‚$s_{v_i,v}$ é€šè¿‡ softmax å½’ä¸€åŒ–ï¼š</p><p>$\tag{4} \alpha_{v_i,v} = \frac{\text{exp}(s_{v_i,v})}{\sum_{v_r \in \mathcal{V}} \text{exp}(s_{v_i,v_r})}.$</p><p>å¾—åˆ°æ³¨æ„åŠ›åˆ†æ•° $\alpha_{v_i,v}$ ä¹‹åï¼Œéšè—çŠ¶æ€é€šè¿‡å…¬å¼ 2 æ›´æ–°ã€‚</p><p>ä¸ºäº†ç¨³å®šå­¦ä¹ è¿‡ç¨‹ï¼Œæˆ‘ä»¬æŠŠç©ºé—´æ³¨æ„åŠ›æœºåˆ¶æ‰©å±•ä¸ºå¤šå¤´æ³¨æ„åŠ›æœºåˆ¶ã€‚æˆ‘ä»¬æ‹¼æ¥ K ä¸ªå¹¶è¡Œçš„æ³¨æ„åŠ›æœºåˆ¶ï¼Œä½¿ç”¨ä¸åŒçš„å…¨è¿æ¥æ˜ å°„ï¼š</p><p>$\tag{5} s^{(k)}_{v_i,v} = \frac{&lt; f^{(k)}_{s,1} (h^{(l-1)}_{v_i,t_j} \Vert e_{v_i,t_j}), f^{(k)}_{s,2} (h^{(l-1)}_{v,t_j} \Vert e_{v,t_j}) &gt;}{\sqrt{d}},$</p><p>$\tag{6} \alpha^{(k)}_{v_i,v} = \frac{\text{exp}(s^{(k)}_{v_i,v})}{\sum_{v_r \in \mathcal{V}} \text{exp}(s^{(k)}_{v_i,v_r})},$</p><p>$\tag{7} hs^{(l)}_{v_i,t_j} = \Vert^K_{k=1} \lbrace \sum_{v \in \mathcal{V}} \alpha^{(k)}_{v_i,v} \cdot f^{(k)}_{s,3}(h^{(l-1)}_{v,t_j}) \rbrace,$</p><p>å…¶ä¸­ $f^{(k)}_{s,1}(\bullet), f^{(k)}_{s,2}(\bullet), f^{(k)}_{s,3}(\bullet)$ è¡¨ç¤ºç¬¬ kæ³¨æ„åŠ›å¤´çš„ä¸‰ä¸ªä¸åŒçš„éçº¿æ€§æ˜ å°„ï¼Œå³å…¬å¼ 1 ï¼Œäº§ç”Ÿ d = D / K ç»´çš„è¾“å‡ºã€‚</p><p>å½“ç»“ç‚¹æ•° N å¾ˆå¤§çš„æ—¶å€™ï¼Œæ—¶é—´å’Œå†…å­˜æ¶ˆè€—éƒ½ä¼šå¾ˆå¤§ï¼Œè¾¾åˆ° N^2 çš„æ•°é‡çº§ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé™åˆ¶ï¼Œæˆ‘ä»¬æå‡ºäº†ç»„ç©ºé—´æ³¨æ„åŠ›ï¼ŒåŒ…å«äº†ç»„å†…æ³¨æ„åŠ›åˆ†æ•°å’Œç»„é—´æ³¨æ„åŠ›åˆ†æ•°ï¼Œå¦‚å›¾ 4 æ‰€ç¤ºã€‚</p><p><img src="./æˆªå±2020-11-25 ä¸Šåˆ11.36.53.png" alt="æˆªå±2020-11-25 ä¸Šåˆ11.36.53ï¼Œ" style="zoom:50%;" /></p><p>æˆ‘ä»¬æŠŠ N ä¸ªç»“ç‚¹éšæœºåˆ’åˆ†ä¸º G ä¸ªç»„ï¼Œæ¯ä¸ªç»„åŒ…å« M = N / G ä¸ªç»“ç‚¹ï¼Œå¦‚æœå¿…è¦çš„è¯å¯ä»¥åŠ  paddingã€‚æ¯ä¸ªç»„ï¼Œæˆ‘ä»¬ä½¿ç”¨å…¬å¼ 5ï¼Œ6ï¼Œ7 è®¡ç®—ç»„å†…çš„æ³¨æ„åŠ›ï¼Œå¯¹å±€éƒ¨ç©ºé—´å…³ç³»å»ºæ¨¡ï¼Œå‚æ•°æ˜¯å¯¹æ‰€æœ‰çš„ç»„å…±äº«çš„ã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªç»„ä½¿ç”¨æœ€å¤§æ± åŒ–å¾—åˆ°æ¯ä¸ªç»„çš„è¡¨ç¤ºã€‚æ¥ä¸‹æ¥è®¡ç®—ç»„é—´ç©ºé—´æ³¨æ„åŠ›ï¼Œå¯¹ç»„é—´å…³ç³»å»ºæ¨¡ï¼Œç»™æ¯ä¸ªç»„ç”Ÿæˆä¸€ä¸ªå…¨å±€ç‰¹å¾ã€‚å±€éƒ¨ç‰¹å¾å’Œå…¨å±€ç‰¹å¾ç›¸åŠ å¾—åˆ°æœ€åçš„è¾“å‡ºã€‚</p><p>ç»„ç©ºé—´æ³¨æ„åŠ›ä¸­ï¼Œæˆ‘ä»¬æ¯ä¸ªæ—¶é—´æ­¥éœ€è¦è®¡ç®— $GM^2 + G^2 = NM + (N / M)^2$ ä¸ªæ³¨æ„åŠ›åˆ†æ•°ã€‚é€šè¿‡ä½¿æ¢¯åº¦ä¸º0ï¼Œæˆ‘ä»¬çŸ¥é“ M = \sqrt[3]{2N} æ—¶ï¼Œæ³¨æ„åŠ›åˆ†æ•°çš„ä¸ªæ•°è¾¾åˆ°æœ€å¤§å€¼ $2^{-1/3} N^{4/3} \ll N^2$ã€‚</p><p><img src="./æˆªå±2020-11-25 ä¸Šåˆ11.37.49.png" alt="æˆªå±2020-11-25 ä¸Šåˆ11.37.49ï¼Œ" style="zoom:50%;" /></p><p><strong>Temporal Attention</strong> ä¸€ä¸ªåœ°ç‚¹çš„äº¤é€šçŠ¶å†µå’Œå®ƒä¹‹å‰çš„è§‚æµ‹å€¼æœ‰å…³ï¼Œè¿™ä¸ªå…³è”æ˜¯éçº¿æ€§çš„ã€‚ä¸ºäº†å»ºæ¨¡è¿™äº›æ€§è´¨ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªæ—¶é—´æ³¨æ„åŠ›æœºåˆ¶ï¼Œè‡ªé€‚åº”åœ°å¯¹ä¸åŒæ—¶é—´æ­¥çš„éçº¿æ€§å…³ç³»å»ºæ¨¡ï¼Œå¦‚å›¾ 5 æ‰€ç¤ºã€‚å¯ä»¥æ³¨æ„åˆ°æ—¶é—´å…³è”å—åˆ°äº¤é€šçŠ¶å†µå’Œå¯¹åº”çš„æ—¶é—´ç¯å¢ƒä¸¤è€…çš„å½±å“ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ—©é«˜å³°çš„æ‹¥å µå¯èƒ½ä¼šå½±å“äº¤é€šå¥½å‡ ä¸ªå°æ—¶ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è€ƒè™‘äº¤é€šç‰¹å¾å’Œæ—¶é—´ä¸¤è€…æ¥è¡¡é‡ä¸åŒæ—¶é—´æ­¥çš„ç›¸å…³æ€§ã€‚æˆ‘ä»¬æŠŠéšè—çŠ¶æ€å’Œæ—¶ç©ºåµŒå…¥æ‹¼æ¥èµ·æ¥ï¼Œä½¿ç”¨å¤šå¤´æ³¨æ„åŠ›è®¡ç®—æ³¨æ„åŠ›åˆ†æ•°ã€‚å¯¹äºç»“ç‚¹ $v_i$ï¼Œæ—¶é—´æ­¥ $t_j$ ä¸ t çš„ç›¸å…³æ€§å®šä¹‰ä¸ºï¼š</p><p>$\tag{8} u^{(k)}_{t_j,t} = \frac{&lt; f^{(k)}_{t,1}(h^{(l-1)}_{v_i,t_j} \Vert e_{v_i,t_j}), f^{(k)}_{t,2}(h^{(l-1)}_{v_i,t} \Vert e_{v_i,t}) &gt;}{\sqrt{d}},$</p><p>$\tag{9} \beta^{(k)}_{t_j,t} = \frac{\text{exp}(u^{(k)}_{t_j,t})}{\sum_{t_r \in \mathcal{N}_{t_j}}} \text{exp}(u^{(k)}_{t_j,t_r}),$</p><p>$u^{(k)}_{t_j,t}$ è¡¨ç¤ºæ—¶é—´æ­¥ t_j å’Œ t ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œ$\beta^{(k)}_{t_j,t}$ æ˜¯ç¬¬ k ä¸ªå¤´çš„æ³¨æ„åŠ›åˆ†æ•°ï¼Œè¡¨ç¤ºæ—¶é—´æ­¥ t å¯¹æ—¶é—´æ­¥ $t_j$ çš„é‡è¦æ€§ï¼Œä¸¤ä¸ª f æ˜¯éçº¿æ€§å˜æ¢ï¼Œ$\mathcal{N}_{t_j}$ è¡¨ç¤º $t_j$ å‰çš„æ—¶é—´æ­¥çš„é›†åˆï¼Œå³åªè€ƒè™‘ç›®æ ‡æ—¶é—´æ­¥ä»¥å‰çš„æ—¶é—´æ­¥ï¼Œè¿™æ ·æ‰æœ‰å› æœã€‚ä¸€æ—¦è·å¾—äº†æ³¨æ„åŠ›åˆ†æ•°ï¼Œæ—¶é—´æ­¥ $t_j$ çš„ç»“ç‚¹ $v_i$ çš„éšè—çŠ¶æ€å¯ä»¥é€šè¿‡ä¸‹é¢çš„å…¬å¼æ›´æ–°ï¼š</p><p>$\tag{10} ht^{(l)}_{v_i,t_j} = \Vert^K_{k=1} \lbrace \sum_{t \in \mathcal{N}_{t_j}} \beta^{(k)}_{t_j,t} \cdot f^{(k)}_{t,3}(h^{(l-1)}_{v_i,t}) \rbrace$</p><p>f æ˜¯éçº¿æ€§æ˜ å°„ã€‚å…¬å¼ 8ï¼Œ9ï¼Œ10 å­¦ä¹ åˆ°çš„å‚æ•°å¯¹æ‰€æœ‰ç»“ç‚¹å’Œæ‰€æœ‰æ—¶é—´æ­¥å…±äº«ï¼Œä¸”å¹¶è¡Œè®¡ç®—ã€‚</p><p><strong>Gated Fusion</strong> ä¸€ä¸ªæ—¶é—´æ­¥ä¸€æ¡è·¯ä¸Šçš„äº¤é€šçŠ¶å†µä¸å®ƒè‡ªèº«ä¹‹å‰çš„å€¼å’Œç›¸é‚»é“è·¯ä¸Šçš„äº¤é€šçŠ¶å†µç›¸å…³ã€‚å¦‚å›¾ 2c æ‰€ç¤ºï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªé—¨æ§èåˆæœºåˆ¶è‡ªé€‚åº”åœ°èåˆç©ºé—´å’Œæ—¶é—´è¡¨ç¤ºã€‚åœ¨ç¬¬ l ä¸ªå—ï¼Œç©ºé—´å’Œæ—¶é—´æ³¨æ„åŠ›çš„è¾“å‡ºè¡¨ç¤ºä¸º $H^{(l)}_S$ å’Œ$H^{(l)}_T$ï¼Œä¸¤è€…çš„ç»´åº¦åœ¨ç¼–ç å™¨ä¸­æ˜¯$\mathbb{R}^{P \times N \times D}$ï¼Œè§£ç å™¨ä¸­æ˜¯$\mathbb{R}^{Q \times N \times D}$ã€‚é€šè¿‡ä¸‹å¼èåˆï¼š</p><p>$\tag{11} H^{(l)} = z \odot H^{(l)}_S + (1 - z) \odot H^{(l)}_T,$</p><p>$\tag{12} z = \sigma(H^{(l)}_S \mathbf{W}_{z,1} + H^{(l)}_T \mathbf{W}_{z,2} + \mathbf{b}_z),$</p><p>é—¨æ§èåˆæœºåˆ¶è‡ªé€‚åº”åœ°æ§åˆ¶æ¯ä¸ªæ—¶é—´æ­¥å’Œç»“ç‚¹ä¸Šç©ºé—´å’Œæ—¶é—´ä¾èµ–çš„æµåŠ¨ã€‚</p><h2 id="Transform-Attention"><a href="#Transform-Attention" class="headerlink" title="Transform Attention"></a>Transform Attention</h2><p><img src="./æˆªå±2020-11-25 ä¸Šåˆ11.38.55.png" alt="æˆªå±2020-11-25 ä¸Šåˆ11.38.55 " style="zoom:50%;" /></p><p>ä¸ºäº†å‡è½»é”™è¯¯ä¼ æ’­çš„é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨ç¼–ç å™¨å’Œè§£ç å™¨ä¹‹é—´åŠ å…¥äº†ä¸€ä¸ªå˜æ¢æ³¨æ„åŠ›å±‚ã€‚å®ƒèƒ½ç›´æ¥åœ°å¯¹å†å²æ—¶é—´æ­¥å’Œæœªæ¥æ—¶é—´æ­¥çš„å…³ç³»å»ºæ¨¡ï¼Œå°†äº¤é€šç‰¹å¾ç¼–ç ä¸ºæœªæ¥çš„è¡¨ç¤ºï¼Œä½œä¸ºè§£ç å™¨çš„è¾“å…¥ã€‚å¦‚å›¾ 6 æ‰€ç¤ºï¼Œå¯¹äºç»“ç‚¹ v_i æ¥è¯´ï¼Œé¢„æµ‹çš„æ—¶é—´æ­¥ $t_j \ (t_j = t_{P+1}, \dots, t_{P+Q})$ å’Œå†å²çš„æ—¶é—´æ­¥ $t \ (t_1, \dots, t_P)$ é€šè¿‡æ—¶ç©ºåµŒå…¥æ¥è¡¡é‡ï¼š</p><p>$\tag{13} \lambda^{(k)}_{t_j,t} = \frac{&lt; f^{(k)}_{tr,1}(e_{v_i,t_j}), f^{(k)}_{tr,2}(e_{v_i,t}) &gt;}{\sqrt{d}},$</p><p>$\tag{14} \gamma^{(k)}_{t_j,t} = \frac{\text{exp}(\lambda^{(k)}_{t_j,t})}{\sum^{t_P}_{t_r=t_1} \text{exp}(\lambda^{(k)}_{t_j,t_r})}.$</p><p>ç¼–ç çš„äº¤é€šç‰¹å¾é€šè¿‡æ³¨æ„åŠ›åˆ†æ•° $\gamma^{(k)}_{t_j,t}$ è‡ªé€‚åº”åœ°åœ¨å†å² P ä¸ªæ—¶é—´æ­¥é€‰æ‹©ç›¸å…³çš„ç‰¹å¾ï¼Œå˜æ¢åˆ°è§£ç å™¨çš„è¾“å…¥ï¼š</p><p>$\tag{15} h^{(l)}_{v_i,t_j} = \Vert^K_{k=1} \lbrace \sum^{t_P}_{t=t_1} \gamma^{(k)}_{t_j,t} \cdot f^{(k)}_{tr,3}(h^{(l-1)}_{v_i,t}) \rbrace.$</p><h2 id="Encoder-Decoder"><a href="#Encoder-Decoder" class="headerlink" title="Encoder-Decoder"></a>Encoder-Decoder</h2><p>GMAN æ˜¯ç¼–ç è§£ç æ¶æ„ã€‚åœ¨è¿›å…¥ç¼–ç å™¨å‰ï¼Œå†å²è®°å½• $\mathcal{X} \in \mathbb{R}^{P \times N \times C}$ é€šè¿‡å…¨è¿æ¥å˜æ¢åˆ° $H^{(0)} \in \mathbb{R}^{P \times N \times D}$ã€‚ç„¶å H^{(0)} è¾“å…¥åˆ° L ä¸ªæ—¶ç©ºæ³¨æ„åŠ›å—ç»„æˆçš„ç¼–ç å™¨ä¸­ï¼Œäº§ç”Ÿè¾“å‡º $H^{(L)} \in \mathbb{R}^{P \times N \times D}$ã€‚ç„¶åå˜æ¢æ³¨æ„åŠ›å±‚æŠŠç¼–ç ç‰¹å¾ä» $H^{(L)}$ è½¬æ¢ä¸º $H^{(L+1)} \in \mathbb{R}^{Q \times N \times D}$ã€‚ç„¶å L ä¸ªæ—¶ç©ºæ³¨æ„åŠ›å—çš„è§£ç å™¨äº§ç”Ÿè¾“å‡º $H^{(2L + 1)} \in \mathbb{R}^{Q \times N \times D}$ã€‚æœ€åï¼Œå…¨è¿æ¥å±‚è¾“å‡º Q ä¸ªæ—¶é—´æ­¥çš„é¢„æµ‹$\hat{Y} \in \mathbb{R}^{Q \times N \times C}$ã€‚</p><p>GMAN å¯ä»¥é€šè¿‡æœ€å°åŒ– MAE æ¥ä¼˜åŒ–ï¼š</p><p>$\tag{16} \mathcal{L}(\Theta) = \frac{1}{Q} \sum^{t_{P + Q}}_{t = t_P + 1} \vert Y_t - \hat{Y}_t \vert,$</p><p>$\Theta$ è¡¨ç¤ºå¯å­¦ä¹ çš„å‚æ•°ã€‚</p><h1 id="Dual-Graph-for-Traffic-Forecasting"><a href="#Dual-Graph-for-Traffic-Forecasting" class="headerlink" title="Dual Graph for Traffic Forecasting"></a>Dual Graph for Traffic Forecasting</h1><h2 id="å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³-2"><a href="#å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³-2" class="headerlink" title="å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³"></a>å…ˆå‰å·¥ä½œçš„ç¼ºç‚¹å’Œä¸è¶³</h2><ul><li>åªè€ƒè™‘è·¯ç½‘èŠ‚ç‚¹äº¤é€šçš„é¢„æµ‹ã€‚ä»–ä»¬å¿½è§†è¾¹ä¿¡æ¯ï¼Œæ— æ³•å¯¹è¾¹æµé‡åšå‡ºé¢„æµ‹ã€‚å®é™…ä¸Šï¼Œä¼ æ„Ÿå™¨é€šå¸¸ä½äºç°ä»£åŸå¸‚é“è·¯ç½‘ç»œçš„ä¸¤ä¾§å’Œäº¤å‰å£ã€‚è¿™äº›ä¼ æ„Ÿå™¨ä¸€èµ·å·¥ä½œæ¥ç›‘æ§è½¦è¾†æ´»åŠ¨ï¼Œå¹¶æä¾›å®æ—¶äº¤é€šæè¿°ã€‚äº¤é€šæ•°æ®çš„ä»»ä½•æ–¹é¢ï¼Œè¾¹æˆ–èŠ‚ç‚¹ï¼Œéƒ½ä¸åº”è¯¥è¢«å¿½ç•¥ã€‚å› æ­¤ï¼Œä»¥å¾€æ–¹æ³•çš„é¢„æµ‹ç»“æœå¯¹äºæœªæ¥çš„äº¤é€šå®‰å…¨å’Œæ•ˆç‡æ˜¯ä¸å¤Ÿçš„ã€‚</li><li>ç”±äºèŠ‚ç‚¹ä¸Šçš„äº¤é€šä¸è¾¹ç¼˜ä¸Šçš„äº¤é€šæ˜¯äº’è¡¥çš„ã€ç›¸äº’å…³è”çš„ï¼Œå³ä½¿æ˜¯åœ¨å•ä¸€çš„èŠ‚ç‚¹äº¤é€šé¢„æµ‹ä»»åŠ¡ä¸­ï¼Œå¦‚æœæ²¡æœ‰åˆ©ç”¨è¾¹ç¼˜ä¸Šçš„ä¿¡æ¯ï¼Œé¢„æµ‹ç»“æœçš„å‡†ç¡®æ€§ä¹Ÿä¼šé™ä½ã€‚</li></ul><h2 id="è¯¥å·¥ä½œåšå‡ºçš„è´¡çŒ®-1"><a href="#è¯¥å·¥ä½œåšå‡ºçš„è´¡çŒ®-1" class="headerlink" title="è¯¥å·¥ä½œåšå‡ºçš„è´¡çŒ®"></a>è¯¥å·¥ä½œåšå‡ºçš„è´¡çŒ®</h2><ul><li>å°†äº¤é€šé¢„æµ‹ä»»åŠ¡é‡æ–°åˆ¶å®šä¸ºåˆ©ç”¨èŠ‚ç‚¹å’Œè¾¹ç¼˜ä¸Šçš„å†å²äº¤é€šæ•°æ®åŒæ—¶é¢„æµ‹æœªæ¥èŠ‚ç‚¹å’Œè¾¹ç¼˜äº¤é€šã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å¯¹å¶å›¾ç½‘ç»œï¼Œç§°ä¸ºå¯¹å¶å›¾ï¼Œç”¨äºåœ¨è¿™ç§æ–°çš„è®¾ç½®ä¸‹çš„äº¤é€šé¢„æµ‹ã€‚å®ƒæ˜¯ä¸€ä¸ªç»Ÿä¸€çš„æ¡†æ¶ï¼Œå¯ä»¥ä»ä¸€ç«¯åˆ°å¦ä¸€ç«¯è¿›è¡Œè®­ç»ƒã€‚æˆ‘ä»¬å¼€å‘äº†ä¸€ä¸ªæ–°çš„å¯¹å¶æ˜ å°„å—æ¥äº¤äº’åœ°å­¦ä¹ èŠ‚ç‚¹ç‰¹å¾å’Œè¾¹ç¼˜ç‰¹å¾ã€‚å¯¹å¶æ˜ å°„å—é‡‡ç”¨æ¶ˆæ¯ä¼ é€’æœºåˆ¶æ¥è¡¨å¾ä¿¡æ¯æµåœ¨è·¯ç½‘èŠ‚ç‚¹å’Œè¾¹ä¹‹é—´çš„ä¼ æ’­è¡Œä¸ºã€‚ä½œä¸ºç‰¹ä¾‹ï¼Œä¼ ç»Ÿçš„åªæœ‰èŠ‚ç‚¹æµé‡è¾“å…¥å’Œé¢„æµ‹çš„äº¤é€šé¢„æµ‹ä»ç„¶å¯ä»¥é€šè¿‡æˆ‘ä»¬çš„DualGraphæ¥å®ç°ã€‚</li><li>æˆ‘ä»¬ä½¿ç”¨ä»¿çœŸåŸå¸‚äº¤é€š(SUMO)è½¯ä»¶æ¥æ¨¡æ‹Ÿä»é“è·¯ç½‘ç»œèŠ‚ç‚¹å’Œè¾¹ç¼˜çš„ä¼ æ„Ÿå™¨æ”¶é›†çš„çœŸå®äº¤é€šæ•°æ®ã€‚é€šè¿‡æ¶ˆèç ”ç©¶ï¼ŒéªŒè¯äº†è¯¥æ–¹æ³•çš„æœ‰æ•ˆæ€§ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨å…¬å…±äº¤é€šæ•°æ®é›†metro -laå’ŒPems-Bayä¸Šè¯„ä¼°æˆ‘ä»¬çš„æ–¹æ³•ï¼Œè¿™äº›æ•°æ®é›†åªåŒ…å«é«˜é€Ÿå…¬è·¯è¾¹çš„äº¤é€šæ•°æ®ã€‚æˆ‘ä»¬çš„æ¨¡å‹å®ç°äº†æœ€æ–°çš„ç»“æœã€‚ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨è¾ƒé•¿æ—¶é—´(ä¸€å°æ—¶)çš„é¢„æµ‹ä¸­æ¯”è¾ƒçš„æ–¹æ³•æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚</li></ul><h2 id="DUAL-GRAPH"><a href="#DUAL-GRAPH" class="headerlink" title="DUAL GRAPH"></a>DUAL GRAPH</h2><p><img src="./æˆªå±2020-11-25 ä¸‹åˆ3.13.39.png" alt="æˆªå±2020-11-25 ä¸‹åˆ3.13.39" style="zoom:50%;" /></p><p>ä¸ªäººç†è§£å…¶èŠ‚ç‚¹å’Œè¾¹ä¸Šå‡æœ‰ä¼ æ„Ÿå™¨ï¼Œè€Œå½“ä¼ æ„Ÿå™¨åœ¨åå­—è·¯å£ï¼Œè½¬è§’ï¼Œç­‰æœ‰å¤šä¸ªä¸åŒé“è·¯æ±‡èšçš„åœ°æ–¹å°±å®šä¹‰ä¸ºäº†èŠ‚ç‚¹ï¼Œè€Œé“è·¯ä¸­é—´çš„ä¼ æ„Ÿå™¨å°±å®šä¹‰ä¸ºäº†è¾¹ï¼Œè¿™æ ·å°±ä½¿å¾—å›¾ä¸Šçš„èŠ‚ç‚¹å’Œè¾¹çš„ç¡®æœ‰å„è‡ªç‹¬ç«‹çš„ç‰¹å¾ã€‚</p><p>ç¬¬ä¸€æ­¥é¦–å…ˆæ˜¯èŠ‚ç‚¹å‘è¾¹ä¼ é€’ä¿¡æ¯ï¼Œè‚¯å®šä¸èƒ½ç›´æ¥ä¼ é€’çš„å‘€ï¼Œå› ä¸ºèŠ‚ç‚¹å’Œè¾¹çš„ä¸ªæ•°ä¸åŒï¼Œçº¬åº¦éƒ½ä¸å¯¹ï¼Œè¿™å°±è¦å¼•å…¥ä¸€ä¸ªå…¬å¼ï¼š</p><p>$\Delta \mathcal{X}_{e}=A G G_{\mathcal{E}}\left(\left\{\phi\left(\mathcal{X}_{v}\right) \mid v \in \mathcal{V}(e)\right\}\right)$</p><p>$\mathcal{V}(e)$è¡¨ç¤ºä¸eè¿™æ¡è¾¹ç›¸è¿çš„èŠ‚ç‚¹ï¼Œä¸€æ¡è¾¹é‚£è‚¯å®šå°±æ˜¯å¯¹åº”äº†ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œ$\mathcal{X}_{v}$è¡¨ç¤ºæŸä¸€ä¸ªï¼Œä»…ä»…æ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„ç‰¹å¾ï¼Œè¿™ä¸ªç‰¹å¾çš„ç»´åº¦ä¸º$ \mathbb{R}^{T^{\prime} \times C_{1}}$è¾¹çš„ç‰¹å¾å‘é‡ä¹Ÿæ˜¯$\mathbb{R}^{T^{\prime} \times C_{1}}$ã€‚å…¶ä¸­Tâ€˜ä»£è¡¨ä¸€æ®µæ—¶åˆ»ï¼Œ$\phi$æ˜¯ä¸€ä¸ªå…¨è¿æ¥å±‚ï¼Œè¿™ä¸ªå…¨è¿æ¥å±‚æ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œè¾“å…¥å’Œè¾“å‡ºçº¬åº¦ç›¸åŒï¼ŒAGGæ˜¯å®šä¹‰çš„ä¸€ä¸ªæ¶ˆæ¯ä¼ é€’å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¸¦æœ‰<strong>æœ€å¤§æ± åŒ–æˆ–è€…å¹³å‡æ± åŒ–</strong>æ“ä½œï¼Œæˆ‘ä»¬æŠŠæ•´ä¸ªæ“ä½œç¿»è¯‘æˆè¯­è¨€ï¼š</p><p>é¦–å…ˆå°†ä¸€æ¡è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹ï¼ˆ1æ¡è¾¹å¯¹åº”2ä¸ªèŠ‚ç‚¹ï¼‰çš„ç‰¹å¾è¾“å…¥å…¨è¿æ¥å±‚è¾“å‡ºçº¬åº¦ä¸å˜$\mathbb{R}^{2 \times T^{\prime} \times C_{1}}$</p><p>ç„¶åå°†ç»“æœè¿›è¡Œæ± åŒ–å¾—åˆ°ç»“æœ$\Delta \mathcal{X}_{e}$ï¼Œçº¬åº¦å˜ä¸º$\mathbb{R}^{T^{\prime} \times C_{1}}$ï¼ˆå˜æˆäº†ä¸€ä¸€å¯¹åº”ï¼‰</p><p>å°†ç»“æœä¸å¯¹åº”è¾¹çš„ç‰¹å¾å‘é‡ä»¥ä¸€å®šæ¯”ä¾‹ç›¸åŠ å°±å®Œæˆäº†æ¶ˆæ¯ä¼ é€’çš„æ“ä½œã€‚</p><p>å…¶å®å®ç°çš„æ—¶å€™å’Œåˆ†é…çŸ©é˜µç›¸å·®æ— å‡ ï¼Œåˆ†é…çŸ©é˜µå°±ç›¸å½“äºæŠŠèŠ‚ç‚¹çš„ç‰¹å¾å‘é‡åšäº†ä¸ªå¸¦å¯å­¦ä¹ å‚æ•°çš„åŠ æƒæ±‚å’Œä½¿å¾—ä¸¤ä¸ªçº¬åº¦å˜æˆäº†ä¸€ä¸ªçº¬åº¦ï¼Œè¿™é‡Œæ˜¯æ± åŒ–çš„æ“ä½œæŠŠä¸¤ä¸ªçº¬åº¦æ± åŒ–æˆä¸€ä¸ªçº¬åº¦ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;è®ºæ–‡æ±‡æ€»è¡¨&quot;&gt;&lt;a href=&quot;#è®ºæ–‡æ±‡æ€»è¡¨&quot; class=&quot;headerlink&quot; title=&quot;è®ºæ–‡æ±‡æ€»è¡¨&quot;&gt;&lt;/a&gt;è®ºæ–‡æ±‡æ€»è¡¨&lt;/h2&gt;</summary>
    
    
    
    <category term="è®ºæ–‡è¯¦è§£" scheme="https://leezepeng.github.io/categories/%E8%AE%BA%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
    
    
    <category term="è®ºæ–‡è¯¦è§£" scheme="https://leezepeng.github.io/tags/%E8%AE%BA%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
    
    <category term="äº¤é€šæµ" scheme="https://leezepeng.github.io/tags/%E4%BA%A4%E9%80%9A%E6%B5%81/"/>
    
  </entry>
  
  <entry>
    <title>è®ºæ–‡è§£è¯»-DCRNN</title>
    <link href="https://leezepeng.github.io/2021/03/13/%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB-DCRNN/"/>
    <id>https://leezepeng.github.io/2021/03/13/%E8%AE%BA%E6%96%87%E8%A7%A3%E8%AF%BB-DCRNN/</id>
    <published>2021-03-13T09:10:17.000Z</published>
    <updated>2021-03-14T12:50:36.365Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h1><p>äº¤é€šé¢„æµ‹çš„æŒ‘æˆ˜ï¼š1. å¯¹è·¯ç½‘å¤æ‚çš„ç©ºé—´ä¾èµ–å…³ç³»ï¼Œ 2. è·¯å†µå˜æ¢ä¸éçº¿æ€§çš„æ—¶é—´åŠ¨æ€æ€§ï¼Œ 3. é•¿æœŸé¢„æµ‹çš„å›°éš¾æ€§ã€‚æˆ‘ä»¬æå‡ºäº†åœ¨æœ‰å‘å›¾ä¸Šå¯¹äº¤é€šæµä»¥æ‰©æ•£å½¢å¼è¿›è¡Œå»ºæ¨¡çš„æ–¹æ³•ï¼Œä»‹ç»äº† <em>Diffusion Convolutional Recurrent Neural Network</em>(DCRNN)ï¼Œç”¨äºäº¤é€šé¢„æµ‹çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ŒåŒæ—¶é›†æˆäº†äº¤é€šæµä¸­çš„ç©ºé—´ä¸æ—¶é—´ä¾èµ–ã€‚DCRNN ä½¿ç”¨å›¾ä¸Šçš„åŒå‘éšæœºæ¸¸èµ°æ•è·äº†ç©ºé—´ä¾èµ–ï¼Œä½¿ç”¨ç¼–ç è§£ç æ¡†æ¶ä»¥åŠ scheduled sampling æ•è·æ—¶é—´ä¾èµ–ã€‚æˆ‘ä»¬åœ¨ä¸¤ä¸ªçœŸå®çš„äº¤é€šæ•°æ®é›†ä¸Šè¯„ä¼°äº†æ¨¡å‹ï¼Œæ¯” state-of-the-art å¼ºäº†12%-15%ã€‚</p><h1 id="1-å¼•è¨€"><a href="#1-å¼•è¨€" class="headerlink" title="1 å¼•è¨€"></a>1 å¼•è¨€</h1><span id="more"></span><p>å¯¹ä¸€ä¸ªåœ¨åŠ¨æ€ç³»ç»Ÿä¸­è¿è¡Œçš„å­¦ä¹ ç³»ç»Ÿæ¥è¯´ï¼Œæ—¶ç©ºé¢„æµ‹æ˜¯ä¸€ä¸ªå¾ˆå…³é”®çš„ä»»åŠ¡ã€‚è‡ªåŠ¨é©¾é©¶ã€ç”µç½‘ä¼˜åŒ–ã€ä¾›åº”é“¾ç®¡ç†ç­‰éƒ½æ˜¯å®ƒçš„åº”ç”¨ã€‚æˆ‘ä»¬ç ”ç©¶äº†ä¸€ä¸ªé‡è¦çš„ä»»åŠ¡ï¼šè·¯ç½‘ä¸Šçš„äº¤é€šé¢„æµ‹ï¼Œè¿™æ˜¯æ™ºèƒ½äº¤é€šç³»ç»Ÿä¸­çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚ç›®æ ‡æ˜¯ç»™å®šå†å²è½¦é€Ÿä¸è·¯ç½‘æ•°æ®ï¼Œé¢„æµ‹æœªæ¥çš„è½¦é€Ÿã€‚</p><p>ä»»åŠ¡æœ‰æŒ‘æˆ˜æ€§çš„åŸå› æ˜¯å¤æ‚çš„æ—¶ç©ºä¾èµ–å…³ç³»ä»¥åŠé•¿æœŸé¢„æµ‹çš„ä¸Šçš„éš¾åº¦ã€‚ä¸€æ–¹é¢ï¼Œäº¤é€šæ•°æ®åºåˆ—è¡¨ç°å‡ºäº†å¼ºçƒˆçš„æ—¶é—´åŠ¨æ€æ€§(temporal dynamics)ã€‚åå¤çš„äº‹ä»¶å¦‚é«˜å³°æœŸæˆ–äº¤é€šäº‹æ•…å¯¼è‡´äº†æ•°æ®çš„éå¹³ç¨³æ€§ï¼Œä½¿å¾—é•¿æœŸé¢„æµ‹å¾ˆå›°éš¾ã€‚å¦ä¸€æ–¹é¢ï¼Œè·¯ç½‘ä¸Šçš„ç›‘æµ‹å™¨åŒ…å«äº†å¤æ‚ä½†æ˜¯å”¯ä¸€çš„ç©ºé—´è”ç³»(spatial correlations)ã€‚å›¾1å±•ç¤ºäº†ä¸€ä¸ªä¾‹å­ã€‚è·¯1å’Œè·¯2æ˜¯ç›¸å…³è”çš„ï¼Œä½†æ˜¯è·¯1å’Œè·¯3æ²¡æœ‰å…³è”ã€‚å°½ç®¡è·¯1å’Œè·¯3åœ¨æ¬§æ°ç©ºé—´ä¸­å¾ˆè¿‘ï¼Œä½†æ˜¯ä»–ä»¬è¡¨ç°å‡ºäº†ä¸åŒçš„å½¢å¼ã€‚æ­¤å¤–ï¼Œæœªæ¥çš„è½¦é€Ÿæ›´å®¹æ˜“å—åˆ°ä¸‹æ¸¸äº¤é€šçš„å½±å“ï¼Œè€Œéä¸Šæ¸¸ã€‚è¿™å°±æ„å‘³ç€äº¤é€šä¸Šçš„ç©ºé—´ç»“æ„ä¸æ˜¯æ¬§æ°ç©ºé—´çš„ï¼Œè€Œæ˜¯æœ‰å‘çš„ã€‚</p><p><img src="./fig/Fig1.JPG" alt="Fig1"></p><p>äº¤é€šé¢„æµ‹å·²ç»ç ”ç©¶äº†å‡ åå¹´ï¼Œæœ‰ä¸¤ä¸ªä¸»è¦ç±»åˆ«ï¼šçŸ¥è¯†é©±åŠ¨çš„æ–¹æ³•å’Œæ•°æ®é©±åŠ¨çš„æ–¹æ³•ã€‚åœ¨è¿è¾“å’Œæ“ä½œç ”ç©¶ä¸­ï¼ŒçŸ¥è¯†é©±åŠ¨çš„æ–¹æ³•ç»å¸¸ä½¿ç”¨æ’é˜Ÿè®ºï¼Œæ¨¡æ‹Ÿäº¤é€šä¸­çš„ç”¨æˆ·è¡Œä¸º(Cascetta, 2013)ã€‚æ—¶é—´åºåˆ—ç¤¾åŒºä¸­ï¼Œæ•°æ®é©±åŠ¨çš„æ–¹æ³•å¦‚ Auto-Regressive Integrated Moving Average(ARIMA) æ¨¡å‹ï¼ŒKalman filtering è¿˜æ˜¯å¾ˆæµè¡Œçš„(Liu et al., 2011; Lippi et al., 2013)ã€‚ç„¶è€Œï¼Œç®€å•çš„æ—¶é—´åºåˆ—æ¨¡å‹é€šå¸¸ä¾èµ–å¹³ç¨³å‡è®¾ï¼Œè¿™ç»å¸¸ä¸å®é™…äº¤é€šæ•°æ®ä¸ç¬¦ã€‚æœ€è¿‘å¼€å§‹åœ¨äº¤é€šé¢„æµ‹ä¸Šåº”ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹ (Lv et al., 2015; Yu et al., 2017b) ï¼Œä½†æ˜¯æ²¡æœ‰è€ƒè™‘ç©ºé—´ç»“æ„ã€‚Wu &amp; Tan 2016å’ŒMa et al. 2017 ä½¿ç”¨ CNN å¯¹ç©ºé—´å…³ç³»è¿›è¡Œå»ºæ¨¡ï¼Œä½†æ˜¯åœ¨æ¬§æ°ç©ºé—´ä¸­çš„ã€‚Bruna et al. 2014ï¼ŒDefferrard et al. 2016 ç ”ç©¶äº†å›¾å·ç§¯ï¼Œä½†æ˜¯åªèƒ½å¤„ç†æ— å‘å›¾ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæœ‰å‘å›¾æ¥è¡¨ç¤º pair-wise spatial correlationsã€‚å›¾çš„é¡¶ç‚¹æ˜¯sensorsï¼Œè¾¹æ˜¯æƒé‡ï¼Œé€šè¿‡è·¯ç½‘ä¸Š sensor ä¹‹é—´çš„è·ç¦»å¾—åˆ°ã€‚æˆ‘ä»¬ä½¿ç”¨æ‰©æ•£å·ç§¯ (diffusion convolution) æ“ä½œæ¥æ•è·ç©ºé—´ä¾èµ–å…³ç³»ï¼Œä»¥æ‰©æ•£æ€§æ˜¯å¯¹äº¤é€šæµçš„åŠ¨æ€æ€§å»ºæ¨¡ã€‚æå‡ºäº† <em>Diffusion Convolutional Recurrent Neural Network</em>(DCRNN)ï¼Œæ•´åˆäº† <em>diffusion convolution</em> å’Œ <em>sequence to sequence</em> æ¶æ„ä»¥åŠ <em>scheduled sampling</em> æŠ€æœ¯ã€‚åœ¨çœŸå®æ•°æ®é›†ä¸Šè¡¡é‡æ¨¡å‹æ—¶ï¼ŒDCRNN æ¯”state-of-the-artå¥½å¾ˆå¤šã€‚<br>Â· æˆ‘ä»¬ç ”ç©¶äº†äº¤é€šé¢„æµ‹é—®é¢˜ï¼Œåœ¨æœ‰å‘å›¾ä¸Šå¯¹äº¤é€šçš„ç©ºé—´ä¾èµ–ä»¥æ‰©æ•£å½¢å¼å»ºæ¨¡ã€‚æå‡ºäº† <em>diffusion convolution</em>ï¼Œæœ‰ç€ç›´è§‚çš„è§£é‡Šä»¥åŠé«˜æ•ˆçš„è®¡ç®—ã€‚<br>Â· æˆ‘ä»¬æå‡ºäº† <em>Diffusion Convolutional Recurrent Neural Network</em> (DCRNN)ï¼Œä½¿ç”¨ <em>diffusion convolution</em>ï¼Œ<em>sequence to sequence</em>ï¼Œ<em>scheduled sampling</em> åŒæ—¶å¯¹æ—¶é—´å’Œç©ºé—´ä¾èµ–å…³ç³»è¿›è¡Œæ•è·çš„æ–¹æ³•ã€‚DCRNN ä¸é™äºè¿è¾“é¢†åŸŸï¼Œå¯ä»¥åº”ç”¨åˆ°å…¶ä»–çš„æ—¶ç©ºé¢„æµ‹é—®é¢˜ä¸Šã€‚<br>Â· åšäº†å¾ˆå¤šå®éªŒï¼Œæ•ˆæœå¾ˆå¥½ã€‚</p><h1 id="2-Methodology"><a href="#2-Methodology" class="headerlink" title="2 Methodology"></a>2 Methodology</h1><h2 id="2-1-Traffic-Forecasting-Problem"><a href="#2-1-Traffic-Forecasting-Problem" class="headerlink" title="2.1 Traffic Forecasting Problem"></a>2.1 Traffic Forecasting Problem</h2><p>$N$ ä¸ªsensorsã€‚æ£€æµ‹å™¨ç½‘ç»œè¡¨ç¤ºæˆå¸¦æƒæœ‰å‘å›¾ $\mathcal{G} = (\mathcal{V}, \mathcal{E}, \boldsymbol{W})$ï¼Œ$\mathcal{V}$ æ˜¯é¡¶ç‚¹é›†ï¼Œ$\vert \mathcal{V} \vert = N$ï¼Œ$\mathcal{E}$ æ˜¯è¾¹é›†ï¼Œ$\boldsymbol{W} \in \mathbb{R}^{N \times N}$ æ˜¯å¸¦æƒé‚»æ¥çŸ©é˜µï¼Œè¡¨ç¤ºé¡¶ç‚¹ç›¸ä¼¼æ€§ï¼ˆå¦‚è·¯ç½‘è·ç¦»çš„ä¸€ä¸ªå‡½æ•°ï¼‰ã€‚å›¾ä¿¡å·çŸ©é˜µ$\boldsymbol{X} \in \mathbb{R}^{N \times P}$ï¼Œ$P$ æ˜¯æ¯ä¸ªé¡¶ç‚¹çš„ç‰¹å¾æ•°ã€‚$\boldsymbol{X}^{(t)}$ è¡¨ç¤ºæ—¶é—´ $t$ è§‚æµ‹åˆ°çš„å›¾ä¿¡å·ï¼Œäº¤é€šé¢„æµ‹é—®é¢˜ç›®çš„æ˜¯å­¦ä¹ ä¸€ä¸ªå‡½æ•° $h(\cdot)$ï¼Œå°† $Tâ€™$ ä¸ªå†å²çš„å›¾ä¿¡å·æ˜ å°„åˆ°æœªæ¥çš„ $T$ ä¸ªå›¾ä¿¡å·ä¸Šï¼Œç»™å®šå›¾ $\mathcal{G}$:</p><h2 id="2-2-Spatial-Dependency-Modeling"><a href="#2-2-Spatial-Dependency-Modeling" class="headerlink" title="2.2 Spatial Dependency Modeling"></a>2.2 Spatial Dependency Modeling</h2><p>æ‰©æ•£å½¢å¼ä»¥ $\mathcal{G}$ ä¸Šçš„éšæœºæ¸¸èµ°æ¥åˆ»ç”»ï¼Œé‡å¯æ¦‚ç‡ $\alpha \in [0, 1]$ï¼ŒçŠ¶æ€è½¬ç§»çŸ©é˜µ $\boldsymbol{D}^{-1}_O \boldsymbol{W}$ã€‚è¿™é‡Œï¼Œ$\boldsymbol{D}_{\boldsymbol{O}} = \mathrm{diag}(\boldsymbol{W1})$ æ˜¯å‡ºåº¦çš„å¯¹è§’çŸ©é˜µï¼Œ$\mathbf{1} \in \mathbb{R}^N$ è¡¨ç¤ºæ‰€æœ‰éƒ½ä¸º1çš„å‘é‡ã€‚å¤šä¸ªæ—¶é—´æ­¥ä¹‹åï¼ŒMarkov process ä¼šæ”¶æ•›åˆ°å¹³ç¨³åˆ†å¸ƒ $\mathcal{P} \in \mathbb{R}^{N \times N}$ä¸Šï¼Œç¬¬ $i$ è¡Œ $\mathcal{P}_{i,:} \in \mathbb{R}^N$ è¡¨ç¤ºä»é¡¶ç‚¹ $v_i \in \mathcal{V}$ æ‰©æ•£çš„å¯èƒ½æ€§ï¼Œä¹Ÿå°±æ˜¯å¯¹é¡¶ç‚¹ $v_i$ çš„ proximityã€‚ä¸‹é¢çš„å¼•ç†æ˜¯å¹³ç¨³åˆ†å¸ƒçš„é—­å¼è§£ã€‚</p><p><strong>Lemma 2.1</strong> (Teng et al., 2016) æ‰©æ•£è¿‡ç¨‹çš„å¹³ç¨³åˆ†å¸ƒå¯ä»¥è¡¨ç¤ºä¸ºå›¾ä¸Šçš„æ— é™éšæœºæ¸¸èµ°çš„å¸¦æƒç»„åˆï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å¼å­è®¡ç®—ï¼š</p><p>å…¶ä¸­ $k$ æ˜¯diffusion stepã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬ä½¿ç”¨æœ‰é™çš„ $K$ é˜¶æ‰©æ•£è¿‡ç¨‹ï¼Œç»™æ¯ä¸€æ­¥åˆ†é…ä¸€ä¸ªå¯è®­ç»ƒçš„æƒé‡ã€‚æˆ‘ä»¬ä¹Ÿèå…¥åå‘æ‰©æ•£è¿‡ç¨‹ï¼Œå› ä¸ºåŒå‘æ‰©æ•£å¯ä»¥è®©æ¨¡å‹æ›´çµæ´»åœ°å»æ•è·ä¸Šæ¸¸å’Œä¸‹æ¸¸äº¤é€šå¸¦æ¥çš„å½±å“ã€‚</p><p><strong>Diffusion Convolution</strong> å›¾ä¿¡å· $\boldsymbol{X} \in \mathbb{R}^{N \times P}$ å’Œæ»¤æ³¢å™¨ $f_\theta$ çš„æ‰©æ•£å·ç§¯æ“ä½œçš„ç»“æœæ˜¯ï¼š</p><p>å…¶ä¸­ $\theta \in \mathbb{R}^{K \times 2}$ è¡¨ç¤ºå·ç§¯æ ¸å‚æ•°ï¼Œ$\boldsymbol{D}^{-1}_O \boldsymbol{W}$ å’Œ $\boldsymbol{D}^{-1}_I \boldsymbol{W}^T$ è¡¨ç¤ºæ‰©æ•£è¿‡ç¨‹å’Œåå‘æ‰©æ•£çš„è½¬ç§»æ¦‚ç‡çŸ©é˜µã€‚ä¸€èˆ¬ï¼Œè®¡ç®—å·ç§¯æ˜¯å¾ˆè€—æ—¶çš„ã€‚ç„¶è€Œï¼Œå¦‚æœ $\mathcal{G}$ æ˜¯ç¨€ç–çš„ï¼Œå¼2å¯ä»¥é€šè¿‡é€’å½’çš„å¤æ‚åº¦ä¸º $O(K)$ çš„sparse-denseçŸ©é˜µä¹˜æ³•é«˜æ•ˆçš„è®¡ç®—ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(K \vert \mathcal{E} \vert) \ll O(N^2)$ã€‚é™„å½•Bæœ‰è¯¦ç»†çš„æè¿°ã€‚</p><p><strong>Diffusion Convolutional Layer</strong> å¼2å®šä¹‰çš„å·ç§¯æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºä¸€ä¸ªæ‰©æ•£å·ç§¯å±‚ï¼Œå°† $P$ ç»´ç‰¹å¾æ˜ å°„åˆ° $Q$ ç»´è¾“å‡ºä¸Šã€‚å°†å‚æ•°è¡¨ç¤ºä¸º $\mathbf{\Theta} \in \mathbb{R}^{Q \times P \times K \times 2} = [ \boldsymbol{\theta} ]_{q, p}$ï¼Œå…¶ä¸­ $\mathbf{\Theta}_{q,p,:,:} \in \mathbb{R}^{K \times 2}$ æ˜¯ç¬¬ $p$ ä¸ªè¾“å…¥å’Œ $q$ ä¸ªè¾“å‡ºçš„å‚æ•°ã€‚æ‰©æ•£å·ç§¯å±‚ä¸ºï¼š</p><p>å…¶ä¸­ï¼Œ$\boldsymbol{X} \in \mathbb{R}^{N \times P}$ æ˜¯è¾“å…¥ï¼Œ$\boldsymbol{H} \in \mathbb{R}^{N \times Q}$ æ˜¯è¾“å‡ºï¼Œ$\lbrace f_{\mathbf{\Theta}_{q,p,:,:}} \rbrace $ æ˜¯æ»¤æ³¢å™¨ï¼Œ$a$ æ˜¯æ¿€æ´»å‡½æ•°ã€‚æ‰©æ•£å·ç§¯å±‚å­¦ä¹ å›¾ç»“æ„æ•°æ®çš„è¡¨ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸºäºéšæœºæ¢¯åº¦çš„æ–¹æ³•è®­ç»ƒå®ƒã€‚</p><p><strong>Relation with Spectral Graph Convolution:</strong> æ‰©æ•£å·ç§¯æ˜¯å®šä¹‰åœ¨æœ‰å‘å’Œæ— å‘å›¾ä¸Šçš„ã€‚å½“ä½¿ç”¨åœ¨æ— å‘å›¾ä¸Šæ—¶ï¼Œæˆ‘ä»¬å‘ç°å¾ˆå¤šç°å­˜çš„å›¾ç»“æ„å·ç§¯æ“ä½œï¼ŒåŒ…æ‹¬æµè¡Œçš„æ™®å›¾å·ç§¯ï¼ŒChebNetï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ‰©æ•£å·ç§¯çš„ç‰¹ä¾‹ã€‚ä»¤ $\boldsymbol{D}$ è¡¨ç¤ºåº¦çŸ©é˜µï¼Œ$\boldsymbol{L} = \boldsymbol{D}^{-\frac{1}{2}}(\boldsymbol{D} - \boldsymbol{W}) \boldsymbol{D}^{-\frac{1}{2}}$ æ˜¯å›¾å½’ä¸€åŒ–çš„æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µï¼Œæ¥ä¸‹æ¥çš„Propositionè§£é‡Šäº†è¿æ¥ã€‚</p><p><strong>Proposition 2.2.</strong> è°±å›¾å·ç§¯çš„å®šä¹‰ï¼š</p><p>ç‰¹å¾å€¼åˆ†è§£ $\boldsymbol{L} = \Phi \Lambda \Phi^T$ï¼Œå½“å›¾ $\mathcal{G}$æ˜¯æ— å‘å›¾æ—¶ï¼Œ$F(\boldsymbol{\theta}) = \sum^{K-1}_0 \theta_k \Lambda^k$ï¼Œç­‰ä»·äºå›¾çš„æ‰©æ•£å·ç§¯ã€‚<br>è¯æ˜è§åè®°Cã€‚</p><h2 id="2-3-Temporal-Dynamics-Modeling"><a href="#2-3-Temporal-Dynamics-Modeling" class="headerlink" title="2.3 Temporal Dynamics Modeling"></a>2.3 Temporal Dynamics Modeling</h2><p>æˆ‘ä»¬åˆ©ç”¨ RNN å¯¹æ—¶é—´ä¾èµ–å»ºæ¨¡ã€‚æˆ‘ä»¬ä½¿ç”¨ GRUï¼Œç®€å•æœ‰æ•ˆçš„ RNN å˜ä½“ã€‚æˆ‘ä»¬å°† GRU ä¸­çš„çŸ©é˜µä¹˜æ³•æ¢æˆäº†æ‰©æ•£å·ç§¯ï¼Œå¾—åˆ°äº†æˆ‘ä»¬çš„æ‰©æ•£å·ç§¯é—¨æ§å¾ªç¯å•å…ƒ <em>Diffusion Convolutional Gated Recurrent Unit(DCGRU)</em>.</p><p>å…¶ä¸­ $\boldsymbol{X}^{(t)}, \boldsymbol{H}^{(t)}$ è¡¨ç¤ºæ—¶é—´ $t$ çš„è¾“å…¥å’Œè¾“å‡ºï¼Œ$\boldsymbol{r}^{(t)}, \boldsymbol{u}^{(t)}$ è¡¨ç¤ºæ—¶é—´ $t$ çš„reset gateå’Œ update gateã€‚$\star_\mathcal{G}$ è¡¨ç¤ºå¼2ä¸­å®šä¹‰çš„æ··åˆå·ç§¯ï¼Œ$\mathbf{\Theta}_r, \mathbf{\Theta}_u, \mathbf{\Theta}_C$ è¡¨ç¤ºå¯¹åº”çš„æ»¤æ³¢å™¨çš„å‚æ•°ã€‚ç±»ä¼¼ GRUï¼ŒDCGRU å¯ä»¥ç”¨æ¥æ„å»ºå¾ªç¯ç¥ç»ç½‘ç»œå±‚ï¼Œä½¿ç”¨ BPTT è®­ç»ƒã€‚</p><p><img src="./fig/Fig2.JPG" alt="Fig2"></p><p>åœ¨å¤šæ­¥é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <em>Sequence to Sequence</em> æ¶æ„ã€‚ç¼–ç è§£ç å™¨éƒ½æ˜¯ DCGRUã€‚è®­ç»ƒæ—¶ï¼Œæˆ‘ä»¬æŠŠå†å²çš„æ—¶é—´åºåˆ—æ”¾åˆ°ç¼–ç å™¨ï¼Œä½¿ç”¨æœ€ç»ˆçŠ¶æ€åˆå§‹åŒ–è§£ç å™¨ã€‚è§£ç å™¨ç”Ÿæˆé¢„æµ‹ç»“æœã€‚æµ‹è¯•æ—¶ï¼Œground truth æ›¿æ¢æˆæ¨¡å‹æœ¬èº«ç”Ÿæˆçš„é¢„æµ‹ç»“æœã€‚è®­ç»ƒå’Œæµ‹è¯•è¾“å…¥çš„åˆ†å¸ƒçš„å·®å¼‚ä¼šå¯¼è‡´æ€§èƒ½çš„ä¸‹é™ã€‚ä¸ºäº†å‡è½»è¿™ä¸ªé—®é¢˜çš„å½±å“ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <em>scheduled sampling</em> (Bengio et al., 2015)ï¼Œåœ¨è®­ç»ƒçš„ç¬¬ $i$ è½®æ—¶ï¼Œæ¨¡å‹çš„è¾“å…¥è¦ä¹ˆæ˜¯æ¦‚ç‡ä¸º $\epsilon_i$ çš„ ground truthï¼Œè¦ä¹ˆæ˜¯æ¦‚ç‡ä¸º $1 - \epsilon_i$ çš„é¢„æµ‹ç»“æœã€‚åœ¨è®­ç»ƒé˜¶æ®µï¼Œ$\epsilon_i$ é€æ¸çš„å‡å°ä¸º0ï¼Œä½¿å¾—æ¨¡å‹å¯ä»¥å­¦ä¹ åˆ°æµ‹è¯•é›†çš„åˆ†å¸ƒã€‚</p><p>å›¾2å±•ç¤ºäº† DCRNN çš„æ¶æ„ã€‚æ•´ä¸ªç½‘ç»œé€šè¿‡ BPTT å¾ªç¯ç”Ÿæˆç›®æ ‡æ—¶é—´åºåˆ—çš„æœ€å¤§ä¼¼ç„¶å¾—åˆ°ã€‚DCRNN å¯ä»¥æ•è·æ—¶ç©ºä¾èµ–å…³ç³»ï¼Œåº”ç”¨åˆ°å¤šç§æ—¶ç©ºé¢„æµ‹é—®é¢˜ä¸Šã€‚</p><h1 id="3-Related-Work"><a href="#3-Related-Work" class="headerlink" title="3 Related Work"></a>3 Related Work</h1><p>è¿è¾“é¢†åŸŸå’Œè¿ç­¹å­¦ä¸­äº¤é€šé¢„æµ‹æ˜¯ä¼ ç»Ÿé—®é¢˜ï¼Œä¸»è¦ä¾èµ–äºæ’é˜Ÿè®ºå’Œä»¿çœŸ(Drew, 1968)ã€‚æ•°æ®é©±åŠ¨çš„äº¤é€šé¢„æµ‹æ–¹æ³•æœ€è¿‘å—åˆ°äº†å¾ˆå¤šçš„å…³æ³¨ï¼Œè¯¦æƒ…å¯ä»¥çœ‹è¿‘äº›å¹´çš„ paper (Vlahogianni et al., 2014)ã€‚ç„¶è€Œï¼Œç°å­˜çš„æœºå™¨å­¦ä¹ æ¨¡å‹è¦ä¹ˆæœ‰ç€å¾ˆå¼ºçš„å‡è®¾ï¼ˆå¦‚ auto-regressive model ï¼‰è¦ä¹ˆä¸èƒ½è€ƒè™‘éçº¿æ€§çš„æ—¶é—´ä¾èµ–ï¼ˆå¦‚ latent space model Yu et al. 2016; Deng et al. 2016ï¼‰ã€‚æ·±åº¦å­¦ä¹ æ¨¡å‹ä¸ºè§£å†³æ—¶é—´åºåˆ—é¢„æµ‹é—®é¢˜æä¾›äº†æ–°çš„æ–¹æ³•ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ Yu et al. 2017b; Laptev et al. 2017 çš„å·¥ä½œä¸­ï¼Œä½œè€…ä½¿ç”¨æ·±åº¦å¾ªç¯ç¥ç»ç½‘ç»œç ”ç©¶æ—¶é—´åºåˆ—é¢„æµ‹é—®é¢˜ã€‚å·ç§¯ç¥ç»ç½‘ç»œå·²ç»è¢«åº”ç”¨åˆ°äº¤é€šé¢„æµ‹ä¸Šã€‚Zhang et al. 2016; 2017 å°†è·¯ç½‘è½¬æ¢æˆäº† 2D ç½‘æ ¼ï¼Œä½¿ç”¨ä¼ ç»Ÿçš„ CNN é¢„æµ‹äººæµã€‚Cheng et al. 2017 æå‡ºäº†DeepTransportï¼Œé€šè¿‡å¯¹æ¯æ¡è·¯æ”¶é›†ä¸Šä¸‹æ¸¸é‚»å±…è·¯æ®µå¯¹ç©ºé—´ä¾èµ–å»ºæ¨¡ï¼Œåœ¨è¿™äº›é‚»å±…ä¸Šåˆ†åˆ«ä½¿ç”¨å·ç§¯æ“ä½œã€‚</p><p>æœ€è¿‘ï¼ŒCNN åŸºäºè°±å›¾ç†è®ºå·²ç»æ³›åŒ–åˆ°ä»»æ„çš„å›¾ç»“æ„ä¸Šã€‚å›¾å·ç§¯ç¥ç»ç½‘ç»œç”± Bruna et al. 2014 é¦–æ¬¡æå‡ºï¼Œåœ¨æ·±åº¦ç¥ç»ç½‘ç»œå’Œè°±å›¾ç†è®ºä¹‹é—´å»ºç«‹äº†æ¡¥æ¢ã€‚Defferrard et al. 2016 æå‡ºäº† ChebNetï¼Œä½¿ç”¨å¿«é€Ÿå±€éƒ¨å·ç§¯æ»¤æ³¢å™¨æå‡äº† GCNã€‚Kipf &amp; Welling 2017 ç®€åŒ–äº† ChebNetï¼Œåœ¨åŠç›‘ç£åˆ†ç±»ä»»åŠ¡ä¸Šè·å¾—äº† state-of-the-art çš„è¡¨ç°ã€‚Seo et al. 2016 èåˆäº† ChebNet å’Œ RNN ç”¨äºç»“æ„åºåˆ—å»ºæ¨¡ã€‚Yu et al. 2017a å¯¹æ£€æµ‹å™¨ç½‘ç»œä»¥æ— å‘å›¾çš„å½¢å¼ï¼Œä½¿ç”¨ Chebnet å’Œå·ç§¯åºåˆ—æ¨¡å‹ (Gehring et al. 2017) è¿›è¡Œå»ºæ¨¡åšé¢„æµ‹ã€‚è¿™äº›æåŠçš„åŸºäºè°±çš„ç†è®ºçš„é™åˆ¶ä¹‹ä¸€æ˜¯ï¼Œä»–ä»¬éœ€è¦å›¾æ˜¯æ— å‘çš„ï¼Œæ¥è®¡ç®—æœ‰æ„ä¹‰çš„è°±åˆ†è§£ã€‚ä»è°±åŸŸåˆ°é¡¶ç‚¹åŸŸï¼ŒAtwood &amp; Towsley 2016 æå‡ºäº†æ‰©æ•£å·ç§¯ç¥ç»ç½‘ç»œ (DCNN)ï¼Œä»¥å›¾ç»“æ„ä¸­æ¯ä¸ªé¡¶ç‚¹çš„æ‰©æ•£è¿‡ç¨‹å®šä¹‰äº†å·ç§¯ã€‚Hechtlinger et al. 2017 æå‡ºäº† GraphCNN å¯¹æ¯ä¸ªé¡¶ç‚¹çš„ $p$ ä¸ªæœ€è¿‘é‚»é‚»å±…è¿›è¡Œå·ç§¯ï¼Œå°†å·ç§¯æ³›åŒ–åˆ°å›¾ä¸Šã€‚ç„¶è€Œï¼Œè¿™äº›æ–¹æ³•æ²¡æœ‰è€ƒè™‘æ—¶é—´çš„åŠ¨æ€æ€§ï¼Œä¸»è¦å¤„ç†çš„æ˜¯é™æ€å›¾ã€‚</p><p>æˆ‘ä»¬çš„æ–¹æ³•ä¸åŒäºè¿™äº›æ–¹æ³•ï¼Œå› ä¸ºé—®é¢˜çš„è®¾å®šä¸ä¸€æ ·ï¼Œè€Œä¸”å›¾å·ç§¯çš„å…¬å¼ä¸åŒã€‚æˆ‘ä»¬å°† sensor network å»ºç«‹æˆä¸€ä¸ªå¸¦æƒæœ‰å‘å›¾ï¼Œæ¯”ç½‘æ ¼å’Œæ— å‘å›¾æ›´çœŸå®ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æå‡ºçš„å·ç§¯æ“ä½œä½¿ç”¨åŒå‘å›¾éšæœºæ¸¸èµ°æ¥å®šä¹‰ï¼Œé›†æˆäº†åºåˆ—åˆ°åºåˆ—æ¨¡å‹ä»¥åŠ scheduled sampling ï¼Œå¯¹é•¿æ—¶é—´çš„æ—¶é—´ä¾èµ–å»ºæ¨¡ã€‚</p><h1 id="4-Experiments"><a href="#4-Experiments" class="headerlink" title="4 Experiments"></a>4 Experiments</h1><p>æˆ‘ä»¬åœ¨ä¸¤ä¸ªæ•°æ®é›†ä¸Šåšäº†å®éªŒï¼šï¼ˆ1ï¼‰<strong>METR-LA</strong> è¿™ä¸ªäº¤é€šæ•°æ®é›†åŒ…å«äº†æ´›æ‰çŸ¶é«˜é€Ÿå…¬è·¯çº¿åœˆæ”¶é›†çš„æ•°æ® (Jagadish et al., 2014)ã€‚æˆ‘ä»¬é€‰æ‹©äº†207ä¸ªæ£€æµ‹å™¨ï¼Œæ”¶é›†äº†ä»2012å¹´3æœˆ1æ—¥åˆ°2012å¹´6æœˆ30æ—¥4ä¸ªæœˆçš„æ•°æ®ç”¨äºå®éªŒã€‚ï¼ˆ2ï¼‰<strong>PEMS_BAY</strong> è¿™ä¸ªäº¤é€šæ•°æ®é›†ç”± California Transportation Agencies(CalTrans)Performance Measurement System (PeMS) æ”¶é›†ã€‚æˆ‘ä»¬é€‰äº† Bay Area çš„325ä¸ªæ£€æµ‹å™¨ï¼Œæ”¶é›†äº†ä»2017å¹´1æœˆ1æ—¥åˆ°2017å¹´5æœˆ31æ—¥6ä¸ªæœˆçš„æ•°æ®ç”¨äºå®éªŒã€‚ä¸¤ä¸ªæ•°æ®é›†ç›‘æµ‹å™¨çš„åˆ†å¸ƒå¦‚å›¾8æ‰€ç¤ºã€‚</p><p>è¿™ä¸¤ä¸ªæ•°æ®é›†ï¼Œæˆ‘ä»¬å°†è½¦é€Ÿèšåˆåˆ°äº†5åˆ†é’Ÿçš„çª—å£å†…ï¼Œä½¿ç”¨äº† Z-Score normalizationã€‚70%çš„æ•°ç”¨äºè®­ç»ƒï¼Œ20%ç”¨äºæµ‹è¯•ï¼Œ10%ç”¨äºéªŒè¯ã€‚ä¸ºäº†æ„å»ºæ£€æµ‹å™¨ç½‘ç»œï¼Œæˆ‘ä»¬è®¡ç®—äº†ä»»æ„ä¸¤ä¸ª sensor çš„è·ç¦»ï¼Œä½¿ç”¨äº† thresholded Gaussian kernel æ¥æ„å»ºé‚»æ¥çŸ©é˜µ(Shuman et al., 2013)ã€‚$W_{ij} = \exp{(-\frac{\mathrm{dist}(v_i, v_j)^2}{\sigma^2})} \ \text{if} \ \text{dist}(v_i, v_j) \leq \mathcal{\kappa}, \mathrm{otherwise} \ 0$ï¼Œå…¶ä¸­ $W_{ij}$ è¡¨ç¤ºäº†æ£€æµ‹å™¨ $v_i$ å’Œ $v_j$ ä¹‹é—´çš„æƒé‡ï¼Œ$\mathrm{dist}(v_i, v_j)$ è¡¨ç¤ºæ£€æµ‹å™¨ $v_i$ åˆ° $v_j$ ä¹‹é—´çš„è·ç¦»ã€‚$\sigma$ è¡¨ç¤ºè·ç¦»çš„æ ‡å‡†å·®ï¼Œ$\kappa$ è¡¨ç¤ºé˜ˆå€¼ã€‚</p><p><img src="./fig/Fig8.JPG" alt="Fig8"></p><p><img src="./fig/Table1.JPG" alt="Table1"></p><h2 id="4-1-Experimental-Settings"><a href="#4-1-Experimental-Settings" class="headerlink" title="4.1 Experimental Settings"></a>4.1 Experimental Settings</h2><p>Baselines 1. $\rm{HA}$ï¼šå†å²å‡å€¼ï¼Œå°†äº¤é€šæµå»ºæ¨¡æˆå‘¨æœŸæ€§è¿‡ç¨‹ï¼Œä½¿ç”¨ä¹‹å‰çš„å‘¨æœŸçš„åŠ æƒå¹³å‡ä½œä¸ºé¢„æµ‹ã€‚2. $\mathrm{ARIMA}_{kal}$ï¼šAuto-Regressive Integrated Moving Average model with Kalman filterï¼Œå¹¿æ³›åœ°åº”ç”¨äºæ—¶é—´åºåˆ—é¢„æµ‹ä¸Šã€‚3. $\rm{VAR}$: Vector Auto-Regression(Hamilton, 1994)ã€‚4. $\rm{SVR}$ï¼šSupport Vector Regressionï¼Œä½¿ç”¨çº¿æ€§æ”¯æŒå‘é‡æœºç”¨äºå›å½’ä»»åŠ¡ã€‚5. Feed forward Neural network (FNN)ï¼šå‰å‘ä¼ æ’­ç¥ç»ç½‘ç»œï¼Œä¸¤ä¸ªéšè—å±‚ï¼ŒL2æ­£åˆ™åŒ–ã€‚6. Recurrent Neural Network with fully connected LSTM hidden units (FC-LSTM)(Sutskever et al., 2014).</p><p>æ‰€æœ‰çš„ç¥ç»ç½‘ç»œæ–¹æ³•éƒ½æ˜¯ç”¨ Tensorflow å®ç°ï¼Œä½¿ç”¨ Adam ä¼˜åŒ–å™¨ï¼Œå­¦ä¹ ç‡è¡°å‡ã€‚ä½¿ç”¨ Tree-structured Parzen Estimator(TPE)(Bergstra et al., 2011) åœ¨éªŒè¯é›†ä¸Šé€‰æ‹©æœ€å¥½çš„è¶…å‚æ•°ã€‚DCRNN çš„è¯¦ç»†å‚æ•°è®¾ç½®å’Œ baselines çš„è¶…å‚æ•°è®¾ç½®è§é™„å½•Eã€‚</p><h2 id="4-2-Traffic-Forecasting-Performance-Comparison"><a href="#4-2-Traffic-Forecasting-Performance-Comparison" class="headerlink" title="4.2 Traffic Forecasting Performance Comparison"></a>4.2 Traffic Forecasting Performance Comparison</h2><p>è¡¨1å±•ç¤ºäº†ä¸åŒçš„æ–¹æ³•åœ¨15åˆ†é’Ÿï¼Œ30åˆ†é’Ÿï¼Œ1å°æ—¶åœ¨ä¸¤ä¸ªæ•°æ®é›†ä¸Šé¢„æµ‹çš„å¯¹æ¯”ã€‚è¿™äº›æ–¹æ³•åœ¨ä¸‰ç§å¸¸ç”¨çš„ metrics ä¸Šè¿›è¡Œäº†è¯„ä¼°ï¼ŒåŒ…æ‹¬1. MAEï¼Œ 2. MAPEï¼ˆMean Absolute Percentage Errorï¼‰ï¼Œ 3. RMSEã€‚è¿™äº› metrics ä¸­çš„ç¼ºå¤±å€¼è¢«æ’é™¤å‡ºå»ã€‚è¿™äº›å…¬å¼åœ¨åè®°E.2ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°è¿™ä¸¤ä¸ªæ•°æ®é›†ä¸Šæœ‰ä»¥ä¸‹ç°è±¡ï¼š1. RNN-based methodsï¼ŒåŒ…æ‹¬FC-LSTMå’ŒDCRNNï¼Œä¸€èˆ¬æ¯”å…¶ä»–çš„æ–¹æ³•è¡¨ç°å¾—å¥½ï¼Œè¿™å¼ºè°ƒå¯¹æ—¶é—´ä¾èµ–çš„å»ºæ¨¡çš„é‡è¦æ€§ã€‚2. DCRNNåœ¨æ‰€æœ‰çš„ forecasting horizons ä¸­çš„æ‰€æœ‰ metrics ä¸Šéƒ½è·å¾—äº†æœ€å¥½çš„è¡¨ç°ï¼Œè¿™è¯´æ˜å¯¹ç©ºé—´ä¾èµ–å»ºæ¨¡çš„æœ‰æ•ˆæ€§ã€‚3. æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ŒåŒ…æ‹¬ FNNï¼ŒFC-LSTMï¼ŒDCRNN åœ¨é•¿æœŸé¢„æµ‹ä¸Šï¼Œå€¾å‘äºæ¯”çº¿æ€§çš„ baseline æœ‰æ›´å¥½çš„ç»“æœã€‚æ¯”å¦‚ï¼Œ1å°æ—¶ã€‚è¿™æ˜¯å› ä¸ºéšç€ horizon çš„å¢é•¿ï¼Œæ—¶é—´ä¾èµ–å˜å¾—æ›´åŠ éçº¿æ€§ã€‚æ­¤å¤–ï¼Œéšç€å†å²å‡å€¼ä¸ä¾èµ–çŸ­æœŸæ•°æ®ï¼Œå®ƒçš„è¡¨ç°å¯¹äº forecasting horizon çš„å°å¢é•¿æ˜¯ä¸å˜çš„ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMETR-LAï¼ˆLos Angelesï¼Œæœ‰å¾ˆå¤æ‚çš„äº¤é€šç¯å¢ƒï¼‰æ•°æ®æ¯” PEMS-BAY æ›´æœ‰æŒ‘æˆ˜æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† METR-LA çš„æ•°æ®ä½œä¸ºä»¥ä¸‹å®éªŒçš„é»˜è®¤æ•°æ®é›†ã€‚</p><h2 id="4-3-Effect-of-Spatial-Dependency-Modeling"><a href="#4-3-Effect-of-Spatial-Dependency-Modeling" class="headerlink" title="4.3 Effect of Spatial Dependency Modeling"></a>4.3 Effect of Spatial Dependency Modeling</h2><p>ä¸ºäº†ç»§ç»­æ·±å…¥å¯¹ç©ºé—´ä¾èµ–å»ºæ¨¡çš„å½±å“ï¼Œæˆ‘ä»¬å¯¹æ¯”äº† DCRNN å’Œä»¥ä¸‹å˜ä½“ï¼š 1. DCRNN-NoConvï¼Œè¿™ä¸ªé€šè¿‡ä½¿ç”¨å•ä½é˜µæ›¿æ¢æ‰©æ•£å·ç§¯ï¼ˆå¼2ï¼‰ä¸­çš„è½¬ç§»çŸ©é˜µï¼Œå¿½ç•¥äº†ç©ºé—´ä¾èµ–ã€‚è¿™å°±æ„å‘³ç€é¢„æµ‹åªèƒ½é€šè¿‡å†å²å€¼é¢„æµ‹ã€‚ 2. DCRNN-UniConvï¼Œæ‰©æ•£å·ç§¯ä¸­åªä½¿ç”¨å‰å‘éšæœºæ¸¸èµ°ï¼›å›¾3å±•ç¤ºäº†è¿™ä¸‰ä¸ªæ¨¡å‹ä½¿ç”¨å¤§ä½“ç›¸åŒæ•°é‡çš„å‚æ•°æ—¶çš„å­¦ä¹ æ›²çº¿ã€‚æ²¡æœ‰æ‰©æ•£å·ç§¯ï¼ŒDCRNN-NoConv æœ‰ç€æ›´å¤§çš„ validation errorã€‚æ­¤å¤–ï¼ŒDCRNNè·å¾—äº†æœ€ä½çš„ validation errorï¼Œè¯´æ˜äº†ä½¿ç”¨åŒå‘éšæœºæ¸¸èµ°çš„æœ‰æ•ˆæ€§ã€‚è¿™ä¸ªå‘Šè¯‰æˆ‘ä»¬åŒå‘éšæœºæ¸¸èµ°èµ‹äºˆäº†æ¨¡å‹æ•è·ä¸Šä¸‹æ¸¸äº¤é€šå½±å“çš„èƒ½åŠ›ä¸çµæ´»æ€§ã€‚</p><p><img src="./fig/Fig3.JPG" alt="Fig3"></p><p>ä¸ºäº†ç ”ç©¶å›¾çš„æ„å»ºæ–¹æ³•çš„å½±å“ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªæ— å‘å›¾ï¼Œ$\widehat{W}_{ij} = \widehat{W}_{ji} = \max(W_{ij}, W_{ji})$ï¼Œå…¶ä¸­ $\widehat{\boldsymbol{W}}$ æ˜¯æ–°çš„å¯¹ç§°æƒé‡çŸ©é˜µã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨äº† DCRNN çš„ä¸€ä¸ªå˜ä½“ï¼Œè¡¨ç¤ºæˆ GCRNNï¼Œä½¿ç”¨ <em>ChebNet</em> å·ç§¯çš„åºåˆ—åˆ°åºåˆ—å­¦ä¹ ï¼Œå¹¶ç”¨å¤§ä½“ç›¸åŒçš„å‚æ•°æ•°é‡ã€‚è¡¨2å±•ç¤ºäº† DCRNN å’Œ GCRNN åœ¨ METR-LA æ•°æ®é›†ä¸Šçš„å¯¹æ¯”ã€‚DCRNN éƒ½æ¯” GCRNN å¥½ã€‚è¿™è¯´æ˜æœ‰å‘å›¾èƒ½æ›´å¥½çš„æ•è·äº¤é€šæ£€æµ‹å™¨ä¹‹é—´çš„éå¯¹ç§°å…³ç³»ã€‚å›¾4å±•ç¤ºäº†ä¸åŒå‚æ•°çš„å½±å“ã€‚$K$ å¤§ä½“å¯¹åº”äº†å·ç§¯æ ¸æ„Ÿå—é‡çš„å¤§å°ï¼Œå•å…ƒæ•°å¯¹åº”äº†å·ç§¯æ ¸æ•°ã€‚è¶Šå¤§çš„ $K$ è¶Šèƒ½ä½¿æ¨¡å‹æ•è·æ›´å®½çš„ç©ºé—´ä¾èµ–ï¼Œä»£ä»·æ˜¯å¢åŠ äº†å­¦ä¹ çš„å¤æ‚åº¦ã€‚æˆ‘ä»¬è§‚æµ‹åˆ°éšç€ $K$ çš„å¢åŠ ï¼ŒéªŒè¯é›†ä¸Šçš„è¯¯å·®å…ˆæ˜¯å¿«é€Ÿä¸‹é™ï¼Œç„¶åå¾®å¾®ä¸Šå‡ã€‚æ”¹å˜ä¸åŒæ•°é‡çš„å•å…ƒä¹Ÿä¼šæœ‰ç›¸ä¼¼çš„æƒ…å†µã€‚</p><p><img src="./fig/Table2.JPG" alt="Table2"></p><p><img src="./fig/Fig4.JPG" alt="Fig4"></p><h2 id="4-4-Effect-of-Temporal-Dependency-Modeling"><a href="#4-4-Effect-of-Temporal-Dependency-Modeling" class="headerlink" title="4.4 Effect of Temporal Dependency Modeling"></a>4.4 Effect of Temporal Dependency Modeling</h2><p>ä¸ºäº†è¡¡é‡æ—¶é—´å»ºæ¨¡çš„å½±å“ï¼ŒåŒ…æ‹¬åºåˆ—åˆ°åºåˆ—æ¡†æ¶ä»¥åŠ scheduled sampling æŠ€æœ¯ï¼Œæˆ‘ä»¬è®¾è®¡ DCRNN çš„ä¸‰ç§å˜ä½“ï¼š1. DCNNï¼šæˆ‘ä»¬æ‹¼æ¥å†å²çš„è§‚æµ‹å€¼ä¸ºä¸€ä¸ªå›ºå®šé•¿åº¦çš„å‘é‡ï¼Œå°†å®ƒæ”¾åˆ°å †å çš„æ‰©æ•£å·ç§¯å±‚ä¸­ï¼Œé¢„æµ‹æœªæ¥çš„æ—¶é—´åºåˆ—ã€‚æˆ‘ä»¬è®­ç»ƒä¸€ä¸ªæ¨¡å‹åªé¢„æµ‹ä¸€æ­¥ï¼Œå°†ä¹‹å‰çš„é¢„æµ‹ç»“æœæ”¾åˆ°æ¨¡å‹ä¸­ä½œä¸ºè¾“å…¥ï¼Œä½¿ç”¨å¤šæ­¥å‰å‘é¢„æµ‹ã€‚2. DCRNN-SEQï¼šä½¿ç”¨ç¼–ç è§£ç åºåˆ—åˆ°åºåˆ—å­¦ä¹ æ¡†æ¶åšå¤šæ­¥é¢„æµ‹ã€‚3. DCRNNï¼šç±»ä¼¼ DCRNN-SEQ ï¼Œé™¤äº†å¢åŠ äº† scheduled samplingã€‚</p><p>å›¾5å±•ç¤ºäº†è¿™å››ç§æ–¹æ³•é’ˆå¯¹ MAE çš„å¯¹æ¯”ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼š1. DCRNN-SEQ æ¯” DCNN å¥½å¾ˆå¤šï¼Œç¬¦åˆäº†å¯¹æ—¶é—´å»ºæ¨¡çš„é‡è¦æ€§ã€‚2. DCRNN è¾¾åˆ°äº†æœ€å¥½çš„æ•ˆæœï¼Œéšç€é¢„æµ‹ horizon çš„å¢åŠ ï¼Œå®ƒçš„å…ˆè¿›æ€§å˜å¾—è¶Šæ¥è¶Šæ˜æ˜¾ã€‚è¿™ä¸»è¦æ˜¯å› ä¸ºæ¨¡å‹åœ¨è®­ç»ƒçš„æ—¶å€™å°±åœ¨å¤„ç†å¤šæ­¥é¢„æµ‹æ—¶å‡ºç°çš„è¯¯å·®ï¼Œå› æ­¤ä¼šå¾ˆå°‘çš„å—åˆ°è¯¯å·®åå‘ä¼ æ’­çš„å½±å“ã€‚æˆ‘ä»¬ä¹Ÿè®­ç»ƒäº†ä¸€ä¸ªæ€»æ˜¯å°†è¾“å‡ºä½œä¸ºè¾“å…¥æ‰”åˆ°æ¨¡å‹ä¸­çš„æ¨¡å‹ã€‚ä½†æ˜¯å®ƒçš„è¡¨ç°æ¯”è¿™ä¸‰ç§å˜ä½“éƒ½å·®ï¼Œè¿™å°±å¼ºè°ƒäº† scheduled sampling çš„é‡è¦æ€§ã€‚</p><p><img src="./fig/Fig5.JPG" alt="Fig5"></p><h2 id="4-5-æ¨¡å‹çš„è§£é‡Šæ€§"><a href="#4-5-æ¨¡å‹çš„è§£é‡Šæ€§" class="headerlink" title="4.5 æ¨¡å‹çš„è§£é‡Šæ€§"></a>4.5 æ¨¡å‹çš„è§£é‡Šæ€§</h2><p>ä¸ºäº†æ›´å¥½çš„ç†è§£æ¨¡å‹ï¼Œæˆ‘ä»¬å¯¹é¢„æµ‹ç»“æœå’Œå­¦ä¹ åˆ°çš„æ»¤æ³¢å™¨è¿›è¡Œæ€§äº†å¯è§†åŒ–ã€‚å›¾6å±•ç¤ºäº†é¢„æµ‹1å°æ—¶çš„æ•ˆæœã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°äº†ä»¥ä¸‹æƒ…å†µï¼š1. DCRNN åœ¨äº¤é€šæµé€Ÿåº¦ä¸­å­˜åœ¨å°çš„éœ‡è¡æ—¶ï¼Œç”¨å‡å€¼ç”Ÿæˆäº†å¹³æ»‘çš„é¢„æµ‹ç»“æœï¼ˆå›¾6aï¼‰ã€‚è¿™åæ˜ äº†æ¨¡å‹çš„é²æ£’æ€§ã€‚2. DCRNN æ¯” baseline æ–¹æ³•ï¼ˆå¦‚FC-LSTMï¼‰æ›´å€¾å‘äºç²¾ç¡®çš„é¢„æµ‹å‡ºçªå˜ã€‚å›¾6bå±•ç¤ºäº† DCRNN é¢„æµ‹äº†é«˜å³°æ—¶æ®µçš„èµ·å§‹å’Œç»ˆæ­¢ã€‚è¿™æ˜¯å› ä¸º DCRNN æ•è·äº†ç©ºé—´ä¾èµ–ï¼Œèƒ½å¤Ÿåˆ©ç”¨é‚»å±…æ£€æµ‹å™¨é€Ÿåº¦çš„å˜æ¢æ¥ç²¾ç¡®é¢„æµ‹ã€‚å›¾7å±•ç¤ºäº†ä»¥ä¸åŒé¡¶ç‚¹ä¸ºä¸­å¿ƒå­¦ä¹ åˆ°çš„æ»¤æ³¢å™¨çš„æ ·ä¾‹ã€‚æ˜Ÿè¡¨ç¤ºä¸­å¿ƒï¼Œé¢œè‰²è¡¨ç¤ºæƒé‡ã€‚æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°æƒé‡æ›´å¥½çš„åœ¨ä¸­å¿ƒå‘¨å›´å±€éƒ¨åŒ–ï¼Œè€Œä¸”æƒé‡åŸºäºè·¯ç½‘è·ç¦»è¿›è¡Œæ‰©æ•£ã€‚æ›´å¤šçš„å¯è§†åŒ–åœ¨é™„å½•Fã€‚</p><p><img src="./fig/Fig6.JPG" alt="Fig6"></p><p><img src="./fig/Fig7.JPG" alt="Fig7"></p><h1 id="5-Conclusion"><a href="#5-Conclusion" class="headerlink" title="5 Conclusion"></a>5 Conclusion</h1><p>æˆ‘ä»¬å¯¹è·¯ç½‘ä¸Šçš„äº¤é€šé¢„æµ‹åšäº†æ—¶ç©ºä¸Šçš„å»ºæ¨¡ï¼Œæå‡ºäº† <em>diffusion convolutional recurrent neural network</em>ï¼Œå¯ä»¥æ•è·æ—¶ç©ºä¾èµ–ã€‚ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬ä½¿ç”¨åŒå‘éšæœºæ¸¸èµ°ï¼Œå¯¹ç©ºé—´ä¾èµ–å»ºæ¨¡ï¼Œä½¿ç”¨å¾ªç¯ç¥ç»ç½‘ç»œæ•è·æ—¶é—´çš„åŠ¨æ€æ€§ã€‚è¿˜ç»§æ‰¿äº†ç¼–ç è§£ç æ¶æ„å’Œ scheduled sampling æŠ€æœ¯æ¥æå‡é•¿æœŸé¢„æµ‹çš„æ€§èƒ½ã€‚åœ¨ä¸¤ä¸ªçœŸå®çš„æ•°æ®é›†ä¸Šè¯„ä¼°äº†æ€§èƒ½ï¼Œæˆ‘ä»¬çš„æ–¹æ³•æ¯” baselines å¥½å¾ˆå¤šã€‚æœªæ¥çš„å·¥ä½œï¼Œ1. ä½¿ç”¨æå‡ºçš„ç½‘ç»œè§£å†³å…¶ä»–çš„æ—¶ç©ºé¢„æµ‹é—®é¢˜ï¼›2. å¯¹ä¸æ–­æ¼”åŒ–çš„å›¾ç»“æ„çš„æ—¶ç©ºä¾èµ–å…³ç³»å»ºæ¨¡ã€‚</p><h1 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h1><h2 id="B-Efficient-Calculation-Of-Equation"><a href="#B-Efficient-Calculation-Of-Equation" class="headerlink" title="B Efficient Calculation Of Equation"></a>B Efficient Calculation Of Equation</h2><p>å¼2å¯ä»¥åˆ†è§£æˆä¸¤ä¸ªæœ‰ç›¸åŒæ—¶é—´å¤æ‚åº¦çš„éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯ $\boldsymbol{D}^{-1}_O \boldsymbol{W}$ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯ $\boldsymbol{D}^{-1}_I \boldsymbol{W}^T$ã€‚å› æ­¤æˆ‘ä»¬åªç ”ç©¶ç¬¬ä¸€éƒ¨åˆ†çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p>ä»¤ $T_k(x) = (\boldsymbol{D}^{-1}_O \boldsymbol{W})^k \boldsymbol{x}$ï¼Œå¼2çš„ç¬¬ä¸€éƒ¨åˆ†å¯ä»¥é‡å†™ä¸ºï¼š</p><p>å› ä¸º $T_{k+1}(x) = \boldsymbol{D}^{-1}_O \boldsymbol{W} T_k(\boldsymbol{x})$ å’Œ $\boldsymbol{D}^{-1}_O \boldsymbol{W}$ æ˜¯ç¨€ç–çš„ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çœ‹å‡ºå¼4å¯ä»¥é€šè¿‡ $O(K)$ çš„é€’å½’ç¨€ç–-ç¨ å¯†çŸ©é˜µä¹˜æ³•ï¼Œæ¯æ¬¡æ—¶é—´å¤æ‚åº¦ä¸º $O(\vert \varepsilon \vert)$ å¾—åˆ°ã€‚ç„¶åï¼Œå¼2å’Œå¼4çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º $O(K\vert \varepsilon \vert)$ã€‚å¯¹äºç¨ å¯†å›¾ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ spectral sparsification(Cheng et al., 2015) ä½¿å…¶ç¨€ç–ã€‚</p><h2 id="C-Relation-With-Spectral-Graph-Convolution"><a href="#C-Relation-With-Spectral-Graph-Convolution" class="headerlink" title="C Relation With Spectral Graph Convolution"></a>C Relation With Spectral Graph Convolution</h2><p><em>Proof.</em> è°±å›¾å·ç§¯åˆ©ç”¨å½’ä¸€åŒ–çš„æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µ $\boldsymbol{L = D^{-\frac{1}{2}}(D - W)D^{\frac{1}{2}}} = \mathbf{\Phi \Lambda \Phi^T}$ã€‚ChebNet ä½¿ $f_\theta$ å‚æ•°åŒ–ä¸ºä¸€ä¸ª $\Lambda$ çš„ $K$ é˜¶å¤šé¡¹å¼ï¼Œä½¿ç”¨ç¨³å®šçš„åˆ‡æ¯”é›ªå¤«å¤šé¡¹å¼åŸºè®¡ç®—è¿™ä¸ªå€¼ã€‚</p><p>å…¶ä¸­ $T_0(x)=1, T_1(x)=x, T_k(x) = xT_{k-1}(x) - T_{k-2}(x)$ æ˜¯åˆ‡æ¯”é›ªå¤«å¤šé¡¹å¼çš„åŸºã€‚ä»¤ $\lambda_{\mathrm{max}}$ è¡¨ç¤º $\boldsymbol{L}$ æœ€å¤§çš„ç‰¹å¾å€¼ï¼Œ$\tilde{\boldsymbol{L}} = \frac{2}{\lambda_{\text{max}}} \boldsymbol{L - I}$ è¡¨ç¤ºå°†æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µçš„ç¼©æ”¾ï¼Œå°†ç‰¹å¾å€¼ä» $[0, \lambda_{\text{max}}]$ æ˜ å°„åˆ° $[-1, 1]$ï¼Œå› ä¸ºåˆ‡æ¯”é›ªå¤«å¤šé¡¹å¼ç”Ÿæˆäº†ä¸€ä¸ªåœ¨ $[-1, 1]$ å†…æ­£äº¤çš„åŸºã€‚å¼5å¯ä»¥çœ‹æˆä¸€ä¸ªå…³äº $\tilde{\boldsymbol{L}}$ çš„å¤šé¡¹å¼ï¼Œæˆ‘ä»¬ä¸€ä¼šå„¿å¯ä»¥çœ‹åˆ°ï¼ŒChebNet å·ç§¯çš„è¾“å‡ºå’Œæ‰©æ•£å·ç§¯åˆ°å¸¸æ•°ç¼©æ”¾å› å­çš„è¾“å‡ºç›¸ä¼¼ã€‚å‡è®¾ $\lambda_{\text{max}} = 2$ï¼Œæ— å‘å›¾ $\boldsymbol{D}_I = \boldsymbol{D}_O = \boldsymbol{D}$ã€‚</p><p>$\tilde{\boldsymbol{L}}$ å’Œè´Ÿçš„éšæœºæ¸¸èµ°è½¬ç§»çŸ©é˜µç›¸ä¼¼ï¼Œå› æ­¤å¼5çš„è¾“å‡ºä¹Ÿå’Œå¼2ç›´åˆ°å¸¸æ•°ç¼©æ”¾å› å­çš„è¾“å‡ºç›¸ä¼¼ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;æ‘˜è¦&quot;&gt;&lt;a href=&quot;#æ‘˜è¦&quot; class=&quot;headerlink&quot; title=&quot;æ‘˜è¦&quot;&gt;&lt;/a&gt;æ‘˜è¦&lt;/h1&gt;&lt;p&gt;äº¤é€šé¢„æµ‹çš„æŒ‘æˆ˜ï¼š1. å¯¹è·¯ç½‘å¤æ‚çš„ç©ºé—´ä¾èµ–å…³ç³»ï¼Œ 2. è·¯å†µå˜æ¢ä¸éçº¿æ€§çš„æ—¶é—´åŠ¨æ€æ€§ï¼Œ 3. é•¿æœŸé¢„æµ‹çš„å›°éš¾æ€§ã€‚æˆ‘ä»¬æå‡ºäº†åœ¨æœ‰å‘å›¾ä¸Šå¯¹äº¤é€šæµä»¥æ‰©æ•£å½¢å¼è¿›è¡Œå»ºæ¨¡çš„æ–¹æ³•ï¼Œä»‹ç»äº† &lt;em&gt;Diffusion Convolutional Recurrent Neural Network&lt;/em&gt;(DCRNN)ï¼Œç”¨äºäº¤é€šé¢„æµ‹çš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ŒåŒæ—¶é›†æˆäº†äº¤é€šæµä¸­çš„ç©ºé—´ä¸æ—¶é—´ä¾èµ–ã€‚DCRNN ä½¿ç”¨å›¾ä¸Šçš„åŒå‘éšæœºæ¸¸èµ°æ•è·äº†ç©ºé—´ä¾èµ–ï¼Œä½¿ç”¨ç¼–ç è§£ç æ¡†æ¶ä»¥åŠ scheduled sampling æ•è·æ—¶é—´ä¾èµ–ã€‚æˆ‘ä»¬åœ¨ä¸¤ä¸ªçœŸå®çš„äº¤é€šæ•°æ®é›†ä¸Šè¯„ä¼°äº†æ¨¡å‹ï¼Œæ¯” state-of-the-art å¼ºäº†12%-15%ã€‚&lt;/p&gt;
&lt;h1 id=&quot;1-å¼•è¨€&quot;&gt;&lt;a href=&quot;#1-å¼•è¨€&quot; class=&quot;headerlink&quot; title=&quot;1 å¼•è¨€&quot;&gt;&lt;/a&gt;1 å¼•è¨€&lt;/h1&gt;</summary>
    
    
    
    <category term="è®ºæ–‡è¯¦è§£" scheme="https://leezepeng.github.io/categories/%E8%AE%BA%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
    
    
    <category term="è®ºæ–‡è¯¦è§£" scheme="https://leezepeng.github.io/tags/%E8%AE%BA%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
    
    <category term="äº¤é€šæµ" scheme="https://leezepeng.github.io/tags/%E4%BA%A4%E9%80%9A%E6%B5%81/"/>
    
  </entry>
  
  <entry>
    <title>Deep Learning è¯»ä¹¦ç¬”è®° ç¬¬ä¸€ç«  å¼•è¨€ï¼ˆä¸€ï¼‰</title>
    <link href="https://leezepeng.github.io/2021/03/13/Deep-Learning-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%BC%95%E8%A8%80%EF%BC%88%E4%B8%80%EF%BC%89/"/>
    <id>https://leezepeng.github.io/2021/03/13/Deep-Learning-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%BC%95%E8%A8%80%EF%BC%88%E4%B8%80%EF%BC%89/</id>
    <published>2021-03-13T08:50:01.000Z</published>
    <updated>2021-03-13T08:51:11.876Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_43714954/article/details/88673194?spm=1001.2014.3001.5501">Deep Learning è¯»ä¹¦ç¬”è®° ç¬¬ä¸€ç«  å¼•è¨€ï¼ˆä¸€ï¼‰</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43714954/article/details/88673194?spm=1001.2014.3001.5501&quot;&gt;Deep Learning è¯»ä¹¦ç¬”è®° ç¬¬ä¸€ç«  å¼•è¨€ï¼ˆä¸€ï¼‰&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://leezepeng.github.io/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="æ·±åº¦å­¦ä¹ åˆæ¢" scheme="https://leezepeng.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%8E%A2/"/>
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://leezepeng.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>CSDN-Deep Learning è¯»ä¹¦ç¬”è®° ç¬¬ä¸€ç«  æ·±åº¦å­¦ä¹ çš„å†å²è¶‹åŠ¿</title>
    <link href="https://leezepeng.github.io/2021/03/13/CSDN-Deep-Learning-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%8E%86%E5%8F%B2%E8%B6%8B%E5%8A%BF/"/>
    <id>https://leezepeng.github.io/2021/03/13/CSDN-Deep-Learning-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%8E%86%E5%8F%B2%E8%B6%8B%E5%8A%BF/</id>
    <published>2021-03-13T08:48:30.000Z</published>
    <updated>2021-03-13T08:49:19.710Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_43714954/article/details/88728511?spm=1001.2014.3001.5501">Deep Learning è¯»ä¹¦ç¬”è®° ç¬¬ä¸€ç«  æ·±åº¦å­¦ä¹ çš„å†å²è¶‹åŠ¿</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43714954/article/details/88728511?spm=1001.2014.3001.5501&quot;&gt;Deep Learning è¯»ä¹¦ç¬”è®° ç¬¬ä¸€ç«  æ·±åº¦å­¦ä¹ çš„å†å²è¶‹åŠ¿&lt;/a&gt;&lt;/p&gt;</summary>
      
    
    
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://leezepeng.github.io/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="æ·±åº¦å­¦ä¹ åˆæ¢" scheme="https://leezepeng.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%88%9D%E6%8E%A2/"/>
    
    <category term="è¯»ä¹¦ç¬”è®°" scheme="https://leezepeng.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>CSDN-é—¨æ§å›¾ç¥ç»ç½‘ç»œåŠPyTorchå®ç°</title>
    <link href="https://leezepeng.github.io/2021/03/13/CSDN-%E9%97%A8%E6%8E%A7%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8F%8APyTorch%E5%AE%9E%E7%8E%B0/"/>
    <id>https://leezepeng.github.io/2021/03/13/CSDN-%E9%97%A8%E6%8E%A7%E5%9B%BE%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%8F%8APyTorch%E5%AE%9E%E7%8E%B0/</id>
    <published>2021-03-13T08:45:20.000Z</published>
    <updated>2021-03-13T08:47:45.542Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/weixin_43714954/article/details/100154348?spm=1001.2014.3001.5501">é—¨æ§å›¾ç¥ç»ç½‘ç»œåŠPyTorchå®ç°</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/weixin_43714954/article/details/100154348?spm=1001.2014.3001.5501&quot;&gt;é—¨æ§å›¾ç¥ç»ç½‘ç»œåŠPyTorchå®ç°&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="è®ºæ–‡è¯¦è§£" scheme="https://leezepeng.github.io/categories/%E8%AE%BA%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
    
    
    <category term="CSDN" scheme="https://leezepeng.github.io/tags/CSDN/"/>
    
    <category term="è®ºæ–‡è¯¦è§£" scheme="https://leezepeng.github.io/tags/%E8%AE%BA%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>æš‘æœŸaifashioné¡¹ç›®-Dressing as a Whole: Outfit Compatibility Learning Based on Node-wise Graph Neural Networks</title>
    <link href="https://leezepeng.github.io/2021/03/13/%E6%9A%91%E6%9C%9Faifashion%E9%A1%B9%E7%9B%AE-Dressing-as-a-Whole-Outfit-Compatibility-Learning-Based-on-Node-wise-Graph-Neural-Networks/"/>
    <id>https://leezepeng.github.io/2021/03/13/%E6%9A%91%E6%9C%9Faifashion%E9%A1%B9%E7%9B%AE-Dressing-as-a-Whole-Outfit-Compatibility-Learning-Based-on-Node-wise-Graph-Neural-Networks/</id>
    <published>2021-03-13T07:20:30.000Z</published>
    <updated>2021-03-13T08:46:40.760Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å›½å†…å¤–ç ”ç©¶çš„ä¸è¶³ï¼š"><a href="#å›½å†…å¤–ç ”ç©¶çš„ä¸è¶³ï¼š" class="headerlink" title="å›½å†…å¤–ç ”ç©¶çš„ä¸è¶³ï¼š"></a>å›½å†…å¤–ç ”ç©¶çš„ä¸è¶³ï¼š</h2><h3 id="å¯¹å…¼å®¹æ€§çš„è¯„ä¼°æ–¹æ³•çš„ä¸è¶³ï¼š"><a href="#å¯¹å…¼å®¹æ€§çš„è¯„ä¼°æ–¹æ³•çš„ä¸è¶³ï¼š" class="headerlink" title="å¯¹å…¼å®¹æ€§çš„è¯„ä¼°æ–¹æ³•çš„ä¸è¶³ï¼š"></a>å¯¹å…¼å®¹æ€§çš„è¯„ä¼°æ–¹æ³•çš„ä¸è¶³ï¼š</h3><ul><li>McAuleyç­‰äººä½¿ç”¨ä½ç§©é©¬æ°å˜æ¢(LMT)å°†å•å“æ˜ å°„åˆ°ä¸€ä¸ªæ½œåœ¨ç©ºé—´ï¼Œåœ¨è¿™ä¸ªç©ºé—´ä¸­ï¼Œå¯å…¼å®¹çš„ç‰©å“è·ç¦»æ›´è¿‘ã€‚    </li><li>Veitç­‰äººæå‡ºä½¿ç”¨ç«¯åˆ°ç«¯SiameseCNNså­¦ä¹ è·ç¦»åº¦é‡ã€‚</li><li>è¿˜æœ‰ä¸€äº›ç ”ç©¶å°†å•å“æ˜ å°„åˆ°å¤šä¸ªæ½œåœ¨ç©ºé—´ä¸­ï¼Œå…±åŒå¯¹è¿™äº›æ½œåœ¨ç©ºé—´ä¸­çš„è·ç¦»è¿›è¡Œå»ºæ¨¡ï¼Œä»è€Œå¯ä»¥è¡¡é‡ç‰©å“åœ¨ä¸åŒæ–¹é¢çš„ç›¸å®¹æ€§ã€‚</li></ul><p>è¿™äº›æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç¼ºé™·ï¼Œ<strong>è¿™äº›å·¥ä½œåªæ³¨é‡ä¸¤ä¸¤å•å“çš„æ­é…ï¼Œè€Œä¸æ˜¯æ•´ä½“çš„æ­é…ã€‚</strong></p><h3 id="å¯¹å•å“é—´å…³ç³»è¡¨è¾¾çš„ä¸è¶³ï¼š"><a href="#å¯¹å•å“é—´å…³ç³»è¡¨è¾¾çš„ä¸è¶³ï¼š" class="headerlink" title="å¯¹å•å“é—´å…³ç³»è¡¨è¾¾çš„ä¸è¶³ï¼š"></a>å¯¹å•å“é—´å…³ç³»è¡¨è¾¾çš„ä¸è¶³ï¼š</h3><span id="more"></span><ul><li>Liç­‰äººä»é¡¹ç›®ä¸­æå–å¤šæ¨¡æ€ä¿¡æ¯ï¼Œå¹¶ç”¨å¾ªç¯ç¥ç»ç½‘ç»œ(RNN)[17]è¯„ä¼°è£…å¤‡çš„å…¼å®¹æ€§ã€‚</li><li>Hanç­‰äººå°†ä¸€å¥—æœè£…è¡¨ç°ä¸ºå…·æœ‰ç‰¹å®šé¡ºåºçš„åºåˆ—ã€‚ç„¶åä½¿ç”¨åŒå‘LSTMsæ¥é¢„æµ‹ä¸‹ä¸€ä»¶ç‰©å“ï¼ŒåŒæ—¶ä¹Ÿé¢„æµ‹äº†å¥—è£…çš„å…¼å®¹æ€§åˆ†æ•°ã€‚</li></ul><p>è¿™äº›æ–¹æ³•ä¹Ÿæœ‰ä¸ªå…±åŒç¼ºé™·ï¼Œ<strong>å•å“çš„é¡ºåºä¸å­˜åœ¨å›ºå®šçš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæœè£…ä¸­ç‰©å“ä¹‹é—´çš„å…³ç³»å¹¶ä¸æ˜¯æœ‰åºçš„ï¼Œå› ä¸ºç‰©å“åœ¨åºåˆ—ä¸­ä¸ä»…ä¸å…¶å‰é¢çš„å•å“æœ‰å…³ç³»ä¸åé¢çš„å•å“ä¹Ÿæœ‰å…³ç³»ã€‚</strong></p><h3 id="å¯¹å›¾ç»“æ„æ•°æ®å¤„ç†æ–¹å¼çš„ä¸è¶³ï¼š"><a href="#å¯¹å›¾ç»“æ„æ•°æ®å¤„ç†æ–¹å¼çš„ä¸è¶³ï¼š" class="headerlink" title="å¯¹å›¾ç»“æ„æ•°æ®å¤„ç†æ–¹å¼çš„ä¸è¶³ï¼š"></a>å¯¹å›¾ç»“æ„æ•°æ®å¤„ç†æ–¹å¼çš„ä¸è¶³ï¼š</h3><h4 id="èŠ‚ç‚¹é—´çš„ä¿¡æ¯ä¼ é€’é—®é¢˜ï¼š"><a href="#èŠ‚ç‚¹é—´çš„ä¿¡æ¯ä¼ é€’é—®é¢˜ï¼š" class="headerlink" title="èŠ‚ç‚¹é—´çš„ä¿¡æ¯ä¼ é€’é—®é¢˜ï¼š"></a>èŠ‚ç‚¹é—´çš„ä¿¡æ¯ä¼ é€’é—®é¢˜ï¼š</h4><p>Goriç­‰äººé¦–å…ˆæå‡ºäº†å›¾ç¥ç»ç½‘ç»œ(GNN)ï¼Œå°†å‰é¦ˆç¥ç»ç½‘ç»œé€’å½’åº”ç”¨äºå›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚èŠ‚ç‚¹é€šè¿‡ä¼ é€’å®ƒä»¬çš„çŠ¶æ€ä¿¡æ¯ä¸å…¶ä»–èŠ‚ç‚¹è¿›è¡Œäº¤äº’ã€‚Scarselliç­‰äººåˆ©ç”¨å¤šå±‚æ„ŸçŸ¥(MLP)æ›´æ–°èŠ‚ç‚¹çš„éšè—çŠ¶æ€ã€‚ç„¶è€Œï¼Œåœ¨å›¾ä¸­<strong>ä¿¡æ¯çš„è¿œè·ç¦»ä¼ æ’­å­˜åœ¨é—®é¢˜</strong>ã€‚</p><h4 id="å›¾æ•°æ®å¤§ä¸”å¤æ‚å¯¼è‡´çš„é—®é¢˜ï¼š"><a href="#å›¾æ•°æ®å¤§ä¸”å¤æ‚å¯¼è‡´çš„é—®é¢˜ï¼š" class="headerlink" title="å›¾æ•°æ®å¤§ä¸”å¤æ‚å¯¼è‡´çš„é—®é¢˜ï¼š"></a>å›¾æ•°æ®å¤§ä¸”å¤æ‚å¯¼è‡´çš„é—®é¢˜ï¼š</h4><p>ä¸ºè§£å†³èŠ‚ç‚¹é—´ä¿¡æ¯çš„è¿œè·ç¦»ä¼ æ’­å¯¼è‡´ä¿¡æ¯æ¶ˆäº¡çš„é—®é¢˜ï¼ŒLiç­‰äººé€šè¿‡å¼•å…¥é—¨æ§é€’å½’å•å…ƒ(GRU)æ¥æ›´æ–°èŠ‚ç‚¹ï¼Œæå‡ºäº†é—¨æ§å›¾ç¥ç»ç½‘ç»œ(GGNN)ã€‚ç„¶è€Œï¼Œè¯¥ç®—æ³•<strong>ä»…é€‚ç”¨äºæ— å‘å›¾ï¼Œä¸èƒ½æ¨¡æ‹Ÿä¸¤èŠ‚ç‚¹æœ‰å‘è¾¹ä¹‹é—´å¤æ‚è€Œçµæ´»çš„ä¿¡æ¯ä¼ é€’ã€‚</strong></p><h2 id="æœ¬æ–‡çš„è´¡çŒ®"><a href="#æœ¬æ–‡çš„è´¡çŒ®" class="headerlink" title="æœ¬æ–‡çš„è´¡çŒ®"></a>æœ¬æ–‡çš„è´¡çŒ®</h2><p><strong>ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼Œä½œè€…æå‡ºäº†ä¸€ä¸ªæ–°çš„æ¨¡å‹**</strong>NGNN<strong>**ï¼Œå®ƒå¯ä»¥æ›´å¥½åœ°æ¨¡æ‹ŸèŠ‚ç‚¹çš„äº¤äº’ï¼Œä»è€Œæ›´å¥½åœ°ä»å›¾ä¸­æ¨æ–­å¥—è£…çš„å…¼å®¹æ€§ã€‚åœ¨NGNNä¸­ï¼Œæ¯æ¡è¾¹çš„çŠ¶æ€ä¿¡æ¯ä¼ é€’æ˜¯ä¸åŒçš„ã€‚å®ƒå¯ä»¥ç”¨èŠ‚ç‚¹çš„å‚æ•°æ¥å»ºæ¨¡æ²¿è¾¹çš„ä¿¡æ¯ä¼ é€’ã€‚</strong></p><ul><li>æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡å°è¯•ç”¨æœ¬æ–‡çš„å›¾ç»“æ„æ¥è¡¨ç¤ºå¥—è£…ï¼Œå®ƒå¯ä»¥æ›´å¥½åœ°æ•æ‰æœè£…ä¸­å¤šä¸ªå…ƒç´ ä¹‹é—´çš„å¤æ‚å…³ç³»ã€‚</li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªæ–°çš„æ¨¡å‹NGNNï¼Œå®ƒå¯ä»¥æ›´å¥½åœ°æ¨¡æ‹Ÿå›¾ä¸­çš„èŠ‚ç‚¹äº¤äº’ï¼Œå¹¶å­¦ä¹ æ›´å¥½çš„èŠ‚ç‚¹è¡¨ç¤ºã€‚åˆ©ç”¨NGNNï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥ä»<strong>è§†è§‰æˆ–æ–‡æœ¬</strong>çš„æ¨¡æ€ï¼Œè€Œä¸”å¯ä»¥ä»å¤šç§æ¨¡æ€å»ºæ¨¡æœè£…çš„å…¼å®¹æ€§ã€‚</li><li>åœ¨ä¸€ä¸ªçœŸå®æ•°æ®é›†(Polyvoreæ•°æ®é›†)ä¸Šçš„å®éªŒç»“æœè¯æ˜äº†æˆ‘ä»¬çš„æ–¹æ³•æ¯”å…¶ä»–æ–¹æ³•çš„å·¨å¤§ä¼˜è¶Šæ€§ã€‚</li></ul><h2 id="æµç¨‹æ€»è§ˆ"><a href="#æµç¨‹æ€»è§ˆ" class="headerlink" title="æµç¨‹æ€»è§ˆ"></a>æµç¨‹æ€»è§ˆ</h2><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597039788378-f0078c12-9f4f-4e65-9fc6-c8e23e0a2939.png?x-oss-process=image%2Fresize%2Cw_1028" alt="image.png"><br>å›¾1ï¼šNGNNæ¨¡å‹æ€»è§ˆ<br>é¦–å…ˆå°†å•å“ï¼ˆè¡£æœã€è£¤å­ã€é‹å­ã€åŒ…ï¼‰çš„<strong>å›¾ç‰‡åŠå…¶æ–‡æœ¬æè¿°</strong>ï¼ˆPolyvoreæ•°æ®é›†ä¸­æœ‰å¯¹å•å“æè´¨é¢œè‰²ç­‰æè¿°ï¼‰è¾“å…¥è¡¨ç¤ºå±‚ï¼Œå¾—åˆ°æ¯ä»¶å•å“çš„ç‰¹å¾å‘é‡ï¼Œå°†ç‰¹å¾å‘é‡ä¸æˆ‘ä»¬çš„å›¾ï¼ˆæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªç±»åˆ«ï¼Œæ¯æ¡è¾¹ä»£è¡¨ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„äº¤äº’ã€‚ä¸€å¥—æœè£…(å¦‚æ¯›è¡£ã€çŸ­è¡«ã€å‡‰é‹ã€è‚©åŒ…)å¯ä»¥ç”¨å­å›¾è¡¨ç¤ºã€‚ï¼‰å¯¹åº”èµ·æ¥ä½œä¸ºèŠ‚ç‚¹çš„ç‰¹å¾å‘é‡å¹¶æå–å­å›¾ï¼Œåˆ©ç”¨æ”¹è¿›çš„GGNNçš„ä¼ æ’­æ–¹æ³•è¿›è¡ŒèŠ‚ç‚¹é—´ä¿¡æ¯çš„ä¼ æ’­ï¼Œå°†ä¼ æ’­åçš„ç‰¹å¾å‘é‡é€šè¿‡æ³¨æ„åŠ›å±‚è®¡ç®—ç›¸å®¹æ€§è¯„åˆ†ã€‚</p><h2 id="å›¾çš„æ„å»º"><a href="#å›¾çš„æ„å»º" class="headerlink" title="å›¾çš„æ„å»º"></a>å›¾çš„æ„å»º</h2><ul><li>èŠ‚ç‚¹ï¼šå•å“ç±»åˆ«ï¼Œå¦‚å¤ªé˜³é•œï¼ŒçŸ­è£¤ï¼Œé¡¹é“¾ã€‚</li><li>èŠ‚ç‚¹å¯¹åº”ç‰¹å¾å‘é‡ï¼š<ol><li>è§†è§‰ç‰¹æ€§ï¼šåˆ©ç”¨é«˜çº§æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œGoogleNet InceptionV3æ¨¡å‹æå–è§†è§‰ç‰¹å¾ï¼Œå¹¶é‡‡ç”¨çº¿æ€§å±‚è¾“å‡ºä½œä¸ºè§†è§‰ç‰¹å¾ã€‚æ¯ä¸ªé¡¹ç›®çš„è§†è§‰ç‰¹å¾æ˜¯ä¸€ä¸ª2048ç»´çš„å‘é‡ã€‚</li><li>æ–‡æœ¬ç‰¹æ€§ï¼šé¦–å…ˆæ ¹æ®æ•°æ®é›†ä¸­æ ‡é¢˜çš„å•è¯æ„é€ ä¸€ä¸ªè¯æ±‡è¡¨ã€‚å› ä¸ºæœ‰å¾ˆå¤šæ— æ„ä¹‰çš„å•è¯ï¼Œæ¯”å¦‚â€œaâ€ã€â€œanâ€å’Œâ€œdeâ€ï¼Œæˆ‘ä»¬ä¼šè¿‡æ»¤æ‰å°‘äº3ä¸ªå­—ç¬¦çš„å•è¯ã€‚æœ€åï¼Œæˆ‘ä»¬è·å¾—äº†ä¸€ä¸ªåŒ…å«2757ä¸ªå•è¯çš„è¯æ±‡è¡¨ï¼Œå› æ­¤æˆ‘ä»¬å°†æ¯ä¸ªæ¡ç›®çš„æ–‡æœ¬ç‰¹å¾è¡¨ç¤ºä¸ºä¸€ä¸ª2757ç»´å¸ƒå°”å‘é‡ã€‚</li></ol></li><li>è¾¹ï¼šå¦‚æœä¸¤ç§å•å“ç±»åˆ«åœ¨æ•°æ®é›†ä¸­åŒæ—¶å‡ºç°ï¼Œåˆ™æ·»åŠ ä¸¤æ¡æœ‰å‘è¾¹ï¼Œå› ä¸ºä¸¤ä¸ªæ–¹å‘ä¸Šçš„äº¤äº’ä½œç”¨åº”è¯¥æ˜¯ä¸åŒçš„ã€‚æ¯”å¦‚æˆ‘ä»¬ä¸ä¼šä¸ºäº†åŒ¹é…ä¸€åŒè¢œå­è€Œä¹°é‹å­ï¼Œè€Œæ˜¯ä¸ºäº†åŒ¹é…ä¸€åŒé‹å­è€Œä¹°è¢œå­ã€‚</li><li>è¾¹çš„æƒé‡è®¡ç®—ï¼šåˆ©ç”¨è¯é¢‘çš„æ–¹æ³•ï¼š</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597041336396-d9edb972-43ea-4446-be4d-8e49eb75e0e1.png" alt="image.png" style="zoom:70%;" />(1)<br>å…¶ä¸­w(ni,nj)ä¸ºniåˆ°njçš„è¾¹æƒå€¼ï¼ŒCountcicj ä¸ºç±»åˆ«ciå’Œcjå…±ç°é¢‘ç‡æ˜¯å¤šå°‘ï¼ŒCountcj ä¸ºç±»åˆ«cjçš„å‡ºç°é¢‘ç‡ã€‚</p><h2 id="Node-wise-Graph-Neural-Network"><a href="#Node-wise-Graph-Neural-Network" class="headerlink" title="Node-wise Graph Neural Network"></a>Node-wise Graph Neural Network</h2><h3 id="èŠ‚ç‚¹çš„åˆå§‹åŒ–"><a href="#èŠ‚ç‚¹çš„åˆå§‹åŒ–" class="headerlink" title="èŠ‚ç‚¹çš„åˆå§‹åŒ–"></a>èŠ‚ç‚¹çš„åˆå§‹åŒ–</h3><p>åœ¨NGNNä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹niéƒ½ä¸ä¸€ä¸ªéšè—çŠ¶æ€å‘é‡hiç›¸å…³è”ï¼Œå¹¶åŠ¨æ€æ›´æ–°ã€‚NGNNçš„è¾“å…¥æ˜¯å•å“çš„ç‰¹å¾å‘é‡(å›¾ç‰‡æˆ–æ–‡æœ¬çš„ç‰¹å¾å‘é‡)ï¼Œå¯ç”¨äºåˆå§‹åŒ–å¯¹åº”èŠ‚ç‚¹çš„çŠ¶æ€ã€‚å¯¹äºæ¯ä¸€å•å“viï¼Œæˆ‘ä»¬é¦–å…ˆå°†å…¶ç‰¹å¾fiæ˜ å°„åˆ°ä¸€ä¸ªå¤§å°ä¸ºdçš„æ½œåœ¨é£æ ¼ç©ºé—´ã€‚è€ƒè™‘åˆ°ç±»åˆ«ä¹‹é—´çš„å·®å¼‚ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªç±»åˆ«ciéƒ½æœ‰ä¸€ä¸ªçº¿æ€§æ˜ å°„çŸ©é˜µWihã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å•å“viåœ¨æ½œåœ¨ç©ºé—´ä¸­çš„è¡¨ç¤ºä¸º:<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597042454519-cae580b3-bf84-442a-b563-29fd7cd4a43b.png?x-oss-process=image%2Fresize%2Cw_94" alt="image.png" style="zoom:67%;" /><br><img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597042590414-972c82f3-d1fc-4f85-8241-f868958bcf4b.png?x-oss-process=image%2Fresize%2Cw_124" alt="image.png" style="zoom:67%;" /></p><p>å› æ­¤ï¼ŒèŠ‚ç‚¹çŠ¶æ€çš„å¤§å°ä¸ºdã€‚</p><h3 id="èŠ‚ç‚¹é—´ä¿¡æ¯ä¼ æ’­"><a href="#èŠ‚ç‚¹é—´ä¿¡æ¯ä¼ æ’­" class="headerlink" title="èŠ‚ç‚¹é—´ä¿¡æ¯ä¼ æ’­"></a>èŠ‚ç‚¹é—´ä¿¡æ¯ä¼ æ’­</h3><p>GGNNä¸æœ¬æ¨¡å‹çš„æ¯”è¾ƒï¼š<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597043017623-6d1f1aa1-ce45-4254-ad5b-b5d3fb696a69.png" alt="image.png"><br>å³è®©æ¯æ¡è¾¹éƒ½æœ‰è‡ªå·±çš„æƒå€¼å’Œåå·®Wpå’Œbpã€‚ä½†æ˜¯ï¼Œå®ƒä¼šå ç”¨å›¾ä¸­å¤§é‡è¾¹çš„å‚æ•°ç©ºé—´ï¼Œä¸èƒ½åº”ç”¨åœ¨å¤§å°ºåº¦å›¾ä¸Šã€‚ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¯¹äºNGNNä¸­çš„æ¯ä¸ªèŠ‚ç‚¹niï¼Œæˆ‘ä»¬å®šä¹‰è¾“å‡ºçŸ©é˜µWoutiå’Œä¸€ä¸ªè¾“å…¥çŸ©é˜µWiniã€‚<br>åŒæ ·çš„ï¼Œåœ¨æ¥æ”¶åˆ°çŠ¶æ€ä¿¡æ¯aitåï¼ŒèŠ‚ç‚¹niçš„çŠ¶æ€å°†æ›´æ–°ä¸º:<br><img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597044053826-80e2fc73-aa1b-448b-a8ff-a6483a39ac2c.png" alt="image.png"><br>å…¶ä¸­ï¼ŒWzã€Wrã€Whã€bzã€brã€bhä¸ºæ›´æ–°å‡½æ•°çš„æƒå€¼å’Œåå€¼ã€‚ç»è¿‡Tä¸ªä¼ æ’­æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°èŠ‚ç‚¹çš„æœ€ç»ˆçŠ¶æ€ï¼Œè¿™ä¹Ÿæ˜¯èŠ‚ç‚¹çš„æœ€ç»ˆè¡¨ç¤ºã€‚</p><h3 id="åŸºäºæ³¨æ„æœºåˆ¶çš„å…¼å®¹æ€§è®¡ç®—"><a href="#åŸºäºæ³¨æ„æœºåˆ¶çš„å…¼å®¹æ€§è®¡ç®—" class="headerlink" title="åŸºäºæ³¨æ„æœºåˆ¶çš„å…¼å®¹æ€§è®¡ç®—"></a>åŸºäºæ³¨æ„æœºåˆ¶çš„å…¼å®¹æ€§è®¡ç®—</h3><div  align="center"><img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597044189735-18d5a6a7-32b8-4678-afc8-57740688c62f.png?x-oss-process=image%2Fresize%2Cw_230" alt="image.png" style="zoom:67%;" /></div><p>Î¸(Â·) å’Œ Î´(Â·)åˆ†åˆ«æ˜¯ä¸¤ä¸ªé‡è¦æ€§ç½‘ç»œï¼Œå‰è€…å­¦å‡ºæ¯ä¸ªå•å“çš„æƒé‡ï¼Œåè€…å­¦å‡ºå•å“çš„è¯„åˆ†ã€‚Î±(Â·) å’ŒÏƒ(Â·) æ˜¯ leaky relu å’Œ sigmoidå‡½æ•°ã€‚</p><h3 id="æŸå¤±å‡½æ•°"><a href="#æŸå¤±å‡½æ•°" class="headerlink" title="æŸå¤±å‡½æ•°"></a>æŸå¤±å‡½æ•°</h3><p>æœ¬æ–‡å°†æ•°æ®é›†ä¸­åŒæ—¶å‡ºç°çš„å•å“ä½œä¸ºæ­£æ ·æœ¬çš„é›†åˆ S+ï¼ŒæŠŠå•å“çš„éšæœºç»„åˆä½œä¸ºè´Ÿæ ·æœ¬çš„é›†åˆ S- ã€‚æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š</p><div align=center> <img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597044826770-377b8f82-bdc4-4f9b-81e6-8e925d8600f9.png" width = 30%/> </div><div align=center> <img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597044851756-51d9a66f-d276-48ec-b3bc-56cbc7ca6084.png" width = 30%/> </div><p>å¯¹äºæ—¢è¾“å…¥å›¾ç‰‡ç‰¹å¾ï¼Œåˆè¾“å…¥æ–‡æœ¬ç‰¹å¾çš„æƒ…å†µï¼š</p><div align=center> <img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597044984089-fd19368a-075c-4355-9fc1-ea85b0689c83.png" width = 30%/> </div><div align=center> <img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597045007719-c7a16b2d-cea2-4428-9853-5b0f423083c0.png?x-oss-process=image%2Fresize%2Cw_244" width = 30%/> </div><p>rå·²ç»åœ¨ä¸Šæ–‡ä¸­å®šä¹‰ã€‚</p><h3 id="å®éªŒç»“æœ"><a href="#å®éªŒç»“æœ" class="headerlink" title="å®éªŒç»“æœ"></a>å®éªŒç»“æœ</h3><div align=center> <img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597045096603-7048b13e-b6a8-4f90-a2ee-48985596bd74.png" width = 60%/> </div><div align=center> <img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597045122733-fa10bf83-9261-4ee0-bf6c-fb0a606a9bd1.png" width = 30%/><img src="https://cdn.nlark.com/yuque/0/2020/png/1842325/1597045132882-289c08fa-7e5e-4263-a4c9-172323923dbe.png" width = 30%/> </div>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;å›½å†…å¤–ç ”ç©¶çš„ä¸è¶³ï¼š&quot;&gt;&lt;a href=&quot;#å›½å†…å¤–ç ”ç©¶çš„ä¸è¶³ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å›½å†…å¤–ç ”ç©¶çš„ä¸è¶³ï¼š&quot;&gt;&lt;/a&gt;å›½å†…å¤–ç ”ç©¶çš„ä¸è¶³ï¼š&lt;/h2&gt;&lt;h3 id=&quot;å¯¹å…¼å®¹æ€§çš„è¯„ä¼°æ–¹æ³•çš„ä¸è¶³ï¼š&quot;&gt;&lt;a href=&quot;#å¯¹å…¼å®¹æ€§çš„è¯„ä¼°æ–¹æ³•çš„ä¸è¶³ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å¯¹å…¼å®¹æ€§çš„è¯„ä¼°æ–¹æ³•çš„ä¸è¶³ï¼š&quot;&gt;&lt;/a&gt;å¯¹å…¼å®¹æ€§çš„è¯„ä¼°æ–¹æ³•çš„ä¸è¶³ï¼š&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;McAuleyç­‰äººä½¿ç”¨ä½ç§©é©¬æ°å˜æ¢(LMT)å°†å•å“æ˜ å°„åˆ°ä¸€ä¸ªæ½œåœ¨ç©ºé—´ï¼Œåœ¨è¿™ä¸ªç©ºé—´ä¸­ï¼Œå¯å…¼å®¹çš„ç‰©å“è·ç¦»æ›´è¿‘ã€‚    &lt;/li&gt;
&lt;li&gt;Veitç­‰äººæå‡ºä½¿ç”¨ç«¯åˆ°ç«¯SiameseCNNså­¦ä¹ è·ç¦»åº¦é‡ã€‚&lt;/li&gt;
&lt;li&gt;è¿˜æœ‰ä¸€äº›ç ”ç©¶å°†å•å“æ˜ å°„åˆ°å¤šä¸ªæ½œåœ¨ç©ºé—´ä¸­ï¼Œå…±åŒå¯¹è¿™äº›æ½œåœ¨ç©ºé—´ä¸­çš„è·ç¦»è¿›è¡Œå»ºæ¨¡ï¼Œä»è€Œå¯ä»¥è¡¡é‡ç‰©å“åœ¨ä¸åŒæ–¹é¢çš„ç›¸å®¹æ€§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç¼ºé™·ï¼Œ&lt;strong&gt;è¿™äº›å·¥ä½œåªæ³¨é‡ä¸¤ä¸¤å•å“çš„æ­é…ï¼Œè€Œä¸æ˜¯æ•´ä½“çš„æ­é…ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;å¯¹å•å“é—´å…³ç³»è¡¨è¾¾çš„ä¸è¶³ï¼š&quot;&gt;&lt;a href=&quot;#å¯¹å•å“é—´å…³ç³»è¡¨è¾¾çš„ä¸è¶³ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å¯¹å•å“é—´å…³ç³»è¡¨è¾¾çš„ä¸è¶³ï¼š&quot;&gt;&lt;/a&gt;å¯¹å•å“é—´å…³ç³»è¡¨è¾¾çš„ä¸è¶³ï¼š&lt;/h3&gt;</summary>
    
    
    
    <category term="è®ºæ–‡è¯¦è§£" scheme="https://leezepeng.github.io/categories/%E8%AE%BA%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
    
    
    <category term="è®ºæ–‡è¯¦è§£" scheme="https://leezepeng.github.io/tags/%E8%AE%BA%E6%96%87%E8%AF%A6%E8%A7%A3/"/>
    
    <category term="aifashion" scheme="https://leezepeng.github.io/tags/aifashion/"/>
    
  </entry>
  
  <entry>
    <title>æš‘æœŸaifashioné¡¹ç›®-æ¨¡å‹æ€»ä½“æµç¨‹</title>
    <link href="https://leezepeng.github.io/2021/03/13/%E6%9A%91%E6%9C%9Faifashion%E9%A1%B9%E7%9B%AE-%E6%A8%A1%E5%9E%8B%E6%80%BB%E4%BD%93%E6%B5%81%E7%A8%8B/"/>
    <id>https://leezepeng.github.io/2021/03/13/%E6%9A%91%E6%9C%9Faifashion%E9%A1%B9%E7%9B%AE-%E6%A8%A1%E5%9E%8B%E6%80%BB%E4%BD%93%E6%B5%81%E7%A8%8B/</id>
    <published>2021-03-13T07:04:48.000Z</published>
    <updated>2021-03-13T07:14:46.112Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://imgtu.com/i/6d2u7D"><img src="https://s3.ax1x.com/2021/03/13/6d2u7D.png" alt="6d2u7D.png"></a></p><p>é¦–å…ˆå°†äººå·¥æ ‡æ³¨ä¸Polyvoreæ•°æ®é›†çš„çŸ¥è¯†èåˆè·å¾—çŸ¥è¯†å›¾è°±ï¼Œä¸æ­¤åŒæ—¶åˆ©ç”¨æ®‹å·®ç¥ç»ç½‘ç»œåˆ†åˆ«æå–äººçš„ä¸Šè¡£ï¼Œä¸‹è¡£ï¼ˆæˆ–å…¨èº«ï¼‰ï¼Œè„¸å½¢ï¼Œä½“å‹å¯¹åº”çš„å…·ä½“å±æ€§ï¼ˆå¦‚å°èŠ±ï¼Œæ–¹å‹è„¸ï¼‰å¯¹åº”çš„ç‰¹å¾å‘é‡ï¼Œå°†å…·ä½“å±æ€§åœ¨çŸ¥è¯†å›¾è°±ä¸­å®ä¾‹åŒ–ï¼ˆå½©è‰²å³ä¸ºå®ä¾‹åŒ–åçš„èŠ‚ç‚¹ï¼‰å¹¶ä¸çŸ¥è¯†å›¾è°±çš„ç‰¹å¾å‘é‡æ‹¼æ¥ï¼Œè·å¾—ç¬¬ä¸‰å±‚ï¼ˆé»„è‰²ï¼šå…·ä½“ç‰¹å¾å±‚ï¼‰æ‰€æœ‰èŠ‚ç‚¹ç»“åˆäº†çŸ¥è¯†å›¾è°±è¯­ä¹‰ä¿¡æ¯å’Œæ®‹å·®ç¥ç»ç½‘ç»œçš„å›¾åƒä¿¡æ¯çš„ç‰¹å¾å‘é‡ã€‚å¯¹ç¬¬ä¸‰å±‚åˆ©ç”¨GGNNæ¨¡å‹è¿›è¡Œä¿¡æ¯ä¼ æ’­ä¸æ›´æ–°ï¼Œæ›´æ–°Tè½®ååˆ©ç”¨Diff-Poolingçš„æ–¹æ³•å°†ç¬¬ä¸‰å±‚èŠ‚ç‚¹ä¿¡æ¯æ˜ å°„è‡³ç¬¬äºŒå±‚èŠ‚ç‚¹ï¼ˆæ©™è‰²ï¼šå•å“å±‚ï¼‰ï¼Œæœ€åå°†å•å“å±‚æ‰€æœ‰èŠ‚ç‚¹çš„ç‰¹å¾å‘é‡æ‹¼æ¥ï¼Œé€šè¿‡å…¨è¿æ¥ç¥ç»ç½‘ç»œè®¡ç®—å‡ºç¬¬ä¸€å±‚ï¼ˆç°è‰²ï¼šå¥—è£…å±‚ï¼‰çš„Compabilityè¯„åˆ†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://imgtu.com/i/6d2u7D&quot;&gt;&lt;img src=&quot;https://s3.ax1x.com/2021/03/13/6d2u7D.png&quot; alt=&quot;6d2u7D.png&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå°†äººå·¥æ ‡æ³¨ä¸Polyvoreæ•°æ®</summary>
      
    
    
    
    <category term="aifasion" scheme="https://leezepeng.github.io/categories/aifasion/"/>
    
    
    <category term="aifashion" scheme="https://leezepeng.github.io/tags/aifashion/"/>
    
    <category term="æ¨¡å‹æµç¨‹" scheme="https://leezepeng.github.io/tags/%E6%A8%A1%E5%9E%8B%E6%B5%81%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>æ–°çš„å¼€å§‹</title>
    <link href="https://leezepeng.github.io/2021/03/13/hello-world/"/>
    <id>https://leezepeng.github.io/2021/03/13/hello-world/</id>
    <published>2021-03-13T02:57:00.000Z</published>
    <updated>2021-03-13T03:04:41.838Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ˜¯åšå®¢è¯ç”Ÿçš„ç¬¬ä¸€å¤©ï¼Œå…ˆå‰çš„ä¸€äº›CSDNä¸Šï¼Œè¯­é›€ä¸Šçš„åšå®¢ä¼šè¢«æ•´åˆè¿›è¿™é‡Œï¼Œä»å¤§ä¸€å¼€å§‹åšäº†2å¹´å¤šçš„æ·±åº¦å­¦ä¹ ï¼Œå¾ˆæ„Ÿè°¢æŒ‡å¯¼æˆ‘çš„è€å¸ˆä»¥åŠå¸ˆå…„å¸ˆå§ä»¬ï¼Œåœ¨å¤§ä¸‰é¢ä¸´ç€è¯»ç ”è¿˜æ˜¯å·¥ä½œçš„åå­—è·¯å£ï¼Œæˆ‘è¿˜æ˜¯å†³å®šä»ç°åœ¨å¼€å§‹è®°å½•æˆ‘çš„javaå­¦ä¹ è¿‡ç¨‹æ¥åº”å¯¹ç§‹æ‹›å’Œå¤ä»¤è¥ï¼Œä¸­é—´ä¼šç©¿æ’ä¸€äº›æ¨¡å‹å‹ç¼©çš„è®ºæ–‡è§£æï¼ˆæ¯å‘¨è®ºæ–‡æ±‡æŠ¥ä¸èƒ½å°‘ï¼‰ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œç°åœ¨å¼€å§‹ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä»Šå¤©æ˜¯åšå®¢è¯ç”Ÿçš„ç¬¬ä¸€å¤©ï¼Œå…ˆå‰çš„ä¸€äº›CSDNä¸Šï¼Œè¯­é›€ä¸Šçš„åšå®¢ä¼šè¢«æ•´åˆè¿›è¿™é‡Œï¼Œä»å¤§ä¸€å¼€å§‹åšäº†2å¹´å¤šçš„æ·±åº¦å­¦ä¹ ï¼Œå¾ˆæ„Ÿè°¢æŒ‡å¯¼æˆ‘çš„è€å¸ˆä»¥åŠå¸ˆå…„å¸ˆå§ä»¬ï¼Œåœ¨å¤§ä¸‰é¢ä¸´ç€è¯»ç ”è¿˜æ˜¯å·¥ä½œçš„åå­—è·¯å£ï¼Œæˆ‘è¿˜æ˜¯å†³å®šä»ç°åœ¨å¼€å§‹è®°å½•æˆ‘çš„javaå­¦ä¹ è¿‡ç¨‹æ¥åº”å¯¹ç§‹æ‹›å’Œå¤ä»¤è¥ï¼Œä¸­é—´ä¼šç©¿æ’ä¸€äº›æ¨¡å‹å‹ç¼©çš„è®ºæ–‡è§£æï¼ˆ</summary>
      
    
    
    
    <category term="æ‚è°ˆ" scheme="https://leezepeng.github.io/categories/%E6%9D%82%E8%B0%88/"/>
    
    
    <category term="æ‚è°ˆ" scheme="https://leezepeng.github.io/tags/%E6%9D%82%E8%B0%88/"/>
    
    <category term="ç¬¬ä¸€ç¯‡åšå®¢" scheme="https://leezepeng.github.io/tags/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
</feed>
